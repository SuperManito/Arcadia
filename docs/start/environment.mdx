---
title: 运行环境
---
import { Icon } from '@site/src/components/Icon';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

如果你对相关技术不是很熟悉那么请认真学习以下内容

## 安装语言环境

<Tabs>
  <TabItem value="js&ts" label="JavaScript / TypeScript">

    <Tabs>
      <TabItem value="nodejs" label="Node.js">

      ```bash
      NODE_VERSION=20 # 指定安装版本（自行修改）
      apt-get update && apt-get install -y ca-certificates curl gnupg
      curl -fsSL https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key | gpg --dearmor -o /etc/apt/keyrings/nodesource.gpg
      echo "deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_${NODE_VERSION}.x nodistro main" | tee /etc/apt/sources.list.d/nodesource.list
      apt-get update && apt-get install nodejs -y
      ```
      :::warning
      已预装，底层功能依赖请勿卸载，否则会导致项目无法正常运行
      :::
      > 默认安装的是 LTS 版本，需要安装指定版本时可借鉴该命令

      </TabItem>

      <TabItem value="ts-nopde" label="ts-node">

      ```bash
      npm install -g typescript ts-node
      ```
      > **ts-node** 是项目当前运行 `.ts` 代码文件的默认引擎，因为 Node.js 对于运行 TypeScript 文件的功能仍处在实验阶段，另外你也可以使用 **Bun**。

      </TabItem>

      <TabItem value="bun" label="Bun">

      ```bash
      # 建议分步执行以下命令
      apt-get update && apt-get install -y unzip
      curl -fsSL https://bun.sh/install | bash # 失败时请自行解决网络环境等问题
      bash
      ln -sf $(which bun) /usr/local/bin/bun
      ```
      > [Bun](https://bun.sh) 是一个 JavaScript 运行时环境，可以替代默认的 Node.js 和 ts-node，以速度快、性能高著称  
      > 建议采用官方默认提供的安装方法，另外如果你通过其它方法安装那么需要在处理 `PATH` 时设置 `/usr/local/bin` 的软链接

      </TabItem>
    </Tabs>

  </TabItem>

  <TabItem value="python" label="Python">

  ```bash
  apt-get update && apt-get install -y python3 python3-pip
  ```
  :::warning
  已预装，底层功能依赖请勿卸载，否则会导致项目无法正常运行
  :::

  若想安装指定版本请自行搜索相关教程，重装后需要执行 `pip3 install yq --no-cache-dir --break-system-packages` 安装 `yq` 依赖库（底层功能需要）

  </TabItem>

  <TabItem value="go" label="Go">

  ```bash
  apt-get update && apt-get install -y go
  ```

  </TabItem>

  <TabItem value="lua" label="Lua">

  ```bash
  apt-get update && apt-get install -y lua5.4 luarocks
  ```

  </TabItem>

  <TabItem value="ruby" label="Ruby">

  ```bash
  apt-get update && apt-get install -y ruby
  ```

  </TabItem>

  <TabItem value="rust" label="Rust">

  ```bash
  # 建议分步执行以下命令
  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh # 失败时请自行解决网络环境等问题
  bash
  ln -sf $(which rustc) /usr/local/bin/rustc
  ln -sf $(which cargo) /usr/local/bin/cargo
  cargo install cargo-script # 失败时请自行解决网络环境等问题
  ```
  > 建议采用官方默认提供的安装方法，因为通过 `apt` 包管理工具安装的版本较低，另外如果你通过其它方法安装那么需要在处理 `PATH` 时设置 `/usr/local/bin` 的软链接

  </TabItem>

  <TabItem value="c" label="C">

  ```bash
  apt-get update && apt-get install -y gcc
  ```
  :::warning
  已预装，底层功能依赖请勿卸载，否则会导致项目无法正常运行
  :::

  </TabItem>

  <TabItem value="perl" label="Perl">

  ```bash
  apt-get update && apt-get install -y perl
  ```
  :::warning
  已预装，底层功能依赖请勿卸载，否则会导致项目无法正常运行
  :::

  </TabItem>
</Tabs>


## 解决依赖

<Tabs>
  <TabItem value="js&ts" label="JavaScript 和 TypeScript (Node.js / ts-node / Bun)" default>

  适用文件类型 `.js` `.mjs` `.cjs` 和 `.ts`

  ```bash
  npm install -g <xxx>
  ```
  :::tip
  当运行报错提示 `need module xxx` 类似字样说明缺少代码运行所需的依赖，对应 `xxx` 的位置就是缺失的依赖名称  
  如果依赖名称中开头为 `/` 则表示本地模块文件，否则一般为 <Icon size="18">logos\:npm-icon</Icon> [NPM](https://www.npmjs.com) 上的第三方库
  :::

  默认命令 `npm install <xxx>` 安装的依赖库是相对位置的，可以解决代码使用不同版本依赖库的问题  
  使用 `-g` 命令选项代表全局安装即不需要解决目录关系，因为一般来说这样安装更省事

  当然，你也可以使用 `pnpm` 或 `yarn` 等包管理工具，使用 `Bun` 时建议使用官方的 `bun install` 命令

  </TabItem>

  <TabItem value="py" label="Python">

  适用文件类型 `.py`

  ```bash
  pip3 install <xxx> --no-cache-dir --break-system-packages
  ```

  </TabItem>

  <TabItem value="go" label="Go">

  适用文件类型 `.go`

  ```bash
  go get -u xxx
  ```

  </TabItem>

  <TabItem value="lua" label="Lua">

  适用文件类型 `.lua`

  ```bash
  luarocks install <xxx>
  ```

  </TabItem>

  <TabItem value="rb" label="Ruby">

  适用文件类型 `.rb`

  ```bash
  gem install <xxx>
  ```

  </TabItem>

  <TabItem value="rs" label="Rust">

  适用文件类型 `.rs`

  1. 在 `Cargo.toml` 文件中添加依赖：

  ```toml
  [dependencies]
  <xxx> = "<version>"
  ```

  2. 运行以下命令安装依赖：

  ```bash
  cargo build
  ```

  或者仅安装依赖而不构建项目：

  ```bash
  cargo check
  ```

  </TabItem>

  <TabItem value="pl" label="Perl">

  适用文件类型 `.pl` `.pm`，建议使用 `cpanm`，安装命令 `cpan App::cpanminus`

  ```bash
  cpanm <xxx>
  ```

  </TabItem>
</Tabs>

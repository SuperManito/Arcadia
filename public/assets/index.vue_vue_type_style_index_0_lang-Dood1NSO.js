import{a7 as s,aK as n,av as a,I as E,a8 as G,a9 as t,aa as e,aL as h,u as i,aS as l,ay as C,aT as P,bu as Z,bK as K,bj as U,K as X,A as O,aP as Q,D as m,G as M,aQ as J,aG as Y,bO as ee}from"./vendor-CVUNLYN4.js";import{a as te,i as p,h as le,s as oe,j as ae}from"./index-BW0Kz9QR.js";import{l as se}from"./useTextMate-BU0ngBPz.js";import{u as ie}from"./useDesign-DCKbhR-1.js";import{u as ne}from"./useAppInject-Dal6O7k8.js";import{p as g}from"./propTypes-CYyueTg3.js";const re={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},de=a("path",{fill:"currentColor",d:"M3 4h6.11l7.04 14H21v2h-6.12L7.84 6H3zm11 0h7v2h-7z"},null,-1),fe=[de];function ue(b,u){return s(),n("svg",re,[...fe])}const ce={name:"mdi-apple-keyboard-option",render:ue},_e={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},me=a("path",{fill:"currentColor",d:"M15 18v-6h2.17L12 6.83L6.83 12H9v6zM12 4l10 10h-5v6H7v-6H2z"},null,-1),ye=[me];function pe(b,u){return s(),n("svg",_e,[...ye])}const he={name:"mdi-apple-keyboard-shift",render:pe},ge={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},be=a("path",{fill:"currentColor",d:"M21 18q-.425 0-.712-.288T20 17V7q0-.425.288-.712T21 6t.713.288T22 7v10q0 .425-.288.713T21 18m-6.825-5H3q-.425 0-.712-.288T2 12t.288-.712T3 11h11.175L11.3 8.1q-.275-.275-.288-.687T11.3 6.7q.275-.275.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.687.275T11.3 17.3q-.3-.3-.3-.712t.3-.713z"},null,-1),Te=[be];function we(b,u){return s(),n("svg",ge,[...Te])}const ze={name:"material-symbols-keyboard-tab-rounded",render:we},ve={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ke=a("path",{fill:"currentColor",d:"M6 2a4 4 0 0 1 4 4v2h4V6a4 4 0 0 1 4-4a4 4 0 0 1 4 4a4 4 0 0 1-4 4h-2v4h2a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4v-2h-4v2a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4h2v-4H6a4 4 0 0 1-4-4a4 4 0 0 1 4-4m10 16a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2h-2zm-2-8h-4v4h4zm-8 6a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2v-2zM8 6a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2h2zm10 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2z"},null,-1),Le=[ke];function Me(b,u){return s(),n("svg",ve,[...Le])}const Ce={name:"mdi-apple-keyboard-command",render:Me},Se={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},xe=a("path",{fill:"currentColor",d:"M4 19q-.825 0-1.412-.587T2 17V7q0-.825.588-1.412T4 5h16q.825 0 1.413.588T22 7v10q0 .825-.587 1.413T20 19zm5-3h6q.425 0 .713-.288T16 15t-.288-.712T15 14H9q-.425 0-.712.288T8 15t.288.713T9 16m-3-6q.425 0 .713-.288T7 9t-.288-.712T6 8t-.712.288T5 9t.288.713T6 10m3 0q.425 0 .713-.288T10 9t-.288-.712T9 8t-.712.288T8 9t.288.713T9 10m3 0q.425 0 .713-.288T13 9t-.288-.712T12 8t-.712.288T11 9t.288.713T12 10m3 0q.425 0 .713-.288T16 9t-.288-.712T15 8t-.712.288T14 9t.288.713T15 10m3 0q.425 0 .713-.288T19 9t-.288-.712T18 8t-.712.288T17 9t.288.713T18 10M6 13q.425 0 .713-.288T7 12t-.288-.712T6 11t-.712.288T5 12t.288.713T6 13m3 0q.425 0 .713-.288T10 12t-.288-.712T9 11t-.712.288T8 12t.288.713T9 13m3 0q.425 0 .713-.288T13 12t-.288-.712T12 11t-.712.288T11 12t.288.713T12 13m3 0q.425 0 .713-.288T16 12t-.288-.712T15 11t-.712.288T14 12t.288.713T15 13m3 0q.425 0 .713-.288T19 12t-.288-.712T18 11t-.712.288T17 12t.288.713T18 13"},null,-1),qe=[xe];function $e(b,u){return s(),n("svg",Se,[...qe])}const Be={name:"material-symbols-keyboard-rounded",render:$e},Re={key:0},He={key:1},Oe={key:0},Ee={key:1},Ie={key:0},Ae={key:1},Ve={key:0},We={key:1},De={key:0},Fe={key:1},Ne={key:0},je={key:1},Ge={key:0},Pe={key:1},Ze={key:0},Ke={key:1},Ue={key:0},Xe={key:1},Qe={key:0},Je={key:1},Ye={key:0},et={key:1},tt=E({__name:"ShortcutsModal",setup(b){const{t:u}=te();return(y,$)=>{const S=Be,d=P,_=Ce,o=Z,w=ze,z=he,k=ce,x=K,v=U;return s(),G(v,{class:C({"apple-modal":i(p)()}),preset:"dialog",title:i(u)("editor.shortcuts.title"),style:{width:"fit-content","min-width":"480px"},"auto-focus":!1},{icon:t(()=>[e(d,{size:26},{default:t(()=>[e(S,{style:{"vertical-align":"0"}})]),_:1})]),default:t(()=>[e(x,{"single-column":"",bordered:!1,"bottom-bordered":!1},{default:t(()=>[a("tbody",null,[a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.indentLine")),1),i(p)()?(s(),n("td",Re,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" ] ")]),_:1}),l("  /  "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(w)]),_:1})]),_:1})])):(s(),n("td",He,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" ] ")]),_:1}),l("  /  "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" TAB ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.outdentLine")),1),i(p)()?(s(),n("td",Oe,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" [ ")]),_:1}),l("  /  "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(z)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(w)]),_:1})]),_:1})])):(s(),n("td",Ee,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" [ ")]),_:1}),l("  /  "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" SHIFT ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" TAB ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.toggleLineComment")),1),i(p)()?(s(),n("td",Ie,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" / ")]),_:1})])):(s(),n("td",Ae,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" / ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.find")),1),i(p)()?(s(),n("td",Ve,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" F ")]),_:1})])):(s(),n("td",We,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" F ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.replace")),1),i(p)()?(s(),n("td",De,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(k)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" F ")]),_:1})])):(s(),n("td",Fe,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" H ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.goToLine")),1),i(p)()?(s(),n("td",Ne,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" G ")]),_:1})])):(s(),n("td",je,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" G ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.cut")),1),i(p)()?(s(),n("td",Ge,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" X ")]),_:1})])):(s(),n("td",Pe,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" X ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.copy")),1),i(p)()?(s(),n("td",Ze,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" C ")]),_:1})])):(s(),n("td",Ke,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" C ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.paste")),1),i(p)()?(s(),n("td",Ue,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" V ")]),_:1})])):(s(),n("td",Xe,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" V ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.revoke")),1),i(p)()?(s(),n("td",Qe,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" Z ")]),_:1})])):(s(),n("td",Je,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" Z ")]),_:1})]))]),a("tr",null,[a("td",null,h(i(u)("editor.shortcuts.recover")),1),i(p)()?(s(),n("td",Ye,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(z)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{icon:t(()=>[e(d,null,{default:t(()=>[e(_)]),_:1})]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" Z ")]),_:1})])):(s(),n("td",et,[e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" CTRL ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" SHIFT ")]),_:1}),l(" + "),e(o,{size:"small",type:"primary",style:{"font-weight":"550"},bordered:!1},{default:t(()=>[l(" Z ")]),_:1})]))])])]),_:1})]),_:1},8,["class","title"])}}}),rt=E({__name:"index",props:{value:g.object.def({content:"",language:"plaintext"}),originValue:g.string.def(""),diffMode:g.bool.def(!1),wordWrap:g.oneOf(["on","off"]).def("off"),renderSideBySide:g.bool.def(!0),fontSize:g.number.def(0),readOnly:g.bool.def(!1),minimap:g.bool.def(!0),findBox:g.bool.def(!1)},setup(b,{expose:u}){const y=b,{value:$,originValue:S,diffMode:d,wordWrap:_,renderSideBySide:o,fontSize:w,readOnly:z,minimap:k,findBox:x}=X(y),{getIsMobile:v}=ne(),{getDarkMode:I}=le(),{prefixCls:q}=ie("monaco-editor"),B=O(),L=O(!1);let r=null;const R={maxTokenizationLineLength:2e4},H={fontFamily:oe.fontFamilyMono,fontSize:w.value||(v.value?13:15),fontLigatures:!0,lineNumbers:"on",lineNumbersMinChars:0,padding:{top:v.value?2:10},cursorStyle:"line",cursorBlinking:"smooth",cursorSmoothCaretAnimation:"off",unicodeHighlight:{ambiguousCharacters:!1,invisibleCharacters:!1},inlineSuggest:{enabled:!0,showToolbar:"onHover"},minimap:{enabled:k.value,autohide:!v.value},stickyScroll:{enabled:!0,maxLineCount:5},guides:{highlightActiveBracketPair:!0,bracketPairs:"active",bracketPairsHorizontal:"active"},letterSpacing:0,lineHeight:1.5,automaticLayout:!0,autoIndent:"full",quickSuggestionsDelay:200,roundedSelection:!0,glyphMargin:!1,smoothScrolling:!0,wordWrap:_.value,folding:!0,colorDecorators:!0,occurrencesHighlight:"off",readOnly:z.value,stopRenderingLineAfter:1e4},A={hideUnchangedRegions:{contextLineCount:3,enabled:!0,minimumLineCount:3,revealLineCount:20},diffWordWrap:_.value,useInlineViewWhenSpaceIsLimited:!1,ignoreTrimWhitespace:!1,renderSideBySide:o.value};Q(async()=>{["javascript","json"].forEach(c=>{m.createModel("",c).dispose()}),await se(ee);const f=B.value;f&&(d.value?(r=m.createDiffEditor(f,{...R,...H,...A,lineDecorationsWidth:11}),r.setModel({original:m.createModel(y.originValue,y.value.language||"plaintext"),modified:m.createModel(y.value.content,y.value.language||"plaintext")})):(r=m.create(f,{...R,...H,value:y.value.content,language:y.value.language||"plaintext",lineDecorationsWidth:0}),r.getModel().setEOL(m.EndOfLineSequence.LF)),ae(I.value))});const V=()=>{r&&(r.dispose(),m.getModels().forEach(f=>f.dispose()))},W=()=>r?d.value?r.getModifiedEditor().getValue():r.getValue():"",D=()=>{L.value=!0},F=()=>{if(r){const f=r.getModel();if(f){const c=f.getLineCount();r.revealLine(c,0)}}};return M($,async f=>{if(r)if(d.value){const c=r.getModel().modified;c&&c.getLanguageId()!==f.language&&m.setModelLanguage(c,f.language),r.setModel({original:m.createModel(y.originValue,f.language),modified:m.createModel(f.content,f.language)})}else{const c=r.getModel();c&&(c.getLanguageId()!==f.language&&m.setModelLanguage(c,f.language),c.setValue(f.content))}}),M(S,async f=>{r&&r.setModel({original:m.createModel(f,y.value.language),modified:m.createModel(y.value.content,y.value.language)})}),M([_,o,w,z,k],([f,c,T,N,j])=>{r&&r.updateOptions({wordWrap:f,renderSideBySide:c,fontSize:T,readOnly:N,minimap:{enabled:j}})}),M(x,()=>{r&&(d.value?(r.getOriginalEditor().getAction("actions.find").run(),r.getModifiedEditor().getAction("actions.find").run()):r.getAction("actions.find").run())}),J(()=>{r.dispose()}),u({getValue:W,dispose:V,showShortCuts:D,scrollToBottom:F}),(f,c)=>(s(),n("div",{class:C([i(q)])},[a("div",{class:C(`${i(q)}-toolbar`)},null,2),a("div",{ref_key:"MonacoEditorRef",ref:B,class:C(`${i(q)}-edit-content`)},null,2),e(tt,{show:i(L),"onUpdate:show":c[0]||(c[0]=T=>Y(L)?L.value=T:null)},null,8,["show"])],2))}});export{rt as _};

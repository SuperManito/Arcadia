const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./app-b189954a.js","./app-40fcbbd5.js","./app-dbd4b5f0.js","./vendor-ca0e89fa.js","../css/app-139d7db5.css","./vendor-6c6d1442.js","../css/app-56f6e3d4.css","../css/app-1a974e6f.css","./app-46a44cd6.js","./app-a04700e8.js","./app-80666950.js","./app-98c02d27.js","./app-4ba2ed38.js","./app-c16619b4.js","./app-80f155ef.js","./app-240cd649.js","./app-29b727ba.js","./app-81c0e1b2.js","./app-6cc07661.js","../css/app-fa0db816.css","./app-d099a866.js","./app-be4f0c61.js","../css/app-ef612cf5.css","./app-2bf70a96.js","./app-8b99cbcc.js","./app-8f375f37.js","./app-d8ed2c87.js","./app-cd0f066c.js","./app-933a9ea9.js","./app-bd628b73.js","./app-8c23e18b.js"])))=>i.map(i=>d[i]);
import{g as Tn,r as We,c as Ln,I as In,_ as Rn,f as En,s as xn}from"./app-98c02d27.js";import{az as he,aq as E,T as i,a5 as L,aA as Wt,G as N,r as De,ag as bt,J as Ut,aB as Pn,h as l,aC as Qt,ao as On,aD as Bn,S as v,F as t,V as u,a9 as V,at as xe,aW as ue,bv as Dn,bt as jt,aJ as Hn,aK as $n,W as m,aw as Oe,ar as P,av as Nn,ak as Fn,aN as se,as as j,ab as Ae,b7 as Ct,aQ as zn,a8 as Vt,bi as Gn,bB as Wn,aL as Kt,b6 as Un,bu as Xt,C as ye,t as qt,bO as Qn,R as U,aG as Se,a7 as Zt,a3 as Je,a4 as Jt,A as B,bP as jn,aO as Ve,bQ as Yt,bR as Vn,bM as Ye,aa as G,a_ as Kn,aj as en,b3 as Xn,N as Ce,bI as qn,bS as tn,y as re,bL as Le,bT as Me,bU as St,bV as Zn,bW as Mt,bX as Jn,bY as nn,bZ as wt,bN as Yn,b_ as eo,o as to,b$ as no,c0 as on,c1 as oo,ad as te,bG as sn,c2 as so,c3 as ao,c4 as ro,bD as lo,H as io,c5 as co,ap as uo,c6 as po,c7 as go,c8 as kt,b2 as an,c9 as fo,aT as mo,be as ho}from"./vendor-ca0e89fa.js";import{_ as _o,a as vo}from"./app-4ba2ed38.js";import{_ as yo}from"./app-c16619b4.js";import{u as le,c as bo,d as Co}from"./app-40fcbbd5.js";import{b as we,q as He,r as $e,e as de,a as _e,o as So,s as Mo,_ as wo,p as Te,M as ce,t as fe,v as me,w as At,x as ge,y as ko,z as rn,h as Ne,i as Ao,A as To,B as et,C as ln,D as cn,F as tt,G as nt,H as Lo,I as Io,J as Ro,K as ae,L as un,N as Eo,R as dn,O as xo,Q as Po,S as Oo,U as pn,V as gn,W as Bo,X as Do,Y as Ee}from"./app-dbd4b5f0.js";import{g as Ho,i as $o}from"./app-80f155ef.js";import{u as ne}from"./app-240cd649.js";import{u as No}from"./app-29b727ba.js";import Fo from"./app-81c0e1b2.js";import{u as zo}from"./app-6cc07661.js";import{F as Go}from"./app-d099a866.js";import{p as X}from"./app-80666950.js";import{b as Tt,c as Lt,d as It,e as Rt,f as Et,g as xt,h as Pt,i as Ot,I as Bt,a as Dt,j as Ht}from"./app-a04700e8.js";import{_ as Fe}from"./vendor-6c6d1442.js";import{_ as Wo,a as Uo,C as Qo}from"./app-2bf70a96.js";import{u as jo}from"./app-8b99cbcc.js";import{u as Vo}from"./app-8f375f37.js";const Ko={style:{display:"inline-block"},viewBox:"0 0 48 48",width:"1em",height:"1em"};function Xo(e,n){return i(),E("svg",Ko,n[0]||(n[0]=[L("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"},[L("path",{d:"M21 6H9a3 3 0 0 0-3 3v22a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V21M24 34v8"}),L("path",{d:"m32 6l-4 4l4 4m6-8l4 4l-4 4M14 42h20"})],-1)]))}const qo=he({name:"icon-park-outline-code-computer",render:Xo}),Zo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function Jo(e,n){return i(),E("svg",Zo,n[0]||(n[0]=[L("path",{fill:"currentColor",d:"M22.54 21.12L20.41 19l2.13-2.12l-1.42-1.42L19 17.59l-2.12-2.13l-1.42 1.42L17.59 19l-2.13 2.12l1.42 1.42L19 20.41l2.12 2.13M6 2a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08c.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2Z"},null,-1)]))}const Yo=he({name:"mdi-file-document-remove-outline",render:Jo}),es={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function ts(e,n){return i(),E("svg",es,n[0]||(n[0]=[Wt('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="64" stroke-dashoffset="64" d="M12 3c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9c0 -4.97 4.03 -9 9 -9Z"><animate fill="freeze" attributeName="fill-opacity" begin="0.6s" dur="0.15s" values="0;0.3"></animate><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="64;0"></animate></path><path stroke-dasharray="8" stroke-dashoffset="8" d="M12 12l4 4M12 12l-4 -4M12 12l-4 4M12 12l4 -4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.75s" dur="0.2s" values="8;0"></animate></path></g>',1)]))}const ns=he({name:"line-md-close-circle-twotone",render:ts}),os={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function ss(e,n){return i(),E("svg",os,n[0]||(n[0]=[Wt('<g fill="currentColor" fill-opacity="0" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="64" stroke-dashoffset="64" d="M12 3l9 17h-18l9 -17Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="64;0"></animate></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10v4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"></animate></path><path stroke-dasharray="2" stroke-dashoffset="2" d="M12 17v0.01"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.8s" dur="0.2s" values="2;0"></animate></path><animate fill="freeze" attributeName="fill-opacity" begin="1.1s" dur="0.15s" values="0;0.3"></animate></g>',1)]))}const as=he({name:"line-md-alert-twotone",render:ss}),rs={style:{"vertical-align":"-4px",padding:"0 2px"}},fn=N({__name:"RunCmd",setup(e,{expose:n}){const{getIsMobile:o}=le(),{t:s}=we();let a=null,d=null;const r={show:!1,title:s("component.runCmd.title"),cmd:"",runId:"",logContent:"",logInstRef:null,runTimes:0,logFontSize:14,isLogOverOk:!1,isLogOverFail:!1,isLogOverExit:!1,isLogReachBottom:!0,isStopping:!1,isLogEmpty:!1,showFullScreen:!1},c=De(bt(r)),{show:f,title:h,cmd:p,runId:y,logContent:g,logInstRef:_,runTimes:M,logFontSize:S,isLogOverOk:b,isLogOverFail:w,isLogOverExit:k,isLogReachBottom:F,isStopping:x,isLogEmpty:A,showFullScreen:C}=Ut(c);async function D(z){y.value=await En({cmd:z})}async function $(z){switch(z){case"cmdStop":if(!p.value)return;x.value=!0;const T=Ho(p.value);try{const ve=await xn({path:T});b.value=!1,w.value=!1,k.value=!0,g.value+=`
${ve}
`}catch{x.value=!1}break;case"fullScreen":C.value=!C.value;break}}const I=Pn(z=>{const T=_.value;if(!T)return;const ve=T.$el.clientHeight,Q=z.target.scrollTop,Y=z.target.scrollHeight;F.value=ve+Q>=Y-10},300),H=l(()=>b.value||w.value||k.value?s("component.modal.close"):""),q=l(()=>$o(p.value));function J({code:z,result:T}){T.runId===y.value&&(T.over&&(clearInterval(d),g.value||(A.value=!0)),g.value+=T.log||"",z?x.value||(b.value=T.over):x.value||(w.value=T.over))}async function Z(z={cmd:""}){C.value=!1,!(!a.connected&&(await Ln(),!a.connected))&&(Object.assign(c,bt(r),z,{show:!0}),ue().then(()=>setTimeout(()=>D(p.value),500)),d||(d=setInterval(()=>{M.value+=.1},100)),a?.off(We).on(We,J),ue().then(()=>{const T=_.value.scrollbarRef?.containerRef;T&&(T.removeEventListener("scroll",I),T.addEventListener("scroll",I))}))}function W(){f.value=!1,d&&clearInterval(d),d=null}return Qt(()=>{a=Tn(),On(()=>{g.value&&ue(()=>{F.value&&_.value?.scrollTo({position:"bottom",silent:!0})})})}),Bn(()=>{if(_.value){const z=_.value?.scrollbarRef?.containerRef;z&&z.removeEventListener("scroll",I)}a?.off(We,J)}),n({open:Z}),(z,T)=>{const ve=yo,Q=Oe,Y=Fn,R=Ct,O=Wn,K=Nn,Ie=Gn,be=_o,ie=vo,Ge=Kt,Re=Vt,ut=Rn,dt=as,pt=ns,gt=Ct,ft=zn,mt=Hn,ht=Yo,_t=$n,vt=qo,yt=In,Mn=Dn,wn=Un,kn=Xt,An=jt;return t(o)?(i(),v(An,{key:1,show:t(f),"onUpdate:show":T[5]||(T[5]=pe=>xe(f)?f.value=pe:null),height:"calc(var(--vh) * 100)",placement:"bottom","auto-focus":!1,"mask-closable":!1,onMaskClick:W,onAfterLeave:W},{default:u(()=>[m(kn,{closable:!!t(H),"header-style":"height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 12px","footer-style":"padding: 16px 24px"},{header:u(()=>[m(ft,null,{default:u(()=>[!t(b)&&!t(w)&&!t(k)?(i(),v(Re,{key:0,size:26,style:{"vertical-align":"-0.05em"}})):(i(),v(Q,{key:1,size:26},{default:u(()=>[t(b)?(i(),v(ut,{key:0,style:{color:"var(--app-success-color)"}})):t(k)?(i(),v(dt,{key:1,style:{color:"var(--app-warning-color)"}})):t(w)?(i(),v(pt,{key:2,style:{color:"var(--app-error-color)"}})):P("",!0)]),_:1})),m(wn,{style:{height:"100%","max-width":"260px"}},{tooltip:u(()=>[L("span",null,j(t(h)),1)]),default:u(()=>[L("span",rs,j(t(h)),1)]),_:1}),t(M)!==0?(i(),v(gt,{key:2,depth:3,style:{"font-size":"12px","vertical-align":"-4px"}},{default:u(()=>[se(j(`${t(M).toFixed(1)}s`),1)]),_:1})):P("",!0)]),_:1})]),footer:u(()=>[m(Ae,{name:"fade",mode:"out-in",appear:""},{default:u(()=>[!t(b)&&!t(w)&&!t(k)?(i(),v(K,{key:0},{default:u(()=>[m(Y,{secondary:"",focusable:!1,onClick:W},{icon:u(()=>[m(Q,null,{default:u(()=>[m(vt)]),_:1})]),default:u(()=>[se(" "+j(t(s)("component.runCmd.runBackground")),1)]),_:1}),t(q)?(i(),v(Y,{key:0,secondary:"",focusable:!1,loading:t(x),onClick:T[4]||(T[4]=pe=>$("cmdStop"))},{icon:u(()=>[m(Q,null,{default:u(()=>[m(yt)]),_:1})]),default:u(()=>[se(" "+j(t(s)("component.runCmd.terminate")),1)]),_:1},8,["loading"])):P("",!0)]),_:1})):t(H)?(i(),v(Y,{key:1,block:"",secondary:"",type:t(k)?"warning":t(w)?"error":"primary",focusable:!1,onClick:W},{default:u(()=>[se(j(t(H)),1)]),_:1},8,["type"])):P("",!0)]),_:1})]),default:u(()=>[t(A)?(i(),v(_t,{key:1,class:"flex-jc-ac",style:{height:"400px"},size:"huge",description:t(s)("component.runCmd.emptyTitle")},{icon:u(()=>[m(Q,null,{default:u(()=>[m(ht)]),_:1})]),_:1},8,["description"])):(i(),v(mt,{key:0,ref_key:"logInstRef",ref:_,log:t(g),"font-size":t(S),"line-height":1.5,language:"naive-log",style:{width:"100%",height:"100%"}},null,8,["log","font-size"]))]),_:1},8,["closable"])]),_:1},8,["show"])):(i(),v(Mn,{key:0,show:t(f),"onUpdate:show":T[3]||(T[3]=pe=>xe(f)?f.value=pe:null),preset:"dialog","transform-origin":"center","auto-focus":!1,"close-on-esc":!1,"mask-closable":!1,style:V({width:t(C)?"calc(-20px + 100vw)":"600px"}),"on-close":W},{close:u(()=>[m(K,null,{default:u(()=>[m(Ie,{"show-arrow":!1,trigger:t(o)?"manual":"hover",placement:"bottom"},{trigger:u(()=>[m(Y,{size:"tiny",quaternary:"",focusable:!1,style:{padding:"4px"}},{icon:u(()=>[m(Q,{size:16,depth:2},{default:u(()=>[m(ve)]),_:1})]),_:1})]),default:u(()=>[m(K,null,{default:u(()=>[m(R,{strong:""},{default:u(()=>[se(j(t(S)),1)]),_:1}),m(O,{value:t(S),"onUpdate:value":T[0]||(T[0]=pe=>xe(S)?S.value=pe:null),style:{width:"120px"},tooltip:!1,min:12,max:24,step:1},null,8,["value"])]),_:1})]),_:1},8,["trigger"]),m(Ge,{"show-arrow":!1,trigger:"hover",delay:500},{trigger:u(()=>[m(Y,{size:"tiny",quaternary:"",focusable:!1,style:{padding:"4px"},onClick:T[1]||(T[1]=pe=>$("fullScreen"))},{icon:u(()=>[m(Q,{size:20,depth:2},{default:u(()=>[t(C)?(i(),v(ie,{key:1})):(i(),v(be,{key:0}))]),_:1})]),_:1})]),default:u(()=>[L("span",null,j(t(C)?t(s)("layout.header.tooltipExitFull"):t(s)("layout.header.tooltipEntryFull")),1)]),_:1}),m(Ae,{name:"fade-slide-right",mode:"out-in"},{default:u(()=>[t(H)?(i(),v(Y,{key:0,size:"tiny",quaternary:"",focusable:!1,style:{padding:"4px"},onClick:W},{icon:u(()=>[m(Q,{size:18,depth:2},{default:u(()=>T[6]||(T[6]=[L("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[L("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[L("g",{fill:"currentColor","fill-rule":"nonzero"},[L("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"})])])],-1)])),_:1})]),_:1})):P("",!0)]),_:1})]),_:1})]),icon:u(()=>[!t(b)&&!t(w)&&!t(k)?(i(),v(Re,{key:0,size:24,style:{"vertical-align":"-0.05em","padding-right":"1em"}})):P("",!0),m(Q,null,{default:u(()=>[t(b)?(i(),v(ut,{key:0,style:{color:"var(--app-success-color)"}})):t(k)?(i(),v(dt,{key:1,style:{color:"var(--app-warning-color)"}})):t(w)?(i(),v(pt,{key:2,style:{color:"var(--app-error-color)"}})):P("",!0)]),_:1})]),header:u(()=>[m(ft,null,{default:u(()=>[se(j(t(h))+" ",1),t(M)!==0?(i(),v(gt,{key:0,depth:3,style:{"font-size":"12px","vertical-align":"baseline"}},{default:u(()=>[se(j(`${t(M).toFixed(1)}s`),1)]),_:1})):P("",!0)]),_:1})]),action:u(()=>[m(Ae,{name:"fade",mode:"out-in",appear:""},{default:u(()=>[!t(b)&&!t(w)&&!t(k)?(i(),v(K,{key:0,style:{gap:"6px"}},{default:u(()=>[m(Y,{secondary:"",size:"small",focusable:!1,onClick:W},{icon:u(()=>[m(Q,null,{default:u(()=>[m(vt)]),_:1})]),default:u(()=>[se(" "+j(t(s)("component.runCmd.runBackground")),1)]),_:1}),t(q)?(i(),v(Y,{key:0,secondary:"",size:"small",focusable:!1,loading:t(x),onClick:T[2]||(T[2]=pe=>$("cmdStop"))},{icon:u(()=>[m(Q,null,{default:u(()=>[m(yt)]),_:1})]),default:u(()=>[se(" "+j(t(s)("component.runCmd.terminate")),1)]),_:1},8,["loading"])):P("",!0)]),_:1})):t(H)?(i(),v(Y,{key:1,size:"small",type:t(k)?"warning":t(w)?"error":"primary",focusable:!1,onClick:W},{default:u(()=>[se(j(t(H)),1)]),_:1},8,["type"])):P("",!0)]),_:1})]),default:u(()=>[t(A)?(i(),v(_t,{key:1,class:"flex-jc-ac",style:V([{height:"600px"},{height:t(C)?"calc(-160px + 100vh)":"600px"}]),size:"huge",description:t(s)("component.runCmd.emptyTitle")},{icon:u(()=>[m(Q,null,{default:u(()=>[m(ht)]),_:1})]),_:1},8,["style","description"])):(i(),v(mt,{key:0,ref_key:"logInstRef",ref:_,log:t(g),"font-size":t(S),"line-height":1.5,language:"naive-log",style:V({paddingTop:"1em",width:"100%",height:t(C)?"calc(-160px + 100vh)":"600px"})},null,8,["log","font-size","style"]))]),_:1},8,["show","style"]))}}});function mn(){const e=He(),n=l(()=>e.getMultiTabsSetting.show);function o(s){e.setProjectConfig({multiTabsSetting:s})}return{setMultipleTabSetting:o,getShowMultipleTab:n}}function ls(){const e=ye(),{currentRoute:n}=e,{getShowMultipleTab:o}=mn(),s=$e(),a=l(()=>r(qt(e.getRoutes()))||[]),d=l(()=>s.getTabList.reduce((h,p)=>(p.meta&&Reflect.has(p.meta,"frameSrc")&&h.push(p.name),h),[]));function r(h){let p=[];for(const y of h){const{meta:{frameSrc:g}={},children:_}=y;g&&p.push(y),_&&_.length&&p.push(...r(_))}return p=Qn(p,"name"),p}function c(h){return h.name===t(n).name}function f(h){return t(o)?t(d).includes(h):e.currentRoute.value.name===h}return{hasRenderFrame:f,getFramePages:a,showIframe:c,getAllFramePages:r}}const is=N({name:"FrameLayout",components:{FramePage:Fo},setup(){const{getFramePages:e,hasRenderFrame:n,showIframe:o}=ls(),s=l(()=>t(e).length>0);return{getFramePages:e,hasRenderFrame:n,showIframe:o,showFrame:s}}}),cs={key:0};function us(e,n,o,s,a,d){const r=U("FramePage");return e.showFrame?(i(),E("div",cs,[(i(!0),E(Se,null,Zt(e.getFramePages,c=>(i(),E(Se,{key:c.path},[c.meta?.frameSrc&&e.hasRenderFrame(c.name)?Je((i(),v(r,{key:0,"frame-src":c.meta.frameSrc},null,8,["frame-src"])),[[Jt,e.showIframe(c)]]):P("",!0)],64))),128))])):P("",!0)}const ds=de(is,[["render",us]]),ps=N({name:"PageLayout",components:{FrameLayout:ds},setup(){const e=B("readly"),n=B("fade-slide"),{getCanEmbedIFramePage:o}=_e();bo({pageTranstionName:n,pageTranstionState:e});const{openCache:s,getCaches:a,getKey:d}=No(n);return{openCache:s,getCaches:a,getKey:d,pageTranstionName:n,handleStart:()=>{e.value="readly"},handleEnter:()=>{e.value="running"},handleEnd:()=>{e.value="finshed"},getCanEmbedIFramePage:o}}});function gs(e,n,o,s,a,d){const r=U("RouterView"),c=U("FrameLayout");return i(),E(Se,null,[m(r,null,{default:u(({Component:f})=>[m(Ae,{name:e.pageTranstionName,mode:"out-in",appear:"",onBeforeEnter:e.handleStart,onEnter:e.handleEnter,onAfterEnter:e.handleEnd},{default:u(()=>[e.openCache?(i(),v(jn,{key:0,include:e.getCaches},[(i(),v(Ve(f),{key:e.getKey}))],1032,["include"])):(i(),v(Ve(f),{key:e.getKey}))]),_:2},1032,["name","onBeforeEnter","onEnter","onAfterEnter"])]),_:1}),e.getCanEmbedIFramePage?(i(),v(c,{key:0})):P("",!0)],64)}const fs=de(ps,[["render",gs]]),ms={class:"flex-1"},hs=N({__name:"index",setup(e){const n=B(),o=B(),s=qn(),{prefixCls:a}=ne("layout-content"),{getOpenPageLoading:d}=So(),{getPageLoading:r}=_e(),{width:c,height:f}=Yt(o),{emit:h}=zo();Vn(o,h),Co({width:c,height:f});const p=l(()=>d.value&&!s.meta?.hideLoading&&r.value);return Mo(async()=>{const y=n.value;y&&(await Ye(300),y.scrollTo({left:0,top:0}))}),(y,g)=>{const _=wo,M=Xn,S=en,b=Kn;return i(),E("main",{ref_key:"contentEl",ref:o,class:G(["transform-gpu transform",[t(a)]])},[m(_,{show:t(p)},null,8,["show"]),m(b,{embedded:"",class:"h-full",position:"absolute",style:{backgroundColor:"var(--app-layout-background)"}},{default:u(()=>[m(S,{ref_key:"scrollBarEl",ref:n,style:V({maxHeight:`${t(f)}px`})},{default:u(()=>[m(M,{right:40,bottom:60}),L("div",{class:"flex flex-col",style:V({minHeight:`${t(f)}px`})},[L("div",ms,[m(fs)]),Ce(y.$slots,"footer")],4)]),_:3},8,["style"])]),_:3})],2)}}}),hn=N({__name:"ScrollContainer",props:{inverted:{type:Boolean}},setup(e){const n=e,{color:o,colorHover:s}=Te("Scrollbar",!0),a=l(()=>n.inverted?{color:o,colorHover:s}:void 0);return(d,r)=>{const c=en;return i(),v(c,{"builtin-theme-overrides":t(a)},{default:u(()=>[Ce(d.$slots,"default")]),_:3},8,["builtin-theme-overrides"])}}}),_s="data:image/png;base64,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";function vs(){const e=He(),n=ye(),{currentRoute:o}=n;return{getFullContent:l(()=>{const a=t(o),{query:d}=a;return d&&Reflect.has(d,"__full__")?!0:e.getProjectConfig.fullContent})}}const Ue=B(!0),ys=B(!1);function oe(){const{getFullContent:e}=vs(),n=He(),o=l(()=>n.getMenuSetting.split),s=l(()=>{const{show:T}=n.getMenuSetting;return T?ue(()=>{Ue.value=T}):Ue.value=T,T}),a=l(()=>n.getMenuSetting.mode),d=l(()=>t(o)||t(s)&&t(a)!==fe.HORIZONTAL&&!t(e)),r=l(()=>n.getMenuSetting.collapsed),c=l(()=>n.getMenuSetting.type),f=l(()=>n.getMenuSetting.hidden),h=l(()=>n.getMenuSetting.menuWidth),p=l(()=>n.getMenuSetting.menuRootIndent),y=l(()=>n.getMenuSetting.menuIndent),g=l(()=>n.getMenuSetting.trigger),_=l(()=>n.getMenuSetting.theme),M=l(()=>n.getMenuSetting.inverted),S=l(()=>n.getMenuSetting.mixSideTrigger),b=l(()=>n.getMenuSetting.mixSideFixed),w=l(()=>n.getMenuSetting.closeMixSidebarOnChange),k=l(()=>n.getMenuSetting.accordion),F=l(()=>t(c)===ce.SIDEBAR),x=l(()=>t(c)===ce.TOP_MENU),A=l(()=>n.getMenuSetting.collapsedShowTitle),C=l(()=>t(a)===fe.HORIZONTAL||t(o)),D=l(()=>t(c)===ce.TOP_MENU||!t(s)||t(f)?!1:t(g)===me.HEADER),$=l(()=>t(a)===fe.HORIZONTAL),I=l(()=>t(c)===ce.MIX_SIDEBAR),H=l(()=>t(a)===fe.VERTICAL&&t(c)===ce.MIX),q=l(()=>{const{collapsedShowTitle:T}=n.getMenuSetting;return T?ge.WIDTH:ge.COLLAPSED_WIDTH}),J=l(()=>t(I)?t(r)&&!t(b)?t(q):t(h):t(r)?t(q):t(h)),Z=l(()=>tn(h.value,At.MIN,At.MAX));function W(T){n.setProjectConfig({menuSetting:T})}function z(){W({collapsed:!t(r)})}return{tabsAnima:Ue,mixSideHasChildrenRef:ys,getMenuType:c,getMenuMode:a,getShowMenu:s,getCollapsed:r,getMiniWidthNumber:q,getMenuWidth:h,getRealWidth:J,getMobileWidth:Z,getMenuRootIndent:p,getMenuIndent:y,getTrigger:g,getSplit:o,getMixSideFixed:b,getMixSideTrigger:S,getCloseMixSidebarOnChange:w,getMenuTheme:_,getMenuInverted:M,getCollapsedShowTitle:A,getIsHorizontal:$,getIsSidebarType:F,getAccordion:k,getShowTopMenu:C,getShowHeaderTrigger:D,getMenuHidden:f,getIsTopMenu:x,getShowSidebar:d,getIsMixMode:H,getIsMixSidebar:I,setMenuSetting:W,toggleCollapsed:z}}const bs=/^(\d|\.)+$/,$t=/(\d|\.)+/;function ke(e,{c:n=1,offset:o=0,attachPx:s=!0}={}){if(typeof e=="number"){const a=(e+o)*n;return a===0?"0":`${a}px`}else if(typeof e=="string")if(bs.test(e)){const a=(Number(e)+o)*n;return s?a===0?"0":`${a}px`:`${a}`}else{const a=$t.exec(e);return a?e.replace($t,String((Number(a[0])+o)*n)):e}return e}const Cs=["src"],ot=N({__name:"AppLogo",props:{logoSize:X.oneOfType([String,Number]).def(24),showTitle:X.bool.def(!0),titleSize:X.oneOfType([String,Number]).def(18),titleColor:X.string,collapsed:X.bool.def(void 0),collapsedShowTitle:X.bool.def(!1),isStatic:X.bool.def(!1),width:X.oneOfType([String,Number]),canGoHome:X.bool.def(!1)},setup(e){Le(C=>({"6d0bd251":t(F)}));const n=e,{prefixCls:o}=ne("app-logo"),s=ko(),{title:a}=rn(),{getMenuWidth:d,getMobileWidth:r,getMenuRootIndent:c,getCollapsed:f}=oe(),{getIsMobile:h}=le(),p=B(),y=B(),g=B(`inset(0px ${n.collapsed?100:0}% 0px 0px)`);re([p,y,()=>n.showTitle],()=>{_()});function _(){const C=Me(p),D=Me(y);if(!C||!D||!n.showTitle)return;const $=M(C,D);$();let I;St(C,"transitionstart",()=>{if(I){I.resume();return}I=Zn($)}),St(C,"transitionend",()=>{I&&I.pause()})}function M(...C){return()=>{const[D,$]=C,I=D.offsetWidth,H=$.offsetWidth,q=$.offsetLeft,Z=H-I+q+16;g.value=`inset(0px ${tn(Z,0,H+1)}px 0px 0px)`}}const S=Ne(),b=l(()=>{const{collapsed:C,collapsedShowTitle:D,isStatic:$,width:I,canGoHome:H}=n;return Object.assign({userSelect:"none",cursor:H?"pointer":"unset"},$?{}:{paddingLeft:C?"7px":`${c.value-4}px`,width:(C??f.value)&&!D?ke(To):ke(I??h.value?r.value:d.value)})}),w=l(()=>({fontSize:ke(n.logoSize),transition:"font-size var(--app-transition-duration) var(--app-bezier)",zIndex:10,height:"24px",width:"24px",marginLeft:"6px",borderRadius:"4px"})),k=l(()=>{const{titleSize:C,titleColor:D}=n;return{fontSize:ke(C),...n.isStatic?{}:{clipPath:g.value},...D?{color:D}:{}}}),F=l(()=>n.collapsed?0:"100%"),x=l(()=>a);function A(){n.canGoHome&&S(s.getUserInfo.homePath||Ao.BASE_HOME)}return(C,D)=>(i(),E("div",{ref_key:"wrapperEl",ref:p,class:"flex-ac ease-in-out-300",style:V(t(b)),onClick:A},[L("img",{src:t(_s),draggable:!1,title:"Logo",style:V(t(w))},null,12,Cs),m(Ae,{name:"fade-slide-right",mode:"out-in",duration:{enter:200,leave:50}},{default:u(()=>[e.showTitle&&!e.collapsed?(i(),E("div",{key:0,ref_key:"titleEl",ref:y,class:G(["font-$app-font-family ml-3 font-semibold",[`${t(o)}__title`]]),style:V(t(k))},j(t(x)),7)):P("",!0)]),_:1})],4))}}),Nt=Object.assign({}),Ke=[];Object.keys(Nt).forEach(e=>{const n=Nt[e].default||{},o=Array.isArray(n)?[...n]:[n];Ke.push(...o)});function st(){return Io().getProjectConfig.permissionMode}function Ss(){return st()===nt.BACK}function Ms(){return st()===nt.ROUTE_MAPPING}function at(){return st()===nt.ROLE}function Xe(e,n){return e.filter(o=>(!n||!o.meta?.hideMenu)&&!o.hideMenu).map(o=>(o.children&&(o.children=Xe(o.children,n),o.children.length||Reflect.deleteProperty(o,"children")),o))}const _n=[];(()=>{Ke.sort((e,n)=>(e.orderNo||0)-(n.orderNo||0));for(const e of Ke)_n.push(Ro(e))})();async function rt(){const e=tt();return Ss()?Xe(e.getBackMenuList,!0):Ms()?Xe(e.getFrontMenuList):_n}async function vn(){const e=await rt();if(at()){const n=et.getRoutes();return cn(e,lt(n))}return e}async function Be(e){const n=await rt();return(await ln(n,e))?.[0]}async function qe(){const n=(await rt()).map(o=>({...o,children:void 0}));if(at()){const o=et.getRoutes();return n.filter(lt(o))}return n}async function Pe(e){const o=(await vn()).find(s=>s.path===e);if(!o||!o.children||o?.meta?.hideChildrenInMenu)return[];if(at()){const s=et.getRoutes();return cn(o.children,lt(s))}return o.children}function lt(e){return n=>!!e.find(s=>{if(Lo(n.path))return!0;if(s.meta?.carryParam)return Mt.pathToRegexp(s.path).regexp.test(n.path);const a=s.path===n.path;return a?s.meta?.ignoreAuth?!0:a||Mt.pathToRegexp(s.path).regexp.test(n.path):!1})}function ws(e,n,o){const s=B(),{currentRoute:a}=ye(),{getIsMobile:d}=le(),r=tt(),{setMenuSetting:c,getIsHorizontal:f,getSplit:h}=oe(),p=Jn(S,50),y=l(()=>t(e)!==ae.SECONDARY&&!t(f)),g=l(()=>{let w=t(h);const k=t(o);return nn(k)&&(w=k),!w||t(e)!==ae.SECONDARY}),_=l(()=>t(e)===ae.ROOT),M=l(()=>t(e)===ae.NONE||!t(h));re([()=>t(a).path,()=>t(n),()=>t(e)],async([w,k])=>{if(t(y)||t(d))return;const{meta:F}=t(a),x=F.currentActiveMenu;let A;k?A=k:(A=await Be(w),A||(A=await Be(x))),A&&p(A)},{immediate:!0}),re([()=>r.getLastBuildMenuTime,()=>r.getBackMenuList],()=>{b()},{immediate:!0}),re(()=>h.value,()=>{t(y)||b()});async function S(w){if(t(g)||t(d))return;const k=await Pe(w);if(!k||!k.length){c({hidden:!0}),s.value=[];return}c({hidden:!1}),s.value=k}async function b(){if(t(M)||t(d)){s.value=await vn();return}if(t(_)){const w=await qe();s.value=w}}return{menusRef:s}}const ks={ConfigPageWrapper:Ht,ConfigPage:Ht,EnvPageWrapper:Dt,EnvPage:Dt,CronPageWrapper:Bt,CronPage:Bt,LogPageWrapper:Ot,LogPage:Ot,CodeEditPageWrapper:Pt,CodeEditPage:Pt,CodeDebugPageWrapper:xt,CodeDebugPage:xt,CodeDiffPageWrapper:Et,CodeDiffPage:Et,FilePageWrapper:Rt,FilePage:Rt,TerminalPageWrapper:It,TerminalPage:It,DocPageWrapper:Lt,DocPage:Lt,SettingPageWrapper:Tt,SettingPage:Tt};function yn(e){return ks[e]}const Qe=un&&navigator.connection,bn=Qe&&!/([a-z]-)?2g/.test(Qe.effectiveType)&&!Qe.saveData,Ft={};function As(e){return un?document.createElement("link")?.relList?.supports(e):!1}function Ts(e){return new Promise((n,o)=>{const s=document.createElement("link");s.rel="prefetch",s.href=e,s.addEventListener("load",n),s.addEventListener("error",o),document.head.appendChild(s)})}function Ls(e){return new Promise((n,o)=>{const s=new XMLHttpRequest;s.open("GET",e,s.withCredentials=!0),s.addEventListener("load",()=>{s.status===200?n():o()}),s.send()})}const Is=As("prefetch")?Ts:Ls;function Rs(e,n){if(!(!bn||Ft[e]))return Is(e).then(()=>{Ft[e]=!0})}const Es=N({__name:"PrefetchLink",props:{...wt.props,prefetch:{type:Boolean,default:!0},prefetchFiles:{type:Array,default:()=>[]},timeout:{type:Number,default:1e3},custom:{type:Boolean,default:!1}},setup(e){const n=e,o=Yn(),s=eo({to:n.to}),a=B(),d=B(!1),r=l(()=>to(n,["prefetch","prefetchFiles","timeout","custom"])),{stop:c,isSupported:f}=no(a,async([{isIntersecting:g}])=>{g&&(await Ye(n.timeout),p())});on(a,()=>{n.prefetch&&t(f)&&bn&&(d.value=!0)}),oo(()=>{d.value=!1});function h(g){return g.matched.map(_=>Object.values(_.components)).flat().filter(_=>typeof _=="function")}function p(){const g=s.route.value;if(g.meta.__prefetched)return;g.meta.__prefetched=!0;const _=g.meta.prefetch;if(_){const S=h(g);for(const b of S)b();typeof _=="function"&&_(g)}const M=[...n.prefetchFiles||[],...g.meta.prefetchFiles||[]];if(M.length>0)for(const S of M)Rs(S);c()}function y(){const g=o.default&&o.default(s);return n.custom?(ue(()=>{if(g){const _=g[0];if(Eo(_.type))throw new Error('[PrefetchLink Component] when "props.custom" is true, slot content must not be plain text');a.value=Me(_.el)}else console.warn('[PrefetchLink Component] when "props.custom" is true, must exist default slot')}),g):te(wt,{ref:_=>{a.value=_},...r.value},()=>g)}return(g,_)=>(i(),v(y))}}),xs=N({name:"LayoutMenu",props:{inverted:X.bool.def(void 0),parentPath:X.string,noCollapsed:X.bool.def(void 0),globalSplit:{type:Boolean,default:void 0},splitType:{type:Number,default:ae.NONE},menuMode:{type:[String],default:""}},setup(e){const n=B(null),{splitType:o,parentPath:s,globalSplit:a}=Ut(e),{menusRef:d}=ws(o,s,a),{getMenuMode:r,getMenuIndent:c,getMenuRootIndent:f,getCollapsed:h,getAccordion:p,toggleCollapsed:y}=oe(),{currentRoute:g}=ye(),_=Ne(),{t:M}=we(),S=B([]),b=B(),w=I=>{S.value=I},{getIsMobile:k}=le(),F=I=>{_(I),t(k)&&y()},x=l(()=>t(k)?fe.VERTICAL:e.menuMode||t(r)),A=l(()=>o.value===ae.ROOT);return re([g,d],async([I,H])=>{const{name:q,path:J,meta:Z}=I;if(q!==dn&&(b.value=J,p.value&&H&&H.length>0)){const W=ln(H,J);if(A.value){const z=await Be(J);b.value=z}else Z.currentActiveMenu?(b.value=Z.currentActiveMenu,ue(()=>{n.value?.showOption(Z.currentActiveMenu)})):(W.length>=2&&W.pop(),S.value=W)}},{immediate:!0}),{getRealCollapsed:l(()=>e.noCollapsed||A.value?!1:h.value),getInverted:!1,menuValue:b,menuInstRef:n,menusRef:d,expandedKeys:S,handleUpdateExpandedKeys:w,handleUpdateValue:F,renderIcon:({name:I})=>{const H=yn(I);return H?te(Oe,null,{default:()=>te(H)}):null},renderLabel:I=>te(Es,{to:I.path,custom:!1},{default:()=>te("span",null,{default:()=>M(I?.label??"")})}),getRealMenuMode:x,getMenuIndent:c,getMenuRootIndent:f}}});function Ps(e,n,o,s,a,d){const r=sn;return i(),v(r,{ref:"menuInstRef",value:e.menuValue,"onUpdate:value":[n[0]||(n[0]=c=>e.menuValue=c),e.handleUpdateValue],mode:e.getRealMenuMode,"key-field":"path",collapsed:e.getRealCollapsed,inverted:e.getInverted,indent:e.getMenuIndent,"root-indent":e.getMenuRootIndent,options:e.menusRef,"expanded-keys":e.expandedKeys,"render-icon":e.renderIcon,"render-label":e.renderLabel,"onUpdate:expandedKeys":e.handleUpdateExpandedKeys},null,8,["value","mode","collapsed","inverted","indent","root-indent","options","expanded-keys","render-icon","render-label","onUpdate:expandedKeys","onUpdate:value"])}const it=de(xs,[["render",Ps]]),Os=N({__name:"BarTrigger",props:{collapsed:X.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleBarColor:n,siderToggleBarColorHover:o}=Te("Layout"),{siderToggleBarColor:s,siderToggleBarColorHover:a}=Te("Layout",!0),{getIsDarkMode:d}=_e(),r=l(()=>{const f=d.value;return{color:f?s:n,hoverColor:f?a:o}});Le(()=>({"toggle-bar-color":r.value.color,"toggle-bar-color-hover":r.value.hoverColor}));const{prefixCls:c}=ne("layout-toggle-bar");return(f,h)=>(i(),E("div",{class:G([t(c),{collapsed:e.collapsed}]),onClick:h[0]||(h[0]=(...p)=>e.onClick&&e.onClick(...p))},[L("div",{class:G(`${t(c)}__top`)},null,2),L("div",{class:G(`${t(c)}__bottom`)},null,2)],2))}}),Bs=N({__name:"ButtonTrigger",props:{collapsed:X.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleButtonColor:n,siderToggleButtonIconColor:o,siderToggleButtonBorder:s}=Te("Layout"),{siderToggleBarColor:a,siderToggleButtonIconColor:d,siderToggleButtonBorder:r}=Te("Layout",!0),{getIsDarkMode:c}=_e(),f=l(()=>{const p=c.value;return{bgColor:p?a:n,iconColor:p?d:o,border:p?r:s}});Le(()=>{const p=f.value;return{"toggle-button-color":p.bgColor,"toggle-button-icon-color":p.iconColor,"toggle-button-border":p.border}});const{prefixCls:h}=ne("layout-toggle-button");return(p,y)=>(i(),E("div",{class:G([t(h),{collapsed:e.collapsed}]),onClick:y[0]||(y[0]=(...g)=>e.onClick&&e.onClick(...g))},y[1]||(y[1]=[L("i",{class:"icon"},[L("svg",{viewBox:"0 0 16 16",fill:"none",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[L("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"})])],-1)]),2))}}),Ds={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function Hs(e,n){return i(),E("svg",Ds,n[0]||(n[0]=[L("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8"},null,-1)]))}const $s=he({name:"ant-design-menu-fold-outlined",render:Hs}),Ns={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function Fs(e,n){return i(),E("svg",Ns,n[0]||(n[0]=[L("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7"},null,-1)]))}const zs=he({name:"ant-design-menu-unfold-outlined",render:Fs}),Gs=N({__name:"HeaderTrigger",props:{collapsed:X.bool.def(!1),onClick:{type:Function}},setup(e){const{getIsMobile:n}=le();return(o,s)=>{const a=zs,d=$s;return i(),E("span",{class:"app-layout-header-anction-icon",style:V(t(n)?"background-color: transparent !important":""),onClick:s[0]||(s[0]=(...r)=>e.onClick&&e.onClick(...r))},[e.collapsed?(i(),v(a,{key:0,viewBox:"64 64 896 896"})):(i(),v(d,{key:1,viewBox:"64 64 896 896"}))],4)}}}),Cn=N({__name:"index",props:{type:{default:me.BAR},onClick:{}},setup(e){const n=e,o=new Map;o.set(me.BAR,Os),o.set(me.BUTTON,Bs),o.set(me.HEADER,Gs);const{toggleCollapsed:s}=oe();function a(){n?.onClick&&so(n.onClick)?n.onClick():s()}return(d,r)=>d.type?(i(),v(Ve(t(o).get(d.type)),{key:0,style:{transition:".2s"},onClick:a})):P("",!0)}});function ze(e,n){n=n||{};const{size:o="small",delay:s=100,timeout:a=3e4,loading:d=!1,loadingComponent:r,retry:c=!0}=n;return ao({loader:e,loadingComponent:d?te(Vt,{size:o,style:"margin:1rem;"}):r,timeout:a,delay:s,onError:c?(f,h,p,y)=>{f.message.match(/fetch/)&&y<=3?h():p()}:xo})}const Ws=N({name:"FullScreen",setup(){const{t:e}=we(),{toggle:n,isFullscreen:o}=ro(),{getIsMobile:s}=le();return{getTitle:l(()=>t(o)?e("layout.header.tooltipExitFull"):e("layout.header.tooltipEntryFull")),getIsMobile:s,isFullscreen:o,toggle:n}}});function Us(e,n,o,s,a,d){const r=Wo,c=Uo,f=Kt;return i(),v(f,{trigger:"hover",placement:"bottom",delay:1e3},{trigger:u(()=>[L("span",{class:"app-layout-header-anction-icon",style:V({borderRadius:e.getIsMobile?"0":"6px"}),onClick:n[0]||(n[0]=(...h)=>e.toggle&&e.toggle(...h))},[e.isFullscreen?(i(),v(r,{key:0,class:"text-20px"})):(i(),v(c,{key:1,class:"text-20px"}))],4)]),default:u(()=>[se(" "+j(e.getTitle),1)]),_:1})}const Qs=de(Ws,[["render",Us]]),js=ze(()=>Fe(()=>import("./app-b189954a.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url),{loadingComponent:te("div",{class:"flex items-center space-x-0"},[te(lo,{class:"mr-2.5",height:"24px",circle:!0})])}),Vs=ze(()=>Fe(()=>import("./app-46a44cd6.js"),__vite__mapDeps([8,9,3,4,10,2,5,6,7,1,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url)),Ks=ze(()=>Fe(()=>import("./app-d8ed2c87.js"),__vite__mapDeps([26,27,3,4,28,2,5,6,7,1]),import.meta.url)),Xs=ze(()=>Fe(()=>import("./app-bd628b73.js"),__vite__mapDeps([29,30,3,4,1,2,5,6,7,24]),import.meta.url));let je;function qs(){return je||(je=io(Oo)),{...je,sizeEnum:Po}}function Sn(){const e=He(),{getMenuMode:n,getSplit:o,getShowHeaderTrigger:s,getIsSidebarType:a,getIsMixSidebar:d}=oe(),{getShowBreadCrumb:r,getShowLogo:c}=_e(),f=l(()=>e.getHeaderSetting.show),h=l(()=>e.getHeaderSetting.height),p=l(()=>t(n)!==fe.HORIZONTAL&&t(r)&&!t(o)),y=l(()=>t(c)&&!t(a)&&!t(d)),g=l(()=>t(p)||t(s));function _(M){e.setProjectConfig({headerSetting:M})}return{setHeaderSetting:_,getShowBread:p,getShowContent:g,getShowHeaderLogo:y,getShowHeader:f,getHeaderHeight:h}}const ct=N({name:"LayoutHeader",components:{Trigger:Cn,LayoutBreadcrumb:Vs,LayoutMenu:it,FullScreen:Qs,ThemeMode:Ks,LocalePicker:Xs,UserDropDown:js},props:{fixed:X.bool.def(void 0)},setup(){const{prefixCls:e}=ne("layout-header"),{getIsMobile:n}=le(),{smaller:o,sizeEnum:s}=qs(),{getIsDarkMode:a}=_e(),d=o(s.XXS),{getSplit:r,getCollapsed:c,getMenuInverted:f,getShowTopMenu:h,getIsSidebarType:p,getIsMixSidebar:y,getIsTopMenu:g,getTrigger:_}=oe(),{getShowBread:M,getShowContent:S,getShowHeader:b}=Sn(),w=l(()=>_.value===me.HEADER&&!g.value&&S.value&&!r.value),{getShowLocalePicker:k}=jo(),F=l(()=>!(t(p)||t(y))),x=l(()=>r.value?ae.ROOT:ae.NONE),A=l(()=>fe.HORIZONTAL),C=l(()=>f.value&&(r.value||g.value)),D=l(()=>n.value?"transparent":"var(--app-border-color)");return{getIsDarkMode:a,getShowHeader:b,getIsMobile:n,getShowLocalePicker:k,prefixCls:e,getShowBread:M,getShowContent:S,getShowLogo:F,getCollapsed:c,getShowTopMenu:h,getShowTrigger:w,TriggerEnum:me,getSplitType:x,getMenuMode:A,getInverted:C,getIs2xs:d,borderColor:D}}}),zt=()=>{Le(e=>({"06527684":e.borderColor}))},Gt=ct.setup;ct.setup=Gt?(e,n)=>(zt(),Gt(e,n)):zt;const Zs={class:"flex-jb-ac h-full text-1.2em"},Js={class:"flex-jb-ac h-full"},Ys={key:0,class:"flex-ac h-full"},ea={key:0,class:"flex-jb-ac flex-1 min-w-0 px-2 relative h-full"};function ta(e,n,o,s,a,d){const r=ot,c=U("Trigger"),f=U("LayoutBreadcrumb"),h=U("LayoutMenu"),p=hn,y=U("FullScreen"),g=U("LocalePicker"),_=U("ThemeMode"),M=U("UserDropDown"),S=co;return e.getShowHeader?(i(),v(S,{key:0,class:G([e.prefixCls]),style:V({height:e.getIsMobile?"43px":"47px",backgroundColor:"var(--app-background)"})},{default:u(()=>[L("div",Zs,[L("div",Js,[e.getShowLogo?(i(),E("div",Ys,[m(r,{collapsed:e.getCollapsed,"collapsed-show-title":"","title-color":e.getIsDarkMode?"#fff":"#000"},null,8,["collapsed","title-color"])])):P("",!0),e.getShowTrigger||e.getIsMobile?(i(),v(c,{key:1,type:e.TriggerEnum.HEADER,collapsed:e.getCollapsed,style:V({height:e.getIsMobile?"100%":"36px",marginLeft:e.getIsMobile?"0":"12px",borderRadius:e.getIsMobile?"0":"6px"})},null,8,["type","collapsed","style"])):P("",!0),e.getShowContent&&e.getShowBread?(i(),v(f,{key:2,class:G(e.getIsMobile?"":"ml-3")},null,8,["class"])):P("",!0)]),e.getShowTopMenu&&!e.getIsMobile?(i(),E("div",ea,[m(p,{"x-scrollable":"",class:"absolute left-0 top-2px"},{default:u(()=>[m(h,{"menu-mode":e.getMenuMode,"split-type":e.getSplitType},null,8,["menu-mode","split-type"])]),_:1})])):P("",!0),L("div",{class:"flex-ac",style:V({height:e.getIsMobile?"100%":"36px",marginRight:e.getIsMobile?"0":"12px",gap:e.getIsMobile?"0":"6px"})},[e.getIsMobile?P("",!0):(i(),v(y,{key:0})),e.getShowLocalePicker?(i(),v(g,{key:1,"trigger-cls":"app-layout-header-anction-icon",reload:!0})):P("",!0),m(_,{"trigger-cls":"app-layout-header-anction-icon"}),m(M,{"trigger-cls":"app-layout-header-anction-icon"})],4)])]),_:1},8,["class","style"])):P("",!0)}const na=de(ct,[["render",ta]]),oa={key:0},Ze=N({__name:"SiderWrapper",props:{inverted:{type:Boolean,default:void 0},trigger:{type:Boolean,default:!0},width:{}},setup(e){const n=e,{prefixCls:o}=ne("layout-sideBar"),{getMenuInverted:s,getTrigger:a,getCollapsed:d,getSplit:r}=oe(),{getIsMobile:c}=le(),f=l(()=>n.trigger&&(a.value!==me.HEADER&&!t(c)||t(r))),h=B(null),{height:p}=Yt(h),y=l(()=>({maxHeight:`${p.value}px`})),g=l(()=>nn(n.inverted)?n.inverted:s.value),_=l(()=>({width:ke(n.width)}));return(M,S)=>{const b=hn;return i(),E("div",{class:G(t(o))},[L("div",{class:G(`${t(o)}_wrapper`)},[L("div",{class:"menu_wrapper",style:V(t(_))},[Ce(M.$slots,"header"),L("div",{ref_key:"scrollEl",ref:h,class:"menu"},[m(b,{style:V(t(y)),inverted:t(g)},{default:u(()=>[Ce(M.$slots,"default")]),_:3},8,["style","inverted"])],512),Ce(M.$slots,"trigger",{},()=>[t(f)?(i(),v(Cn,{key:0,collapsed:t(d),type:t(a)},null,8,["collapsed","type"])):P("",!0)])],4),M.$slots.secondaryMenu?(i(),E("div",oa,[Ce(M.$slots,"secondaryMenu")])):P("",!0)],2)],2)}}}),sa=N({__name:"LayoutSider",setup(e){const{prefixCls:n}=ne("layout-sideBar"),{getIsMobile:o}=le(),{getIsDarkMode:s}=_e(),{getCollapsed:a,getRealWidth:d,getMobileWidth:r,getMenuHidden:c,getMenuInverted:f,getIsSidebarType:h,getSplit:p}=oe(),y=l(()=>p.value?ae.SECONDARY:ae.NONE),g=l(()=>p.value?fe.VERTICAL:null),_=l(()=>p.value?!c.value:!0),M=l(()=>f.value&&!p.value),S=l(()=>o.value?r.value:d.value);return(b,w)=>{const k=ot;return Je((i(),v(Ze,{class:G(t(n)),width:t(S),inverted:t(M)},{header:u(()=>[t(h)?(i(),v(k,{key:0,class:"flex-ac h-46px",collapsed:t(a),"title-color":t(s)?"#fff":"#000"},null,8,["collapsed","title-color"])):P("",!0)]),default:u(()=>[m(it,{"menu-mode":t(g),"split-type":t(y),inverted:t(M)},null,8,["menu-mode","split-type","inverted"])]),_:1},8,["class","width","inverted"])),[[Jt,t(_)]])}}}),aa={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function ra(e,n){return i(),E("svg",aa,n[0]||(n[0]=[L("path",{fill:"currentColor",d:"M18 3v2h-1v6l2 3v2h-6v7h-2v-7H5v-2l2-3V5H6V3zM9 5v6.606L7.404 14h9.192L15 11.606V5z"},null,-1)]))}const la=he({name:"ri-pushpin2-line",render:ra}),ia={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function ca(e,n){return i(),E("svg",ia,n[0]||(n[0]=[L("path",{fill:"currentColor",d:"M18 3v2h-1v6l2 3v2h-6v7h-2v-7H5v-2l2-3V5H6V3z"},null,-1)]))}const ua=he({name:"ri-pushpin2-fill",render:ca}),da={class:"header_wrapper"},pa={class:"title font-$app-font-family"},ga={name:"LayoutMixSider",directives:{clickOutside:Qo}},fa=N({...ga,setup(e){Le(R=>({a346f316:t(H),a32b78a4:t($)}));const n=B(),o=B(""),s=B(),a=B(!1),d=B(),r=De({borderLeftColor:"transparent",borderRightColor:"transparent",borderWidth:void 0}),c=B(null),{prefixCls:f}=ne("layout-mix-sider"),h=Ne(),{t:p}=we(),{getIsDarkMode:y}=_e(),{getMenuWidth:g,getCloseMixSidebarOnChange:_,getMixSideTrigger:M,getMenuInverted:S,getMixSideFixed:b,mixSideHasChildrenRef:w,setMenuSetting:k,getIsMixSidebar:F,getCollapsed:x}=oe(),{title:A}=rn(),C=tt(),D=l(()=>({left:t(b)?0:`${t(I)}px`,position:t(b)?"static":"absolute",...r})),$=l(()=>t(y)||t(S)?"white":"var(--app-primary-color)");re(b,async R=>{const O=Me(d);if(O)if(R)O.style.transitionProperty="";else{await ue();const K=getComputedStyle(O).transitionProperty;O.style.transitionProperty=`${K}, left`}}),re([b,a],([R,O])=>{r.borderLeftColor=R?"transparent":O?t(S)&&!t(y)?"rgb(18, 41, 64)":"var(--app-border-color)":"transparent",r.borderRightColor=R?"transparent":O?"var(--app-border-color)":"transparent",r.borderWidth=O?void 0:0},{immediate:!0}),re([s,b],([R,O])=>{w.value=!!(R&&R?.length>0);const K=O&&t(w);K&&(a.value=K)});const I=l(()=>t(x)?ge.COLLAPSED_WIDTH:ge.WIDTH),H=l(()=>t(x)?ge.LOGO_COLLAPSED_WRAPPER_HEIGHT:ge.LOGO_WRAPPER_HEIGHT),q=l(()=>t(x)?ge.LOGO_COLLAPSED_SIZE:ge.LOGO_SIZE),J=l(()=>t(b)?{}:{onMouseleave:z});Qt(async()=>{n.value=await qe()}),re([()=>C.getLastBuildMenuTime,()=>C.getBackMenuList],async()=>{n.value=await qe()},{immediate:!0}),pn(R=>{c.value=R,W(!0),t(_)&&Q()});async function Z(R,O=!1){const K=await Pe(R);if(t(o)===R?(O?t(a)||(a.value=!0):t(a)?Q():a.value=!0,t(a)||W()):(a.value=!0,o.value=R),!K||K.length===0){O||h(R),s.value=[],Q();return}s.value=K}async function W(R=!1){const O=c.value?.path;if(O&&(o.value=await Be(O),t(F))){const be=(n.value||[]).find(ie=>ie.path===t(o))?.path;if(be){const ie=await Pe(be);R&&(s.value=ie,t(b)&&(a.value=ie.length>0)),ie.length===0&&(s.value=[])}}}function z(){W(!0),Q()}function T(R){return t(M)==="hover"?{onMouseenter:()=>Z(R.path,!0),onClick:async()=>{const O=await Pe(R.path);R.path&&O&&O.length===0&&h(R.path)}}:{onClick:()=>Z(R.path)}}function ve(){k({mixSideFixed:!t(b)})}function Q(){const R=t(s);t(b)?(!R||R.length===0)&&(a.value=!1):a.value=!1}function Y(R){return te("div",{class:"item_wrapper",...T(R)},[te(Oe,{class:"transition-all ease-in-out-300",size:x.value?18:22},{default:()=>{const O=yn(R.name);return O?te(O):null}}),te("p",{class:"item_label"},p(R?.label??""))])}return(R,O)=>{const K=ot,Ie=sn,be=ua,ie=la,Ge=po("click-outside");return Je((i(),v(Ze,uo({class:[t(f),{mini:t(x)}],width:t(I)},t(J)),{header:u(()=>[m(K,{class:G(`${t(f)}-logo`),"logo-size":t(q),"show-title":!1,"is-static":""},null,8,["class","logo-size"])]),default:u(()=>[m(Ie,{value:t(o),"onUpdate:value":O[0]||(O[0]=Re=>xe(o)?o.value=Re:null),indent:0,options:t(n),inverted:t(S),"key-field":"path",class:G(`${t(f)}-menu`),"render-icon":()=>null,"render-label":Y},null,8,["value","options","inverted","class"])]),secondaryMenu:u(()=>[m(Ze,{ref_key:"sideRef",ref:d,class:G(`${t(f)}-secondary-menu_wrapper`),style:V(t(D)),width:t(a)?t(g):0,trigger:!1},{header:u(()=>[L("div",da,[L("span",pa,j(t(A)),1),m(t(Oe),{size:16,color:t(S)||t(y)?"white":void 0,class:"pushpin",onClick:ve},{default:u(()=>[t(b)?(i(),v(be,{key:0})):(i(),v(ie,{key:1}))]),_:1},8,["color"])])]),default:u(()=>[m(it,{inverted:t(S),"split-type":t(ae).SECONDARY,"parent-path":t(o),"global-split":"","no-collapsed":""},null,8,["inverted","split-type","parent-path"])]),_:1},8,["class","style","width"])]),_:1},16,["class","width"])),[[Ge,z]])}}}),ma=N({name:"SiderWrapper",components:{Sider:sa,MixSider:fa},setup(){const{prefixCls:e}=ne("layout-sider-wrapper"),{getIsMobile:n}=le(),{setMenuSetting:o,getShowSidebar:s,getIsMixSidebar:a,getMobileWidth:d,getCollapsed:r}=oe();function c(f){o({collapsed:!f})}return{prefixCls:e,getMobileWidth:d,getShowSidebar:s,getIsMobile:n,getIsMixSidebar:a,getCollapsed:r,handleChange:c}}});function ha(e,n,o,s,a,d){const r=U("Sider"),c=Xt,f=jt,h=U("MixSider");return e.getShowSidebar||e.getIsMobile?(i(),E(Se,{key:0},[e.getIsMobile?(i(),v(f,{key:0,placement:"left",class:G(e.prefixCls),width:e.getMobileWidth,show:!e.getCollapsed,"onUpdate:show":e.handleChange},{default:u(()=>[m(c,{"body-content-style":"padding:0;"},{default:u(()=>[m(r)]),_:1})]),_:1},8,["class","width","show","onUpdate:show"])):e.getIsMixSidebar?(i(),v(h,{key:1})):(i(),v(r,{key:2}))],64)):P("",!0)}const _a=de(ma,[["render",ha]]);var ee=(e=>(e[e.REFRESH_PAGE=0]="REFRESH_PAGE",e[e.TOGGLE_FULL_SCREEN=1]="TOGGLE_FULL_SCREEN",e[e.CLOSE_CURRENT=2]="CLOSE_CURRENT",e[e.CLOSE_LEFT=3]="CLOSE_LEFT",e[e.CLOSE_RIGHT=4]="CLOSE_RIGHT",e[e.CLOSE_OTHER=5]="CLOSE_OTHER",e[e.CLOSE_ALL=6]="CLOSE_ALL",e[e.SCALE=7]="SCALE",e))(ee||{});function va(e,n){const o=De({current:null,currentIndex:0}),{t:s}=we(),a=$e(),{currentRoute:d}=ye(),{refreshPage:r,closeAll:c,close:f,closeLeft:h,closeOther:p,closeRight:y}=gn(),g=l(()=>t(n)?e.tabItem:t(d)),{getShowMenu:_,setMenuSetting:M}=oe(),{getShowHeader:S,setHeaderSetting:b}=Sn(),w=go(kt(_),kt(S));function k(){const C=w.value;M({show:C,hidden:!C}),b({show:C})}const F=l(()=>{if(!t(g))return;const{path:C}=t(d),D=o.current,$=D?D.path===C:!1,I=o.currentIndex,H=I===0||!$,q=a.getTabList.length===1,J=!$||I===a.getTabList.length-1&&a.getLastDragEndIndex>=0,Z=[{key:ee.TOGGLE_FULL_SCREEN,label:s("layout.multipleTab.toggleFullScreen"),iconName:w.value?"i-radix-icons-exit-full-screen":"i-radix-icons-enter-full-screen"},{type:"divider",key:"d2"},{key:ee.CLOSE_LEFT,label:s("layout.multipleTab.closeLeft"),disabled:H,iconName:"i-ph:arrow-line-left-bold"},{key:ee.CLOSE_RIGHT,label:s("layout.multipleTab.closeRight"),disabled:J,iconName:"i-ph:arrow-line-right-bold"},{key:ee.CLOSE_OTHER,label:s("layout.multipleTab.closeOther"),disabled:q||!$,iconName:"i-dashicons:align-center"},{key:ee.CLOSE_ALL,label:s("layout.multipleTab.closeAll"),disabled:q,iconName:"i-clarity:minus-line"}];return n.value?Z.slice(2):Z});function x(C){return D=>{if(!C)return;D?.preventDefault();const $=a.getTabList.findIndex(I=>I.path===C.path);o.current=C,o.currentIndex=$}}function A(C){switch(C){case ee.REFRESH_PAGE:r();break;case ee.TOGGLE_FULL_SCREEN:k();break;case ee.CLOSE_CURRENT:f(e.tabItem);break;case ee.CLOSE_LEFT:h();break;case ee.CLOSE_RIGHT:y();break;case ee.CLOSE_OTHER:p();break;case ee.CLOSE_ALL:c();break}}return{getDropMenuList:F,handleMenuEvent:A,handleContextMenu:x}}const ya=N({name:"TabContent",components:{NDropdown:an},props:{tabItem:{type:Object,default:null},isExtra:Boolean},setup(e){const{prefixCls:n}=ne("multiple-tabs-content"),{t:o}=we(),s=De({x:0,y:0}),a=fo(!1),d=l(()=>{const{tabItem:{meta:A}={}}=e;return A&&o(A.title)}),r=l(()=>!e.isExtra),c=l(()=>t(r)?s.x:void 0),f=l(()=>t(r)?s.y:void 0),h=l(()=>t(r)?t(a):void 0),p=l(()=>t(r)?k:void 0),y=l(()=>t(r)?"manual":"click"),g=l(()=>t(r)?"bottom-start":"bottom-end"),{getDropMenuList:_,handleMenuEvent:M,handleContextMenu:S}=va(e,r);async function b(A){e.tabItem&&(A.preventDefault(),a.value=!1,await ue(),s.x=A.clientX,s.y=A.clientY,a.value=!0,S(e.tabItem)(A))}function w(A){e.tabItem&&S(e.tabItem)(A)}function k(){a.value=!1}function F(A){M(A),k()}function x(A){return te("i",{class:`${A.iconName} z-1 text-4`})}return{prefixCls:n,getTitle:d,getIsTabs:r,X:c,Y:f,Show:h,ClickOutsize:p,getTrigger:y,getPlacement:g,getDropMenuList:_,handleContext:b,handleClick:w,onHandleSelect:F,renderIcon:x}}});function ba(e,n,o,s,a,d){const r=an;return i(),E(Se,null,[e.getIsTabs?(i(),E("div",{key:0,class:G(`${e.prefixCls}__info py-1 pl-2`),onContextmenu:n[0]||(n[0]=(...c)=>e.handleContext&&e.handleContext(...c))},[L("span",null,j(e.getTitle),1)],34)):P("",!0),m(r,{x:e.X,y:e.Y,show:e.Show,options:e.getDropMenuList,"render-icon":e.renderIcon,trigger:e.getTrigger,placement:e.getPlacement,onSelect:e.onHandleSelect,onClickoutside:e.ClickOutsize},{default:u(()=>[e.getIsTabs?P("",!0):(i(),E("div",{key:0,class:"app-mtabs-anction-btn-wrapper group",onClick:n[1]||(n[1]=(...c)=>e.handleClick&&e.handleClick(...c))},n[2]||(n[2]=[L("span",{class:"i-fluent-options-48-regular app-mtabs-anction-btn"},null,-1)])))]),_:1},8,["x","y","show","options","render-icon","trigger","placement","onSelect","onClickoutside"])],64)}const Ca=de(ya,[["render",ba]]),Sa=N({__name:"TabRedo",setup(e){const n=B(!1),{refreshPage:o}=gn();async function s(){const a=Date.now();n.value=!0,await o(),await Ye(1200-(Date.now()-a)%1200),n.value=!1}return(a,d)=>(i(),E("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:s},[L("span",{class:G(["i-codicon-refresh app-mtabs-anction-btn",{"app-ease-spin animate-duration-1200":t(n)}])},null,2)]))}});function Ma(){const e=B([]),n=$e(),o=ye();function s(r){const c=[];return r&&r.forEach(f=>{f.meta&&f.meta.affix&&c.push(qt(f))}),c}function a(){const r=s(o.getRoutes());e.value=r;for(const c of r)n.addTab({meta:c.meta,name:c.name,path:c.path})}let d=!1;return d||(a(),d=!0),e.value.map(r=>r.meta?.title).filter(Boolean)}const wa=N({name:"MultipleTabs",components:{TabRedo:Sa,TabContent:Ca},setup(){Ma();const e=B(),n=B(),o=ye(),s=$e(),{prefixCls:a}=ne("multiple-tabs"),{getShowMultipleTab:d}=mn(),r=Ne(),c=B({borderTop:"none",borderRadius:"0px",padding:"0px",paddingRight:"6px"}),f=l(()=>({backgroundColor:Bo("Layout","headerColor").value})),h=l(()=>s.getTabList.filter(g=>!g.meta?.hideTab));return pn(g=>{const{name:_}=g;if(_===dn||!g)return;const{path:M,fullPath:S,meta:b={}}=g,{currentActiveMenu:w,hideTab:k}=b,F=k?w:null,x=F||S||M;if(n.value!==x&&(n.value=x),F){const A=o.getRoutes().find(C=>C.path===w);A&&s.addTab(A)}else s.addTab(t(g))}),re(()=>n.value,g=>{ue(()=>{if(!g)return;const _=Me(e)?.querySelector(`[data-name="${g}"]`);_&&setTimeout(()=>{_.scrollIntoView({behavior:"smooth"})},50)})},{immediate:!0}),on(()=>Me(e),g=>{const _=g.querySelector(".n-tabs-nav");_.style.minHeight=`${Do}px`}),{activeKeyRef:n,panels:h,tabsElRef:e,handleClose:g=>{s.closeTabByKey(g,o)},handleTabChange:g=>{n.value=g,r(g,!1)},prefixCls:a,getTabStyle:c,getWrapperStyle:f,getShowMultipleTab:d}}}),ka={class:"flex h-full w-18"};function Aa(e,n,o,s,a,d){const r=U("TabContent"),c=ho,f=U("TabRedo"),h=mo;return e.getShowMultipleTab?(i(),E("div",{key:0,style:V(e.getWrapperStyle),class:G(e.prefixCls)},[m(h,{ref:"tabsElRef",value:e.activeKeyRef,"onUpdate:value":[n[0]||(n[0]=p=>e.activeKeyRef=p),e.handleTabChange],type:"card",size:"small",closable:"","tab-style":e.getTabStyle,onClose:e.handleClose},{prefix:u(()=>n[1]||(n[1]=[L("div",{class:"placeholder"},null,-1)])),suffix:u(()=>[L("div",ka,[m(r,{"is-extra":"","tab-item":e.$route},null,8,["tab-item"]),m(f)])]),default:u(()=>[(i(!0),E(Se,null,Zt(e.panels,p=>(i(),v(c,{key:p.path||p.fullPath,name:p.path||p.fullPath,class:G({"!pr-2":p?.meta?.affix}),closable:!p?.meta?.affix},{default:u(()=>[m(r,{"tab-item":p},null,8,["tab-item"])]),_:2},1032,["name","class","closable"]))),128))]),_:1},8,["value","tab-style","onClose","onUpdate:value"])],6)):P("",!0)}const Ta=de(wa,[["render",Aa]]),La=N({name:"DefaultLayout",components:{LayoutSider:_a,LayoutHeader:na,LayoutContent:hs,LayoutFooter:Go,MTabs:Ta},setup(){const{prefixCls:e}=ne("default-layout"),{getMenuType:n}=oe(),{runCmd:o}=Vo();return{getLayoutCls:l(()=>{let a="";switch(n.value){case ce.SIDEBAR:a=Ee.SIDEBAR;break;case ce.MIX_SIDEBAR:a=Ee.MIX_SIDEBAR;break;case ce.MIX:a=Ee.MIX;break;case ce.TOP_MENU:a=Ee.TOP_MENU;break}return`${a}`}),prefixCls:e,runCmd:o,RunCmd:fn}}});function Ia(e,n,o,s,a,d){const r=U("LayoutHeader"),c=U("LayoutSider"),f=U("MTabs"),h=U("LayoutFooter"),p=U("LayoutContent"),y=fn;return i(),E("div",{class:G([e.prefixCls,e.getLayoutCls])},[m(r),m(c),m(f),m(p,null,{footer:u(()=>[m(h)]),_:1}),m(y,{ref:"runCmd"},null,512)],2)}const Ra=de(La,[["render",Ia]]),Xa=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"}));export{yn as g,Xa as i};

import{aN as U,a6 as p,aG as y,al as v,G as he,a7 as I,a8 as o,aH as M,F as l,a9 as t,aa as u,ab as d,aT as i,aU as we,bm as We,bQ as Re,J as ue,r as Me,B as G,N as Pe,ao as oe,aJ as Z,aL as j,aA as w,aI as Se,aS as He,at as g,bs as Oe,bK as Ve,be as Ne,aM as qe,bE as Fe,bF as Ie,bO as $e,aV as se,y as De,aQ as Ee,aR as Ae,b4 as Ue,bR as je}from"./vendor-f4e37609.js";import{b as ze,k as N,e as Ge,a as Ke,s as Ze,m as Je}from"./app-516cf0fd.js";import{I as L}from"./app-89768b9a.js";import{u as Le}from"./app-34fc42c0.js";import{u as Be}from"./app-e921add8.js";import{p as H}from"./app-5b984881.js";import{e as P,K as Qe,R as Ce,m as Xe}from"./vendor-5db0929b.js";import{l as Ye}from"./app-89958fde.js";const et={style:{display:"inline-block"},viewBox:"0 0 256 256",width:"1em",height:"1em"};function tt(O,c){return p(),y("svg",et,c[0]||(c[0]=[v("path",{fill:"currentColor",d:"M40 92h30.06a36 36 0 0 0 67.88 0H216a12 12 0 0 0 0-24h-78.06a36 36 0 0 0-67.88 0H40a12 12 0 0 0 0 24m64-24a12 12 0 1 1-12 12a12 12 0 0 1 12-12m112 96h-14.06a36 36 0 0 0-67.88 0H40a12 12 0 0 0 0 24h94.06a36 36 0 0 0 67.88 0H216a12 12 0 0 0 0-24m-48 24a12 12 0 1 1 12-12a12 12 0 0 1-12 12"},null,-1)]))}const to=U({name:"ph-sliders-horizontal-bold",render:tt}),ot={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function nt(O,c){return p(),y("svg",ot,c[0]||(c[0]=[v("path",{fill:"currentColor",d:"M4 19q-.825 0-1.412-.587T2 17V7q0-.825.588-1.412T4 5h16q.825 0 1.413.588T22 7v10q0 .825-.587 1.413T20 19zm5-3h6q.425 0 .713-.288T16 15t-.288-.712T15 14H9q-.425 0-.712.288T8 15t.288.713T9 16m-3-6q.425 0 .713-.288T7 9t-.288-.712T6 8t-.712.288T5 9t.288.713T6 10m3 0q.425 0 .713-.288T10 9t-.288-.712T9 8t-.712.288T8 9t.288.713T9 10m3 0q.425 0 .713-.288T13 9t-.288-.712T12 8t-.712.288T11 9t.288.713T12 10m3 0q.425 0 .713-.288T16 9t-.288-.712T15 8t-.712.288T14 9t.288.713T15 10m3 0q.425 0 .713-.288T19 9t-.288-.712T18 8t-.712.288T17 9t.288.713T18 10M6 13q.425 0 .713-.288T7 12t-.288-.712T6 11t-.712.288T5 12t.288.713T6 13m3 0q.425 0 .713-.288T10 12t-.288-.712T9 11t-.712.288T8 12t.288.713T9 13m3 0q.425 0 .713-.288T13 12t-.288-.712T12 11t-.712.288T11 12t.288.713T12 13m3 0q.425 0 .713-.288T16 12t-.288-.712T15 11t-.712.288T14 12t.288.713T15 13m3 0q.425 0 .713-.288T19 12t-.288-.712T18 11t-.712.288T17 12t.288.713T18 13"},null,-1)]))}const it=U({name:"material-symbols-keyboard-rounded",render:nt}),lt={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function rt(O,c){return p(),y("svg",lt,c[0]||(c[0]=[v("path",{fill:"currentColor",d:"M3 4h6.11l7.04 14H21v2h-6.12L7.84 6H3zm11 0h7v2h-7z"},null,-1)]))}const at=U({name:"mdi-apple-keyboard-option",render:rt}),st={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function ut(O,c){return p(),y("svg",st,c[0]||(c[0]=[v("path",{fill:"currentColor",d:"M15 18v-6h2.17L12 6.83L6.83 12H9v6zM12 4l10 10h-5v6H7v-6H2z"},null,-1)]))}const dt=U({name:"mdi-apple-keyboard-shift",render:ut}),ft={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function mt(O,c){return p(),y("svg",ft,c[0]||(c[0]=[v("path",{fill:"currentColor",d:"M21 18q-.425 0-.712-.288T20 17V7q0-.425.288-.712T21 6t.713.288T22 7v10q0 .425-.288.713T21 18m-6.825-5H3q-.425 0-.712-.288T2 12t.288-.712T3 11h11.175L11.3 8.1q-.275-.275-.288-.687T11.3 6.7q.275-.275.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.687.275T11.3 17.3q-.3-.3-.3-.712t.3-.713z"},null,-1)]))}const pt=U({name:"material-symbols-keyboard-tab-rounded",render:mt}),ct={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function gt(O,c){return p(),y("svg",ct,c[0]||(c[0]=[v("path",{fill:"currentColor",d:"M6 2a4 4 0 0 1 4 4v2h4V6a4 4 0 0 1 4-4a4 4 0 0 1 4 4a4 4 0 0 1-4 4h-2v4h2a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4v-2h-4v2a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4h2v-4H6a4 4 0 0 1-4-4a4 4 0 0 1 4-4m10 16a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2h-2zm-2-8h-4v4h4zm-8 6a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2v-2zM8 6a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2h2zm10 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2z"},null,-1)]))}const vt=U({name:"mdi-apple-keyboard-command",render:gt}),yt={key:0},bt={key:1},_t={key:0},xt={key:1},kt={key:0},Tt={key:1},ht={key:0},wt={key:1},Ct={key:0},Mt={key:1},St={key:0},zt={key:1},Lt={key:0},Bt={key:1},Wt={key:0},Rt={key:1},Pt={key:0},Ht={key:1},Ot={key:0},Vt={key:1},Nt={key:0},qt={key:1},Ft=he({__name:"ShortcutsTable",setup(O){const{t:c}=ze(),s={size:"small",type:"primary",bordered:!1,style:"font-weight: 550"};return(ne,e)=>{const m=vt,k=we,a=We,b=pt,D=dt,S=at,q=Re;return p(),I(q,{"single-column":"",bordered:!1,"bottom-bordered":!1},{default:o(()=>[v("tbody",null,[v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.indentLine")),1),l(N)()?(p(),y("td",yt,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[1]||(e[1]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[0]||(e[0]=[i(" ] ")])),_:1},16),e[2]||(e[2]=i("  /  ")),t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(b)]),_:1})]),_:1},16)])):(p(),y("td",bt,[t(a,u(d(s)),{default:o(()=>e[3]||(e[3]=[i(" CTRL ")])),_:1},16),e[6]||(e[6]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[4]||(e[4]=[i(" ] ")])),_:1},16),e[7]||(e[7]=i("  /  ")),t(a,u(d(s)),{default:o(()=>e[5]||(e[5]=[i(" TAB ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.outdentLine")),1),l(N)()?(p(),y("td",_t,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[9]||(e[9]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[8]||(e[8]=[i(" [ ")])),_:1},16),e[10]||(e[10]=i("  /  ")),t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(D)]),_:1})]),_:1},16),e[11]||(e[11]=i(" + ")),t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(b)]),_:1})]),_:1},16)])):(p(),y("td",xt,[t(a,u(d(s)),{default:o(()=>e[12]||(e[12]=[i(" CTRL ")])),_:1},16),e[16]||(e[16]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[13]||(e[13]=[i(" [ ")])),_:1},16),e[17]||(e[17]=i("  /  ")),t(a,u(d(s)),{default:o(()=>e[14]||(e[14]=[i(" SHIFT ")])),_:1},16),e[18]||(e[18]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[15]||(e[15]=[i(" TAB ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.toggleLineComment")),1),l(N)()?(p(),y("td",kt,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[20]||(e[20]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[19]||(e[19]=[i(" / ")])),_:1},16)])):(p(),y("td",Tt,[t(a,u(d(s)),{default:o(()=>e[21]||(e[21]=[i(" CTRL ")])),_:1},16),e[23]||(e[23]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[22]||(e[22]=[i(" / ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.find")),1),l(N)()?(p(),y("td",ht,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[25]||(e[25]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[24]||(e[24]=[i(" F ")])),_:1},16)])):(p(),y("td",wt,[t(a,u(d(s)),{default:o(()=>e[26]||(e[26]=[i(" CTRL ")])),_:1},16),e[28]||(e[28]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[27]||(e[27]=[i(" F ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.replace")),1),l(N)()?(p(),y("td",Ct,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(S)]),_:1})]),_:1},16),e[30]||(e[30]=i(" + ")),t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[31]||(e[31]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[29]||(e[29]=[i(" F ")])),_:1},16)])):(p(),y("td",Mt,[t(a,u(d(s)),{default:o(()=>e[32]||(e[32]=[i(" CTRL ")])),_:1},16),e[34]||(e[34]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[33]||(e[33]=[i(" H ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.goToLine")),1),l(N)()?(p(),y("td",St,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[36]||(e[36]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[35]||(e[35]=[i(" G ")])),_:1},16)])):(p(),y("td",zt,[t(a,u(d(s)),{default:o(()=>e[37]||(e[37]=[i(" CTRL ")])),_:1},16),e[39]||(e[39]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[38]||(e[38]=[i(" G ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.cut")),1),l(N)()?(p(),y("td",Lt,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[41]||(e[41]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[40]||(e[40]=[i(" X ")])),_:1},16)])):(p(),y("td",Bt,[t(a,u(d(s)),{default:o(()=>e[42]||(e[42]=[i(" CTRL ")])),_:1},16),e[44]||(e[44]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[43]||(e[43]=[i(" X ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.copy")),1),l(N)()?(p(),y("td",Wt,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[46]||(e[46]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[45]||(e[45]=[i(" C ")])),_:1},16)])):(p(),y("td",Rt,[t(a,u(d(s)),{default:o(()=>e[47]||(e[47]=[i(" CTRL ")])),_:1},16),e[49]||(e[49]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[48]||(e[48]=[i(" C ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.paste")),1),l(N)()?(p(),y("td",Pt,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[51]||(e[51]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[50]||(e[50]=[i(" V ")])),_:1},16)])):(p(),y("td",Ht,[t(a,u(d(s)),{default:o(()=>e[52]||(e[52]=[i(" CTRL ")])),_:1},16),e[54]||(e[54]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[53]||(e[53]=[i(" V ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.revoke")),1),l(N)()?(p(),y("td",Ot,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[56]||(e[56]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[55]||(e[55]=[i(" Z ")])),_:1},16)])):(p(),y("td",Vt,[t(a,u(d(s)),{default:o(()=>e[57]||(e[57]=[i(" CTRL ")])),_:1},16),e[59]||(e[59]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[58]||(e[58]=[i(" Z ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(l(c)("editor.shortcuts.recover")),1),l(N)()?(p(),y("td",Nt,[t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(D)]),_:1})]),_:1},16),e[61]||(e[61]=i(" + ")),t(a,u(d(s)),{icon:o(()=>[t(k,null,{default:o(()=>[t(m)]),_:1})]),_:1},16),e[62]||(e[62]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[60]||(e[60]=[i(" Z ")])),_:1},16)])):(p(),y("td",qt,[t(a,u(d(s)),{default:o(()=>e[63]||(e[63]=[i(" CTRL ")])),_:1},16),e[66]||(e[66]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[64]||(e[64]=[i(" SHIFT ")])),_:1},16),e[67]||(e[67]=i(" + ")),t(a,u(d(s)),{default:o(()=>e[65]||(e[65]=[i(" Z ")])),_:1},16)]))])])]),_:1})}}}),It=he({__name:"Toolbox",props:{show:H.bool.def(!1),diffMode:H.bool.def(!1),popover:H.bool.def(!0),editor:H.object.def({})},setup(O){const c=O,{show:s,diffMode:ne,popover:e,editor:m}=ue(c),{getIsMobile:k}=Le(),{prefixCls:a}=Be("code-editor-toolbox"),{t:b}=ze(),D=Me({show:!1,showShortcutsModal:!1,previewComponentTitle:"",showPreviewComponent:!1,isPasteBehavior:!1,inputValue:"",inputInstRef:null,moveCursorInterval:null,longPressTimeout:null,inlineMode:!1,readOnly:!1}),{show:S,showShortcutsModal:q,previewComponentTitle:$,showPreviewComponent:_,isPasteBehavior:E,inputValue:B,inputInstRef:A,moveCursorInterval:K,longPressTimeout:J,inlineMode:Q,readOnly:X}=ue(D),ie=k.value?13:15;async function h(x){switch(x){case"findBox":m.value.showOrHideFindWidgt();break;case"wordWrap":m.value.wordWrap=m.value.wordWrap==="on"?"off":"on";break;case"renderSideBySide":m.value.renderSideBySide=!m.value.renderSideBySide;break;case"minimap":m.value.minimap=!m.value.minimap;break;case"cursorUp":m.value.moveCursorUp();break;case"cursorDown":m.value.moveCursorDown();break;case"cursorLeft":m.value.moveCursorLeft();break;case"cursorRight":m.value.moveCursorRight();break;case"cut":case"copy":B.value=m.value.getSelectedOrCurrentLineText().text,B.value&&(x==="cut"&&m.value.clearSelectedOrCurrentLineText(),$.value=b("editor.toolbox.selectedContent"),_.value=!0,setTimeout(()=>{A.value?.focus(),A.value?.select()},500));break;case"paste":$.value=b("editor.toolbox.pasteInput"),E.value=!0,_.value=!0,setTimeout(()=>{A.value?.focus()},500);break;case"pasteConfirm":m.value.insertTextAtCursor(B.value),F();break;case"contextMenu":m.value.showContextMenu();break;case"commandPalette":m.value.showCommandPalette();break;case"showShortcutsHelpMenu":q.value=!0;break}["cursorUp","cursorDown","cursorLeft","cursorRight"].includes(x)||(S.value=!1)}function z(x){h(x),J.value=setTimeout(()=>{K.value=setInterval(()=>{h(x)},50)},500)}function W(){clearTimeout(J.value),clearInterval(K.value),K.value=null}function Y(){return g(se,{size:"small"},()=>[g(L,{size:20,color:m.value.fontSize!==ie?"var(--app-primary-color)":void 0,icon:"ri:font-size",style:{verticalAlign:"-0.45em"}}),g($e,{value:m.value.fontSize,"onUpdate:value":x=>{m.value.fontSize=x},min:12,max:40,buttonPlacement:"both",size:"small",style:{textAlign:"center",width:"100px"}})])}function le(){return g(se,{size:"small"},()=>[g(L,{size:20,color:m.value.wordWrap==="on"?"var(--app-primary-color)":void 0,icon:"charm:swap-horizontal",style:{verticalAlign:"-0.45em"}}),g(w,{size:"small",tertiary:!0,style:{width:"100px"},disabled:Q.value,onClick:()=>h("wordWrap")},()=>b("editor.toolbox.wordWrapBtn"))])}function n(){return g(se,{size:"small"},()=>[g(L,{size:20,color:m.value.renderSideBySide?void 0:"var(--app-primary-color)",icon:"fluent-mdl2:diff-inline",style:{verticalAlign:"-0.45em"}}),g(w,{size:"small",tertiary:!0,style:{width:"100px"},disabled:!ne.value,onClick:()=>h("renderSideBySide")},()=>b("editor.toolbox.inlineModeBtn"))])}function re(){return g(se,{size:"small"},()=>[g(L,{size:20,color:m.value.minimap?"var(--app-primary-color)":void 0,icon:"mdi:map-outline",style:{verticalAlign:"-0.45em"}}),g(w,{size:"small",tertiary:!0,style:{width:"100px"},disabled:Q.value,onClick:()=>h("minimap")},()=>b("editor.toolbox.minimapBtn"))])}function ae(){return g(w,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{z("cursorUp")},onMouseup:W,onMouseleave:W,onTouchstart:x=>{x.preventDefault(),z("cursorUp")},onTouchend:W},{icon:()=>g(L,{icon:"mdi:menu-up",size:32})})}function de(){return g(w,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{z("cursorDown")},onMouseup:W,onMouseleave:W,onTouchstart:x=>{x.preventDefault(),z("cursorDown")},onTouchend:W},{icon:()=>g(L,{icon:"mdi:menu-down",size:32})})}function fe(){return g(w,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{z("cursorLeft")},onMouseup:W,onMouseleave:W,onTouchstart:x=>{x.preventDefault(),z("cursorLeft")},onTouchend:W},{icon:()=>g(L,{icon:"mdi:menu-left",size:32})})}function me(){return g(w,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{z("cursorRight")},onMouseup:W,onMouseleave:W,onTouchstart:x=>{x.preventDefault(),z("cursorRight")},onTouchend:W},{icon:()=>g(L,{icon:"mdi:menu-right",size:32})})}function pe(){return g(w,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("findBox")},{icon:()=>g(L,{size:22,icon:"mdi:find-replace"}),default:()=>b("editor.toolbox.findBtn")})}function ce(){return g(w,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},disabled:X.value,onClick:()=>h("cut")},{icon:()=>g(L,{icon:"material-symbols:content-cut-rounded"}),default:()=>b("editor.toolbox.cutBtn")})}function ge(){return g(w,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("copy")},{icon:()=>g(L,{icon:"material-symbols:content-copy-outline-rounded"}),default:()=>b("editor.toolbox.copyBtn")})}function ve(){return g(w,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},disabled:X.value,onClick:()=>h("paste")},{icon:()=>g(L,{icon:"material-symbols:content-paste-rounded"}),default:()=>b("editor.toolbox.pasteBtn")})}function ye(){return g(w,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("contextMenu")},{icon:()=>g(L,{icon:"material-symbols:menu"}),default:()=>b("editor.toolbox.contextMenuBtn")})}function be(){return g(w,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("commandPalette")},{icon:()=>g(L,{icon:"mdi:apple-keyboard-command"}),default:()=>b("editor.toolbox.commandPaletteBtn")})}function _e(){return g(w,{size:"small",tertiary:!0,iconPlacement:"left",disabled:k.value,style:{width:"100%"},onClick:()=>h("showShortcutsHelpMenu")},{icon:()=>g(L,{size:20,icon:"gg:shortcut"}),default:()=>b("editor.toolbox.shortcutsBtn")})}function ee(){return g(j,null,{default:()=>[g(j,{vertical:!0},{default:()=>[Y(),le(),n(),re(),g(j,{direction:"column",align:"center",justify:"center",style:{width:"130px"}},{default:()=>[fe(),g(j,{vertical:!0,style:{gap:"30px"}},{default:()=>[ae(),de()]}),me()]})]}),g(j,{vertical:!0,class:"button-list",style:{width:"fit-content"}},{default:()=>[pe(),ce(),ge(),ve(),ye(),be(),_e()]})]})}async function F(){_.value=!1,setTimeout(()=>{$.value="",B.value="",E.value=!1},500)}return G(s,async x=>{S.value=x}),G(m,async x=>{x&&(Q.value=x.inlineMode,X.value=x.readOnly)}),(x,C)=>{const xe=Oe,r=it,f=we,T=Ve,V=Ne,te=qe,ke=Fe,Te=Ie;return p(),y(He,null,[l(e)?(p(),I(xe,{key:0,show:l(S),"onUpdate:show":C[0]||(C[0]=R=>Z(S)?S.value=R:null),trigger:l(k)?"manual":"click","show-arrow":!1,placement:"bottom-start",style:{padding:"8px","z-index":"99999"}},{trigger:o(()=>[Pe(x.$slots,"trigger",{show:l(S),toggleShow:()=>S.value=!l(S)},void 0,!0)]),default:o(()=>[v("div",{class:oe([l(a)])},[t(ee)],2)]),_:3},8,["show","trigger"])):(p(),y("div",{key:1,class:oe([l(a)])},[t(ee)],2)),t(T,{show:l(q),"onUpdate:show":C[1]||(C[1]=R=>Z(q)?q.value=R:null),preset:"dialog","auto-focus":!1,title:l(b)("editor.shortcuts.title"),class:oe({"apple-modal":l(N)()}),style:{width:"fit-content","min-width":"480px"}},{icon:o(()=>[t(f,{size:26},{default:o(()=>[t(r,{style:{"vertical-align":"0"}})]),_:1})]),default:o(()=>[t(Ft)]),_:1},8,["show","title","class"]),l(k)?(p(),I(Te,{key:3,show:l(_),"onUpdate:show":C[7]||(C[7]=R=>Z(_)?_.value=R:null),placement:"bottom",height:"280px",style:{width:"100%",margin:"0 auto","border-radius":"1em 1em 0 0"},"auto-focus":!1,"mask-closable":!1,onMaskClick:F,onAfterLeave:F},{default:o(()=>[t(ke,{closable:"","header-style":"border-bottom: none; height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 8px; overscroll-behavior: none","footer-style":"border-top: none; padding: 16px 24px 24px 24px"},{header:o(()=>[i(M(l($)),1)]),default:o(()=>[t(V,{ref_key:"inputInstRef",ref:A,value:l(B),"onUpdate:value":C[5]||(C[5]=R=>Z(B)?B.value=R:null),clearable:l(E),type:"textarea",style:{border:"1px solid var(--app-border-color)","background-color":"transparent","font-family":"var(--app-font-family-mono)"},autosize:{minRows:5,maxRows:5}},null,8,["value","clearable"])]),footer:o(()=>[l(E)?(p(),I(l(j),{key:0,inline:"",wrap:!1,justify:"space-between",style:{gap:"0px",width:"100%"}},{default:o(()=>[t(l(w),{tertiary:"",focusable:!1,style:{width:"50%","border-radius":"8px","margin-left":"-4px"},onClick:F},{default:o(()=>[i(M(l(b)("common.cancelText")),1)]),_:1}),t(l(w),{secondary:"",type:"primary",focusable:!1,disabled:!l(B),style:{width:"50%","border-radius":"8px","margin-left":"8px"},onClick:C[6]||(C[6]=R=>h("pasteConfirm"))},{default:o(()=>[i(M(l(b)("common.okText")),1)]),_:1},8,["disabled"])]),_:1})):(p(),I(l(w),{key:1,block:"",strong:"",secondary:"",type:"primary",focusable:!1,onClick:F},{default:o(()=>[i(M(l(b)("component.modal.close")),1)]),_:1}))]),_:1})]),_:1},8,["show"])):(p(),I(T,{key:2,show:l(_),"onUpdate:show":C[4]||(C[4]=R=>Z(_)?_.value=R:null),preset:"dialog","auto-focus":!1,title:l($),style:{width:"600px"},"show-icon":!1,"on-close":F,"on-mask-click":F},{action:o(()=>[l(E)?(p(),I(l(j),{key:0},{default:o(()=>[t(l(w),{size:"small",tertiary:"",ghost:!1,focusable:!1,onClick:F},{default:o(()=>[i(M(l(b)("common.cancelText")),1)]),_:1}),t(l(w),{size:"small",type:"primary",focusable:!1,onClick:C[3]||(C[3]=R=>h("pasteConfirm"))},{default:o(()=>[i(M(l(b)("common.okText")),1)]),_:1})]),_:1})):Se("",!0)]),default:o(()=>[t(te,{bordered:!1,style:{height:"100%"},"content-style":"height: 100%; padding: 0; padding-top: 2px"},{default:o(()=>[t(V,{ref_key:"inputInstRef",ref:A,value:l(B),"onUpdate:value":C[2]||(C[2]=R=>Z(B)?B.value=R:null),clearable:l(E),type:"textarea",style:{border:"1px solid var(--app-border-color)","background-color":"transparent","font-family":"var(--app-font-family-mono)"},autosize:{minRows:5,maxRows:20}},null,8,["value","clearable"])]),_:1})]),_:1},8,["show","title"]))],64)}}}),oo=Ge(It,[["__scopeId","data-v-fa4b0591"]]),$t={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function Dt(O,c){return p(),y("svg",$t,c[0]||(c[0]=[v("path",{fill:"currentColor",d:"m1 4.27l1.47 1.47A1.9 1.9 0 0 0 2 7v10a2 2 0 0 0 2 2h11.73l3 3L20 20.72L2.28 3zM4 17V7.27l1 1V10h1.73L8 11.27V13h1.73l1 1H8v2h4.73l1 1zm1-6h2v2H5zm12 0h2v2h-2zm2-1h-2V8h2zm-5 1h2v2h-1.17l-.83-.83zm-1-1h-1.17L11 9.17V8h2zm9-3v10c0 .86-.55 1.58-1.3 1.87L18.83 17H20V7H8.83l-2-2H20a2 2 0 0 1 2 2m-6 3h-2V8h2z"},null,-1)]))}const Et=U({name:"mdi-keyboard-off-outline",render:Dt}),At={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function Ut(O,c){return p(),y("svg",At,c[0]||(c[0]=[v("path",{fill:"currentColor",d:"M19 10h-2V8h2m0 5h-2v-2h2m-3-1h-2V8h2m0 5h-2v-2h2m0 6H8v-2h8m-9-5H5V8h2m0 5H5v-2h2m1 0h2v2H8m0-5h2v2H8m3 1h2v2h-2m0-5h2v2h-2m9-5H4c-1.11 0-2 .89-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2"},null,-1)]))}const jt=U({name:"mdi-keyboard",render:Ut}),no=he({__name:"index",props:{value:H.object.def({content:"",language:"plaintext"}),originValue:H.string.def(""),diffMode:H.bool.def(!1),readOnly:H.bool.def(!1),fontSize:H.number.def(15),wordWrap:H.oneOf(["off","on"]).def("on"),minimap:H.bool.def(!0),renderSideBySide:H.bool.def(!0),inlineMode:H.bool.def(!1)},emits:["update:content"],setup(O,{expose:c,emit:s}){const ne=O,e=s,{value:m,originValue:k,diffMode:a,readOnly:b,fontSize:D,wordWrap:S,minimap:q,renderSideBySide:$,inlineMode:_}=ue(ne),E=Me({fontSize:D.value,wordWrap:_.value?"on":S.value,renderSideBySide:$.value,minimap:_.value?!1:q.value,readOnly:b.value,inlineMode:_.value,isFocused:!1,disabledMobileKeyboard:!1}),{fontSize:B,wordWrap:A,renderSideBySide:K,minimap:J,readOnly:Q,inlineMode:X,isFocused:ie,disabledMobileKeyboard:h}=ue(E),{getIsMobile:z}=Le(),{getThemeMode:W}=Ke(),{prefixCls:Y}=Be("code-editor"),le=De();let n=null;const re={maxTokenizationLineLength:2e4},ae={fontFamily:Ze.fontFamilyMono,fontSize:D.value||(z.value?13:15),lineNumbers:_.value?"off":"on",lineNumbersMinChars:0,padding:{top:z.value?2:10},cursorStyle:"line",cursorBlinking:"smooth",cursorSmoothCaretAnimation:"off",unicodeHighlight:{ambiguousCharacters:!1,invisibleCharacters:!1},inlineSuggest:{enabled:!0,showToolbar:"onHover"},minimap:{enabled:_.value?!1:q.value,autohide:!z.value},stickyScroll:{enabled:!0,maxLineCount:5},guides:{highlightActiveBracketPair:!0,bracketPairs:"active",bracketPairsHorizontal:"active"},bracketPairColorization:{enabled:!1,independentColorPoolPerBracketType:!1},scrollbar:{verticalScrollbarSize:_.value?8:14,horizontal:_.value?"hidden":"auto"},letterSpacing:0,lineHeight:1.5,automaticLayout:!0,autoIndent:"full",quickSuggestionsDelay:200,roundedSelection:!0,glyphMargin:!1,smoothScrolling:!0,wordWrap:_.value?"on":S.value,folding:!0,colorDecorators:!0,occurrencesHighlight:"off",readOnly:b.value,domReadOnly:z.value?b.value:!1,stopRenderingLineAfter:1e4,scrollBeyondLastLine:!_.value,renderLineHighlight:_.value?"none":"line"},de={hideUnchangedRegions:{contextLineCount:3,enabled:!0,minimumLineCount:3,revealLineCount:20},diffWordWrap:_.value?"on":S.value,useInlineViewWhenSpaceIsLimited:!1,ignoreTrimWhitespace:!1,renderSideBySide:$.value};Ee(async()=>{["javascript","json"].forEach(f=>{P.createModel("",f).dispose()}),await Ye(Xe);const r=le.value;r&&(a.value?(n=P.createDiffEditor(r,{...re,...ae,...de,lineDecorationsWidth:11}),n.setModel({original:P.createModel(k.value,m.value.language||"plaintext"),modified:P.createModel(m.value.content,m.value.language||"plaintext")})):(n=P.create(r,{...re,...ae,value:m.value.content,language:m.value.language||"plaintext",lineDecorationsWidth:0}),n.getModel().setEOL(P.EndOfLineSequence.LF)),Je(W.value),_.value&&(n.onKeyDown(f=>{f.keyCode===Qe.Enter&&f.preventDefault()}),n.onDidChangeModelContent(f=>{let T=n.getValue();T=T.replace(/\n/g," "),e("update:content",{content:T,language:m.value.language})}),n.onDidFocusEditorWidget(()=>{ie.value=!0}),n.onDidBlurEditorWidget(()=>{ie.value=!1})))}),G(m,async r=>{if(n)if(a.value){const f=n.getModel().modified;f&&f.getLanguageId()!==r.language&&P.setModelLanguage(f,r.language),n.setModel({original:P.createModel(k.value,r.language),modified:P.createModel(r.content,r.language)})}else{const f=n.getModel();f&&f.getLanguageId()!==r.language&&P.setModelLanguage(f,r.language),m.value.value!==r.content&&n.setValue(r.content)}}),G(k,async r=>{n&&n.setModel({original:P.createModel(r,m.value.language),modified:P.createModel(m.value.content,m.value.language)})}),G([S,$,D,b,q],([r,f,T,V,te])=>{n&&n.updateOptions({wordWrap:r,renderSideBySide:f,fontSize:T,readOnly:V,minimap:{enabled:te}})}),G([A,K,B,J],([r,f,T,V])=>{n&&n.updateOptions({wordWrap:r,renderSideBySide:f,fontSize:T,minimap:{enabled:V}})}),G(h,r=>{n&&z.value&&!b.value&&!_.value&&n.updateOptions({readOnly:r,domReadOnly:r})});function fe(){n&&(n.dispose(),P.getModels().forEach(r=>r.dispose()))}function me(){return n?a.value?n.getModifiedEditor().getValue():n.getValue():""}function pe(){if(n)if(a.value){const r=n.getOriginalEditor(),f=n.getModifiedEditor(),T=r.getContribution("editor.contrib.findController")._findWidgetVisible.get(),V=f.getContribution("editor.contrib.findController")._findWidgetVisible.get();T?r.trigger("keyboard","closeFindWidget"):r.getAction("actions.find").run(),V?f.trigger("keyboard","closeFindWidget"):f.getAction("actions.find").run()}else{const r=n.getAction("actions.find");n.getContribution("editor.contrib.findController")._findWidgetVisible.get()?n.trigger("keyboard","closeFindWidget"):r.run()}}function ce(){if(!n)return;n.getModel()&&n.revealLine(1,0)}function ge(){if(!n)return;const r=n.getModel();if(r){const f=r.getLineCount();n.revealLine(f,0)}}function ve(){if(!n)return;const r=n.getPosition(),f=Math.max(r.lineNumber-1,1);n.setPosition({lineNumber:f,column:r.column}),n.revealLine(f),n.focus()}function ye(){if(!n)return;const r=n.getPosition(),f=r.lineNumber+1;n.setPosition({lineNumber:f,column:r.column}),n.revealLine(f),n.focus()}function be(){if(!n)return;const r=n.getPosition();n.setPosition({lineNumber:r.lineNumber,column:r.column-1}),n.focus()}function _e(){if(!n)return;const r=n.getPosition();n.setPosition({lineNumber:r.lineNumber,column:r.column+1}),n.focus()}function ee(){const r=n.getSelection();if(r.isEmpty()){const f=r.getStartPosition(),T=n.getModel().getLineContent(f.lineNumber);return{text:T,range:new Ce(f.lineNumber,1,f.lineNumber,T.length+1)}}else return{text:n.getModel().getValueInRange(r),range:r}}function F(){if(!n)return;const{range:r}=ee();n.executeEdits("",[{range:r,text:""}])}function x(r){if(!n||!r)return;const f=n.getPosition(),T=new Ce(f.lineNumber,f.column,f.lineNumber,f.column);n.executeEdits("",[{range:T,text:r,forceMoveMarkers:!0}]);const V={lineNumber:f.lineNumber,column:f.column+r.length};n.setPosition(V)}function C(){if(!n)return;const r=n.getPosition();n.trigger("keyboard","editor.action.showContextMenu",{position:r})}function xe(){n&&(n.focus(),n.trigger("keyboard","editor.action.quickCommand",null))}return Ae(()=>{n.dispose()}),c({dispose:fe,getValue:me,showOrHideFindWidgt:pe,scrollToTop:ce,scrollToBottom:ge,fontSize:B,wordWrap:A,renderSideBySide:K,minimap:J,readOnly:Q,inlineMode:X,moveCursorUp:ve,moveCursorDown:ye,moveCursorLeft:be,moveCursorRight:_e,getSelectedOrCurrentLineText:ee,clearSelectedOrCurrentLineText:F,insertTextAtCursor:x,showContextMenu:C,showCommandPalette:xe}),(r,f)=>{const T=jt,V=Et,te=we,ke=Ue,Te=je;return p(),y("div",{class:oe([l(Y)])},[v("div",{ref_key:"MonacoEditorRef",ref:le,class:oe([l(_)?`${l(Y)}-inline-edit-content`:`${l(Y)}-edit-content`,{isFocused:l(_)}])},null,2),l(z)&&!l(b)&&!l(_)?(p(),I(Te,{key:0,right:20,bottom:20,style:{"z-index":"1000"},onClick:f[0]||(f[0]=R=>h.value=!l(h))},{default:o(()=>[t(ke,{type:l(h)?"error":"success",dot:"",offset:[-4,20]},{default:o(()=>[t(te,{size:24,depth:2},{default:o(()=>[l(h)?(p(),I(V,{key:1})):(p(),I(T,{key:0}))]),_:1})]),_:1},8,["type"])]),_:1})):Se("",!0)],2)}}});export{oo as M,to as _,no as a};

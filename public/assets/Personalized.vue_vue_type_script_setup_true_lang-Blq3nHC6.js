import{a7 as i,aK as A,av as k,I as X,K as le,A as g,r as Z,G as ae,u as e,aa as l,a9 as t,a8 as u,aR as G,ax as B,m as U,aG as w,az as R,am as F,bb as se,aM as ee,aE as te,ah as re,co as ie,ay as q,h as ce,O as de,ab as ue,ac as _e,aL as N,aS as me,cF as pe,bn as he,aT as fe,bw as ge,bx as ve,bo as Te,ap as ye}from"./vendor-CsvKI2kS.js";import{_ as ke,a as Ce}from"./wb-sunny-outline-Cnxysxg0.js";import{E as $,d as J,a as W,g as be}from"./useTextMate-UgNy7zwp.js";import{p as y}from"./propTypes-C3nnPquf.js";import{u as ne}from"./useAppInject-BoZf51bk.js";import{d as Le,K as xe,h as Me,a as Se,a6 as Y,ap as Q,af as ze,s as Ae,T as z}from"./index-hO6mdrNR.js";const we={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ie=k("path",{fill:"currentColor",d:"M11.7 20h-.4l-.4-2.6c-1.2-.2-2.2-.9-3-1.8l-2.4 1l-.8-1.3l2.1-1.6q-.6-1.8 0-3.6L4.7 8.7l.8-1.3l2.4 1q1.2-1.35 3-1.8l.3-2.6h1.5l.4 2.6c1.2.2 2.3.9 3 1.8l2.4-1l.8 1.3l-2.1 1.5q.3.9.3 1.8h.5c.5 0 1 .1 1.5.2V12l-.1-1l2.1-1.6c.2-.2.2-.4.1-.6l-2-3.5c-.1-.3-.3-.3-.6-.3l-2.5 1c-.5-.4-1.1-.7-1.7-1l-.4-2.7c.1-.1-.2-.3-.4-.3h-4c-.2 0-.5.2-.5.4l-.4 2.7c-.6.2-1.1.6-1.7.9L5 5c-.3 0-.5 0-.7.3l-2 3.5c-.1.2 0 .4.2.6L4.6 11l-.1 1l.1 1l-2.1 1.7c-.2.2-.2.4-.1.6l2 3.5c.1.2.3.2.6.2l2.5-1c.5.4 1.1.7 1.7 1l.4 2.7c0 .2.2.4.5.4h2.5c-.5-.7-.7-1.4-.9-2.1m4.3-7.7V12c0-2.2-1.8-4-4-4s-4 1.8-4 4s1.8 4 4 4c.7-1.7 2.2-3.1 4-3.7m-6-.3c0-1.1.9-2 2-2s2 .9 2 2s-.9 2-2 2s-2-.9-2-2m8 2.5V13l-2.2 2.2l2.2 2.2V16c1.4 0 2.5 1.1 2.5 2.5c0 .4-.1.8-.3 1.1l1.1 1.1c1.2-1.8.7-4.3-1.1-5.5c-.6-.5-1.4-.7-2.2-.7m0 6.5c-1.4 0-2.5-1.1-2.5-2.5c0-.4.1-.8.3-1.1l-1.1-1.1c-1.2 1.8-.7 4.3 1.1 5.5c.7.4 1.4.7 2.2.7V24l2.2-2.2l-2.2-2.3z"},null,-1),De=[Ie];function He(O,p){return i(),A("svg",we,[...De])}const Re={name:"mdi-cog-sync-outline",render:He},$e=`function genArr() {
  return ['A','r','c','a','d','i','a'];
}
try {
  let A = genArr(),
      s = '';
  for (i = 0; i < A.length; i++) {
    s += A[i];
  }
  console.log(s); // Arcadia
} catch (e) {
  /* handle exception */
}`,Oe={key:0},Pe=["innerHTML"],Ee=["innerHTML"],Ve={key:1},Ke=["innerHTML"],je=["innerHTML"],Ge=X({__name:"index",props:{size:y.oneOf(["small","medium","large"]).def("small"),darkMode:y.bool.def(!1),defaultLightTheme:y.string.def($.ATOM_LIGHT),defaultDarkTheme:y.string.def($.ATOM_DARK),dropdownMode:y.bool.def(!1),code:y.string.def($e)},emits:["onSelect"],setup(O,{emit:p}){const P=O,I=p,{size:C,darkMode:a,defaultLightTheme:b,defaultDarkTheme:E,dropdownMode:f,code:V}=le(P),{getIsMobile:K}=ne(),m=g(a.value?J:W),c=g(b.value),n=g(E.value),d=g(C.value==="large"?"16px":C.value==="small"?"12px":"14px"),_=Z({}),L=s=>{const r=a.value?n.value:c.value;s!==r&&(a.value?n.value=s:c.value=s,I("onSelect",s,a.value))},v=(s,r)=>{const h=a.value?n.value:c.value;s!==h&&I("onSelect",s,a.value)},D=s=>F("div",{style:{fontSize:"14px"},innerHTML:_[s]}),x=s=>F(se,{style:{backgroundColor:a.value?"rgb(24, 24, 28)":"rgb(255, 255, 255)"},placement:"right"},{trigger:()=>s.node,default:()=>D(s.option.value)});let M=null;return ae(a,async s=>{m.value=s?J:W,M||(M=await be());for(const r of m.value)_[r.value]=M.codeToHtml(V.value.trim(),{lang:"javascript",theme:r.value})},{immediate:!0}),(s,r)=>{const h=ee,S=te,H=re,T=ie;return e(f)?e(K)?(i(),u(h,{key:2,class:"theme-card-dropdown",style:{padding:"0"},"content-style":"padding: 0"},{default:t(()=>[l(S,{vertical:"",style:{gap:"0"}},{default:t(()=>[e(a)?(i(),u(T,{key:0,value:e(n),"onUpdate:value":[r[2]||(r[2]=o=>w(n)?n.value=o:null),v],style:{padding:"8px"},options:e(m)},null,8,["value","options"])):(i(),u(T,{key:1,value:e(c),"onUpdate:value":[r[3]||(r[3]=o=>w(c)?c.value=o:null),v],style:{padding:"8px"},options:e(m)},null,8,["value","options"])),l(H,{theme:e(a)?e(U):null},{default:t(()=>[e(a)?(i(),u(h,{key:0,bordered:!1,"content-class":"theme-card-content"},{default:t(()=>[k("div",{style:R({fontSize:e(d)}),innerHTML:e(_)[e(n)]},null,12,Ke)]),_:1})):(i(),u(h,{key:1,bordered:!1,"content-class":"theme-card-content"},{default:t(()=>[k("div",{style:R({fontSize:e(d)}),innerHTML:e(_)[e(c)]},null,12,je)]),_:1}))]),_:1},8,["theme"])]),_:1})]),_:1})):(i(),A("div",Ve,[e(a)?(i(),u(T,{key:0,value:e(n),"onUpdate:value":[r[0]||(r[0]=o=>w(n)?n.value=o:null),v],class:"theme-dropdown",options:e(m),"render-option":x},null,8,["value","options"])):(i(),u(T,{key:1,value:e(c),"onUpdate:value":[r[1]||(r[1]=o=>w(c)?c.value=o:null),v],class:"theme-dropdown",options:e(m),"render-option":x},null,8,["value","options"]))])):(i(),A("div",Oe,[l(H,{theme:e(a)?e(U):null},{default:t(()=>[e(a)?(i(),u(S,{key:0},{default:t(()=>[(i(!0),A(G,null,B(e(m),(o,j)=>(i(),u(h,{key:j,title:o.label,size:"small",class:q(["theme-card",[o.value===e(n)?"selected":""]]),"header-class":"theme-card-header","content-class":"theme-card-content",onClick:oe=>L(o.value)},{default:t(()=>[k("div",{style:R({fontSize:e(d)}),innerHTML:e(_)[o.value]},null,12,Pe)]),_:2},1032,["title","class","onClick"]))),128))]),_:1})):(i(),u(S,{key:1},{default:t(()=>[(i(!0),A(G,null,B(e(m),(o,j)=>(i(),u(h,{key:j,title:o.label,size:"small",class:q(["theme-card",[o.value===e(c)?"selected":""]]),"header-class":"theme-card-header","content-class":"theme-card-content",onClick:oe=>L(o.value)},{default:t(()=>[k("div",{style:R({fontSize:e(d)}),innerHTML:e(_)[o.value]},null,12,Ee)]),_:2},1032,["title","class","onClick"]))),128))]),_:1}))]),_:1},8,["theme"])]))}}}),Be=Le(Ge,[["__scopeId","data-v-8f6e3fe5"]]),Ue={style:{"margin-top":"6px"}},Qe=X({__name:"Personalized",setup(O){const p=xe(),{getIsMobile:P}=ne(),{getThemeColor:I,getIsDarkMode:C}=Me(),{t:a}=Se(),b=Z({projectConfig:Y.getLocal(Q)}),E={modes:["hex"],showAlpha:!1,swatches:ze,style:{maxWidth:"200px"},defaultValue:ce(()=>{const n=I.value,d=b.projectConfig?.themeColor,_=Ae.themeOverrides[C.value?"dark":"light"].common?.primaryColor;return!p.getThemeColorIsManualChange&&p.getThemeColorIsFirstChange||n===d?_:d}).value,actions:["confirm"],onConfirm:n=>{p.setThemeColorIsFirstChange(!1),p.setThemeColorIsManualChange(!0),p.setProjectConfig({themeColor:n})}},f=g(e(C.value)?z.DARK:z.LIGHT),V=g(b.projectConfig?.editorSetting.theme.light||$.ATOM_LIGHT),K=g(b.projectConfig?.editorSetting.theme.dark||$.ATOM_DARK),m=(n,d)=>{p.setProjectConfig({editorSetting:{theme:{[d?"dark":"light"]:n}}})},c=()=>{console.log("1"),Y.removeLocal(Q),location.reload()};return(n,d)=>{const _=pe,L=he,v=ke,D=fe,x=ge,M=Ce,s=ve,r=te,h=Te,S=Re,H=ye,T=ee;return i(),u(T,{bordered:!1,style:{height:"100%"},"header-style":"padding: 10px 0 0 0","content-style":"padding: 0 0 20px 0; height: 100%"},{header:t(()=>[de(n.$slots,"title")]),default:t(()=>[l(r,{vertical:""},{default:t(()=>[l(h,{ref:"formRef","label-width":"auto","require-mark-placement":"right-hanging",style:{"padding-top":"1em"}},{default:t(()=>[l(L,{label:e(a)("setting.personalized.themeColor")},{default:t(()=>[l(_,ue(_e(E)),null,16)]),_:1},8,["label"]),l(L,null,{label:t(()=>[l(r,null,{default:t(()=>[k("span",Ue,N(e(a)("setting.personalized.editorTheme")),1),l(s,{value:e(f),"onUpdate:value":d[0]||(d[0]=o=>w(f)?f.value=o:null),"default-value":e(f),size:"small",style:{height:"28px"},variant:"default-filled"},{default:t(()=>[l(x,{value:e(z).LIGHT,style:{height:"100%"}},{default:t(()=>[l(D,{size:18},{default:t(()=>[l(v,{style:{"vertical-align":"-0.2em"}})]),_:1})]),_:1},8,["value"]),l(x,{value:e(z).DARK,style:{height:"100%"}},{default:t(()=>[l(D,{size:18},{default:t(()=>[l(M,{style:{"vertical-align":"-0.2em"}})]),_:1})]),_:1},8,["value"])]),_:1},8,["value","default-value"])]),_:1})]),default:t(()=>[l(Be,{"dark-mode":e(f)===e(z).DARK,"dropdown-mode":e(P),"default-light-theme":e(V),"default-dark-theme":e(K),onOnSelect:m},null,8,["dark-mode","dropdown-mode","default-light-theme","default-dark-theme"])]),_:1})]),_:1},512),l(H,{type:"primary",strong:"",style:{width:"fit-content"},onClick:c},{icon:t(()=>[l(S)]),default:t(()=>[me(" "+N(e(a)("setting.personalized.restoreDefaultBtn")),1)]),_:1})]),_:1})]),_:3})}}});export{Qe as _};

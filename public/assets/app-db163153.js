const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./app-6fbf2e91.js","./vendor-d56b0496.js","../css/app-911b12a7.css","./app-3da0bfa2.js","./app-d0ea65e6.js","./vendor-2a285eec.js","../css/app-cecc12d1.css","../css/app-39d25ad2.css","./app-105ff58d.js","./app-f86637c3.js","./app-75cf128a.js","./app-1d6241d5.js","./app-ec660d0c.js","./app-1abe4641.js","./app-7a008f7f.js","./app-0163ddbf.js"])))=>i.map(i=>d[i]);
import{aJ as ve,a3 as u,aC as A,ah as I,aK as kt,G as z,r as Oe,as as ft,J as wt,aL as an,h as r,aM as Tt,aA as rn,a_ as ce,aN as ln,F as t,a4 as v,a5 as p,a6 as f,aD as q,am as xe,aE as H,aP as ae,al as j,aF as Ue,aQ as cn,aw as un,b1 as Rt,aH as dn,an as xt,b5 as pn,aR as gn,b2 as fn,aS as mn,bD as hn,b6 as _n,bx as It,by as Et,C as ye,t as $t,bW as vn,a2 as W,aO as Ce,aj as Ot,af as Ze,ag as Ht,y as P,bX as yn,a$ as We,bU as bn,bY as Pt,bZ as Sn,bR as qe,N as Se,ak as V,bd as Cn,au as Bt,bf as Ln,b_ as At,bP as Me,B as re,b$ as Le,c0 as mt,c1 as Mn,c2 as ht,c3 as kn,c4 as Ft,c5 as _t,c6 as wn,c7 as Tn,c8 as Nt,c9 as Rn,ap as he,o as xn,bO as Dt,ca as In,cb as En,cc as $n,bN as On,H as Hn,cd as Pn,ce as Bn,aB as An,cf as Fn,cg as vt,ch as Nn,b7 as Dn,bq as zn,aY as Un}from"./vendor-d56b0496.js";import{g as Wn,s as Vn,_ as Gn,f as jn}from"./app-084d6285.js";import{_ as Kn,a as Xn}from"./app-c1db4c8f.js";import{u as le,c as Zn,d as qn}from"./app-3da0bfa2.js";import{b as ke,f as He,r as Pe,e as fe,a as ue,n as Yn,t as Jn,_ as Qn,o as _e,M as pe,v as ie,w as ge,x as de,y as yt,z as eo,A as zt,h as Be,P as to,B as no,C as oo,D as Ut,F as Ye,G as Wt,H as so,I as Je,J as Qe,K as ao,L as ne,N as Vt,O as ro,R as Gt,Q as lo,S as io,U as co,V as jt,W as Kt,X as uo,Y as po,Z as Ie}from"./app-d0ea65e6.js";import{i as go,g as fo}from"./app-d82b1e23.js";import{u as ee}from"./app-bef774e2.js";import{u as mo}from"./app-cb007e5b.js";import ho from"./app-5cdfec5e.js";import{u as _o}from"./app-41314b54.js";import{F as vo}from"./app-5fa2e16f.js";import{p as X}from"./app-75cf128a.js";import{I as Ve}from"./app-f86637c3.js";import{_ as Ae}from"./vendor-2a285eec.js";import{_ as yo,a as bo,C as So}from"./app-935e368a.js";import{u as Co}from"./app-0163ddbf.js";import{u as Lo}from"./app-343881cd.js";import"./app-283fbeb1.js";const Mo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function ko(e,n){return u(),A("svg",Mo,n[0]||(n[0]=[I("path",{fill:"currentColor",d:"M19 7h-2.81c-.45-.8-1.07-1.5-1.82-2L16 3.41L14.59 2l-2.17 2.17a6 6 0 0 0-2.83 0L7.41 2L6 3.41L7.62 5c-.75.5-1.36 1.21-1.81 2H3v2h2.09c-.06.33-.09.66-.09 1v1H3v2h2v1c0 .34.03.67.09 1H3v2h2.81A6 6 0 0 0 13 19.65V19c0-.57.09-1.14.25-1.69c-.66.45-1.45.69-2.25.69c-2.21 0-4-1.79-4-4v-4c0-2.21 1.79-4 4-4s4 1.79 4 4v4c0 .19 0 .39-.05.58c.59-.54 1.29-.96 2.05-1.23V13h2v-2h-2v-1c0-.34-.03-.67-.09-1H19zm-6 2v2H9V9zm0 4v2H9v-2zm3 3h6v6h-6z"},null,-1)]))}const wo=ve({name:"mdi-bug-stop-outline",render:ko}),To={style:{display:"inline-block"},viewBox:"0 0 48 48",width:"1em",height:"1em"};function Ro(e,n){return u(),A("svg",To,n[0]||(n[0]=[I("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"},[I("path",{d:"M21 6H9a3 3 0 0 0-3 3v22a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V21M24 34v8"}),I("path",{d:"m32 6l-4 4l4 4m6-8l4 4l-4 4M14 42h20"})],-1)]))}const xo=ve({name:"icon-park-outline-code-computer",render:Ro}),Io={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function Eo(e,n){return u(),A("svg",Io,n[0]||(n[0]=[I("path",{fill:"currentColor",d:"M22.54 21.12L20.41 19l2.13-2.12l-1.42-1.42L19 17.59l-2.12-2.13l-1.42 1.42L17.59 19l-2.13 2.12l1.42 1.42L19 20.41l2.12 2.13M6 2a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08c.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2Z"},null,-1)]))}const $o=ve({name:"mdi-file-document-remove-outline",render:Eo}),Oo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function Ho(e,n){return u(),A("svg",Oo,n[0]||(n[0]=[kt('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="64" stroke-dashoffset="64" d="M12 3c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9c0 -4.97 4.03 -9 9 -9Z"><animate fill="freeze" attributeName="fill-opacity" begin="0.6s" dur="0.15s" values="0;0.3"></animate><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="64;0"></animate></path><path stroke-dasharray="8" stroke-dashoffset="8" d="M12 12l4 4M12 12l-4 -4M12 12l-4 4M12 12l4 -4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.75s" dur="0.2s" values="8;0"></animate></path></g>',1)]))}const Po=ve({name:"line-md-close-circle-twotone",render:Ho}),Bo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function Ao(e,n){return u(),A("svg",Bo,n[0]||(n[0]=[kt('<g fill="currentColor" fill-opacity="0" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="64" stroke-dashoffset="64" d="M12 3l9 17h-18l9 -17Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="64;0"></animate></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10v4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"></animate></path><path stroke-dasharray="2" stroke-dashoffset="2" d="M12 17v0.01"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.8s" dur="0.2s" values="2;0"></animate></path><animate fill="freeze" attributeName="fill-opacity" begin="1.1s" dur="0.15s" values="0;0.3"></animate></g>',1)]))}const Fo=ve({name:"line-md-alert-twotone",render:Ao}),No={style:{"vertical-align":"-4px",padding:"0 2px"}},Do=z({__name:"index",setup(e,{expose:n}){const{getIsMobile:s}=le(),{t:o}=ke();let a=null,d=null;const l={show:!1,title:o("component.runLog.title"),cmd:"",runId:"",logContent:"",logInstRef:null,runTimes:0,isLogOverOk:!1,isLogOverFail:!1,isLogOverExit:!1,isLogReachBottom:!0,isStopping:!1,isLogEmpty:!1,showFullScreen:!1},c=Oe(ft(l)),{show:g,title:m,cmd:i,runId:h,logContent:_,logInstRef:y,runTimes:w,isLogOverOk:C,isLogOverFail:S,isLogOverExit:L,isLogReachBottom:R,isStopping:O,isLogEmpty:$,showFullScreen:b}=wt(c);async function k(F){h.value=await jn({cmd:F})}async function E(F){switch(F){case"cmdStop":if(!i.value)return;O.value=!0;const x=fo(i.value);try{const K=await Vn({path:x});C.value=!1,S.value=!1,L.value=!0,_.value+=`
${K}
`}catch{O.value=!1}break;case"fullScreen":b.value=!b.value;break}}const N=an(F=>{const x=y.value;if(!x)return;const K=x.$el.clientHeight,we=F.target.scrollTop,G=F.target.scrollHeight;R.value=K+we>=G-10},300),M=r(()=>C.value||S.value||L.value?o("component.modal.close"):""),U=r(()=>go(i.value));function Z({code:F,result:x}){x.runId===h.value&&(x.over&&(clearInterval(d),_.value||($.value=!0)),_.value+=x.log||"",F?O.value||(C.value=x.over):O.value||(S.value=x.over))}function Q(F={cmd:""}){b.value=!1,Object.assign(c,ft(l),F,{show:!0}),ce().then(()=>setTimeout(()=>k(i.value),500)),d||(d=setInterval(()=>{w.value+=.1},100)),a?.off("runLog").on("runLog",Z),ce().then(()=>{const x=y.value.scrollbarRef?.containerRef;x&&(x.removeEventListener("scroll",N),x.addEventListener("scroll",N))})}function D(){g.value=!1,d&&clearInterval(d),d=null}return Tt(()=>{a=Wn(),rn(()=>{_.value&&ce(()=>{R.value&&y.value?.scrollTo({position:"bottom",silent:!0})})})}),ln(()=>{if(y.value){const F=y.value?.scrollbarRef?.containerRef;F&&F.removeEventListener("scroll",N)}a?.off("runLog",Z)}),n({open:Q}),(F,x)=>{const K=Kn,we=Xn,G=cn,oe=un,T=Rt,B=dn,Y=xt,Te=Gn,me=Fo,se=Po,lt=pn,it=gn,ct=fn,ut=$o,dt=mn,pt=xo,gt=wo,tn=hn,nn=_n,on=It,sn=Et;return t(s)?(u(),v(sn,{key:1,show:t(g),"onUpdate:show":x[4]||(x[4]=be=>Ue(g)?g.value=be:null),height:"calc(var(--vh) * 100)",placement:"bottom","auto-focus":!1,"mask-closable":!1,onMaskClick:D,onAfterLeave:D},{default:p(()=>[f(on,{closable:!!t(M),"header-style":"height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 12px","footer-style":"padding: 16px 24px"},{header:p(()=>[f(it,null,{default:p(()=>[!t(C)&&!t(S)&&!t(L)?(u(),v(Y,{key:0,size:26,style:{"vertical-align":"-0.05em"}})):(u(),v(G,{key:1,size:26},{default:p(()=>[t(C)?(u(),v(Te,{key:0,style:{color:"var(--app-success-color)","vertical-align":"0"}})):t(L)?(u(),v(me,{key:1,style:{color:"var(--app-warning-color)","vertical-align":"0"}})):t(S)?(u(),v(se,{key:2,style:{color:"var(--app-error-color)","vertical-align":"0"}})):H("",!0)]),_:1})),f(nn,{style:{height:"100%","max-width":"260px"}},{tooltip:p(()=>[I("span",null,q(t(m)),1)]),default:p(()=>[I("span",No,q(t(m)),1)]),_:1}),t(w)!==0?(u(),v(lt,{key:2,depth:3,style:{"font-size":"12px","vertical-align":"-4px"}},{default:p(()=>[ae(q(`${t(w).toFixed(1)}s`),1)]),_:1})):H("",!0)]),_:1})]),footer:p(()=>[f(xe,{name:"fade",mode:"out-in",appear:""},{default:p(()=>[!t(C)&&!t(S)&&!t(L)?(u(),v(B,{key:0},{default:p(()=>[f(oe,{secondary:"",focusable:!1,onClick:D},{icon:p(()=>[f(G,null,{default:p(()=>[f(pt,{style:{"vertical-align":"baseline"}})]),_:1})]),default:p(()=>[ae(" "+q(t(o)("component.runLog.runBackground")),1)]),_:1}),t(U)?(u(),v(oe,{key:0,secondary:"",focusable:!1,loading:t(O),onClick:x[3]||(x[3]=be=>E("cmdStop"))},{icon:p(()=>[f(G,null,{default:p(()=>[f(gt,{style:{"vertical-align":"baseline"}})]),_:1})]),default:p(()=>[ae(" "+q(t(o)("component.runLog.terminate")),1)]),_:1},8,["loading"])):H("",!0)]),_:1})):t(M)?(u(),v(oe,{key:1,block:"",secondary:"",type:t(L)?"warning":t(S)?"error":"primary",focusable:!1,onClick:D},{default:p(()=>[ae(q(t(M)),1)]),_:1},8,["type"])):H("",!0)]),_:1})]),default:p(()=>[t($)?(u(),v(dt,{key:1,class:"flex-jc-ac",style:{height:"400px"},size:"huge",description:t(o)("component.runLog.emptyTitle")},{icon:p(()=>[f(G,null,{default:p(()=>[f(ut)]),_:1})]),_:1},8,["description"])):(u(),v(ct,{key:0,ref_key:"logInstRef",ref:y,log:t(_),"font-size":14,"line-height":1.5,language:"naive-log",style:{width:"100%",height:"100%"}},null,8,["log"]))]),_:1},8,["closable"])]),_:1},8,["show"])):(u(),v(tn,{key:0,show:t(g),"onUpdate:show":x[2]||(x[2]=be=>Ue(g)?g.value=be:null),preset:"dialog","transform-origin":"center","auto-focus":!1,"close-on-esc":!1,"mask-closable":!1,style:j({width:t(b)?"calc(-20px + 100vw)":"600px"}),"on-close":D},{close:p(()=>[f(B,null,{default:p(()=>[f(T,{"show-arrow":!1,trigger:"hover",delay:500},{trigger:p(()=>[f(oe,{size:"tiny",quaternary:"",focusable:!1,style:{padding:"4px"},onClick:x[0]||(x[0]=be=>E("fullScreen"))},{icon:p(()=>[f(G,{size:20,depth:2},{default:p(()=>[t(b)?(u(),v(we,{key:1,style:{"vertical-align":"baseline"}})):(u(),v(K,{key:0,style:{"vertical-align":"baseline"}}))]),_:1})]),_:1})]),default:p(()=>[I("span",null,q(t(b)?t(o)("layout.header.tooltipExitFull"):t(o)("layout.header.tooltipEntryFull")),1)]),_:1}),f(xe,{name:"fade-slide-right",mode:"out-in"},{default:p(()=>[t(M)?(u(),v(oe,{key:0,size:"tiny",quaternary:"",focusable:!1,style:{padding:"4px"},onClick:D},{icon:p(()=>[f(G,{size:18,depth:2},{default:p(()=>x[5]||(x[5]=[I("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[I("g",{fill:"currentColor","fill-rule":"nonzero"},[I("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"})])])],-1)])),_:1})]),_:1})):H("",!0)]),_:1})]),_:1})]),icon:p(()=>[!t(C)&&!t(S)&&!t(L)?(u(),v(Y,{key:0,size:24,style:{"vertical-align":"-0.05em","padding-right":"1em"}})):H("",!0),f(G,null,{default:p(()=>[t(C)?(u(),v(Te,{key:0,style:{color:"var(--app-success-color)","vertical-align":"0"}})):t(L)?(u(),v(me,{key:1,style:{color:"var(--app-warning-color)","vertical-align":"0"}})):t(S)?(u(),v(se,{key:2,style:{color:"var(--app-error-color)","vertical-align":"0"}})):H("",!0)]),_:1})]),header:p(()=>[f(it,null,{default:p(()=>[ae(q(t(m))+" ",1),t(w)!==0?(u(),v(lt,{key:0,depth:3,style:{"font-size":"12px","vertical-align":"baseline"}},{default:p(()=>[ae(q(`${t(w).toFixed(1)}s`),1)]),_:1})):H("",!0)]),_:1})]),action:p(()=>[f(xe,{name:"fade",mode:"out-in",appear:""},{default:p(()=>[!t(C)&&!t(S)&&!t(L)?(u(),v(B,{key:0},{default:p(()=>[f(oe,{secondary:"",size:"small",focusable:!1,onClick:D},{icon:p(()=>[f(G,null,{default:p(()=>[f(pt,{style:{"vertical-align":"baseline"}})]),_:1})]),default:p(()=>[ae(" "+q(t(o)("component.runLog.runBackground")),1)]),_:1}),t(U)?(u(),v(oe,{key:0,secondary:"",size:"small",focusable:!1,loading:t(O),onClick:x[1]||(x[1]=be=>E("cmdStop"))},{icon:p(()=>[f(G,null,{default:p(()=>[f(gt,{style:{"vertical-align":"baseline"}})]),_:1})]),default:p(()=>[ae(" "+q(t(o)("component.runLog.terminate")),1)]),_:1},8,["loading"])):H("",!0)]),_:1})):t(M)?(u(),v(oe,{key:1,size:"small",type:t(L)?"warning":t(S)?"error":"primary",focusable:!1,onClick:D},{default:p(()=>[ae(q(t(M)),1)]),_:1},8,["type"])):H("",!0)]),_:1})]),default:p(()=>[t($)?(u(),v(dt,{key:1,class:"flex-jc-ac",style:j([{height:"600px"},{height:t(b)?"calc(-160px + 100vh)":"600px"}]),size:"huge",description:t(o)("component.runLog.emptyTitle")},{icon:p(()=>[f(G,null,{default:p(()=>[f(ut)]),_:1})]),_:1},8,["style","description"])):(u(),v(ct,{key:0,ref_key:"logInstRef",ref:y,log:t(_),"font-size":15,"line-height":1.5,language:"naive-log",style:j({paddingTop:"1em",width:"100%",height:t(b)?"calc(-160px + 100vh)":"600px"})},null,8,["log","style"]))]),_:1},8,["show","style"]))}}});function Xt(){const e=He(),n=r(()=>e.getMultiTabsSetting.show);function s(o){e.setProjectConfig({multiTabsSetting:o})}return{setMultipleTabSetting:s,getShowMultipleTab:n}}function zo(){const e=ye(),{currentRoute:n}=e,{getShowMultipleTab:s}=Xt(),o=Pe(),a=r(()=>l($t(e.getRoutes()))||[]),d=r(()=>o.getTabList.reduce((m,i)=>(i.meta&&Reflect.has(i.meta,"frameSrc")&&m.push(i.name),m),[]));function l(m){let i=[];for(const h of m){const{meta:{frameSrc:_}={},children:y}=h;_&&i.push(h),y&&y.length&&i.push(...l(y))}return i=vn(i,"name"),i}function c(m){return m.name===t(n).name}function g(m){return t(s)?t(d).includes(m):e.currentRoute.value.name===m}return{hasRenderFrame:g,getFramePages:a,showIframe:c,getAllFramePages:l}}const Uo=z({name:"FrameLayout",components:{FramePage:ho},setup(){const{getFramePages:e,hasRenderFrame:n,showIframe:s}=zo(),o=r(()=>t(e).length>0);return{getFramePages:e,hasRenderFrame:n,showIframe:s,showFrame:o}}}),Wo={key:0};function Vo(e,n,s,o,a,d){const l=W("FramePage");return e.showFrame?(u(),A("div",Wo,[(u(!0),A(Ce,null,Ot(e.getFramePages,c=>(u(),A(Ce,{key:c.path},[c.meta?.frameSrc&&e.hasRenderFrame(c.name)?Ze((u(),v(l,{key:0,"frame-src":c.meta.frameSrc},null,8,["frame-src"])),[[Ht,e.showIframe(c)]]):H("",!0)],64))),128))])):H("",!0)}const Go=fe(Uo,[["render",Vo]]),jo=z({name:"PageLayout",components:{FrameLayout:Go},setup(){const e=P("readly"),n=P("fade-slide"),{getCanEmbedIFramePage:s}=ue();Zn({pageTranstionName:n,pageTranstionState:e});const{openCache:o,getCaches:a,getKey:d}=mo(n);return{openCache:o,getCaches:a,getKey:d,pageTranstionName:n,handleStart:()=>{e.value="readly"},handleEnter:()=>{e.value="running"},handleEnd:()=>{e.value="finshed"},getCanEmbedIFramePage:s}}});function Ko(e,n,s,o,a,d){const l=W("RouterView"),c=W("FrameLayout");return u(),A(Ce,null,[f(l,null,{default:p(({Component:g})=>[f(xe,{name:e.pageTranstionName,mode:"out-in",appear:"",onBeforeEnter:e.handleStart,onEnter:e.handleEnter,onAfterEnter:e.handleEnd},{default:p(()=>[e.openCache?(u(),v(yn,{key:0,include:e.getCaches},[(u(),v(We(g),{key:e.getKey}))],1032,["include"])):(u(),v(We(g),{key:e.getKey}))]),_:2},1032,["name","onBeforeEnter","onEnter","onAfterEnter"])]),_:1}),e.getCanEmbedIFramePage?(u(),v(c,{key:0})):H("",!0)],64)}const Xo=fe(jo,[["render",Ko]]),Zo={class:"flex-1"},qo=z({__name:"index",setup(e){const n=P(),s=P(),o=bn(),{prefixCls:a}=ee("layout-content"),{getOpenPageLoading:d}=Yn(),{getPageLoading:l}=ue(),{width:c,height:g}=Pt(s),{emit:m}=_o();Sn(s,m),qn({width:c,height:g});const i=r(()=>d.value&&!o.meta?.hideLoading&&l.value);return Jn(async()=>{const h=n.value;h&&(await qe(300),h.scrollTo({left:0,top:0}))}),(h,_)=>{const y=Qn,w=Cn,C=Bt,S=Ln;return u(),A("main",{ref_key:"contentEl",ref:s,class:V(["transform-gpu transform",[t(a)]])},[f(y,{show:t(i)},null,8,["show"]),f(S,{embedded:"",class:"h-full",position:"absolute",style:{backgroundColor:"var(--app-layout-background)"}},{default:p(()=>[f(C,{ref_key:"scrollBarEl",ref:n,style:j({maxHeight:`${t(g)}px`})},{default:p(()=>[f(w,{right:40,bottom:60}),I("div",{class:"flex flex-col",style:j({minHeight:`${t(g)}px`})},[I("div",Zo,[f(Xo)]),Se(h.$slots,"footer")],4)]),_:3},8,["style"])]),_:3})],2)}}}),Zt=z({__name:"ScrollContainer",props:{inverted:{type:Boolean}},setup(e){const n=e,{color:s,colorHover:o}=_e("Scrollbar",!0),a=r(()=>n.inverted?{color:s,colorHover:o}:void 0);return(d,l)=>{const c=Bt;return u(),v(c,{"builtin-theme-overrides":t(a)},{default:p(()=>[Se(d.$slots,"default")]),_:3},8,["builtin-theme-overrides"])}}}),Yo=""+new URL("../images/logo.png",import.meta.url).href;function Jo(){const e=He(),n=ye(),{currentRoute:s}=n;return{getFullContent:r(()=>{const a=t(s),{query:d}=a;return d&&Reflect.has(d,"__full__")?!0:e.getProjectConfig.fullContent})}}const Ne=P(!0),Qo=P(!1);function te(){const{getFullContent:e}=Jo(),n=He(),s=r(()=>n.getMenuSetting.split),o=r(()=>{const{show:K}=n.getMenuSetting;return K?ce(()=>{Ne.value=K}):Ne.value=K,K}),a=r(()=>n.getMenuSetting.mode),d=r(()=>t(s)||t(o)&&t(a)!==pe.HORIZONTAL&&!t(e)),l=r(()=>n.getMenuSetting.collapsed),c=r(()=>n.getMenuSetting.type),g=r(()=>n.getMenuSetting.hidden),m=r(()=>n.getMenuSetting.menuWidth),i=r(()=>n.getMenuSetting.menuRootIndent),h=r(()=>n.getMenuSetting.menuIndent),_=r(()=>n.getMenuSetting.trigger),y=r(()=>n.getMenuSetting.theme),w=r(()=>n.getMenuSetting.inverted),C=r(()=>n.getMenuSetting.mixSideTrigger),S=r(()=>n.getMenuSetting.mixSideFixed),L=r(()=>n.getMenuSetting.closeMixSidebarOnChange),R=r(()=>n.getMenuSetting.accordion),O=r(()=>t(c)===ie.SIDEBAR),$=r(()=>t(c)===ie.TOP_MENU),b=r(()=>n.getMenuSetting.collapsedShowTitle),k=r(()=>t(a)===pe.HORIZONTAL||t(s)),E=r(()=>t(c)===ie.TOP_MENU||!t(o)||t(g)?!1:t(_)===ge.HEADER),N=r(()=>t(a)===pe.HORIZONTAL),M=r(()=>t(c)===ie.MIX_SIDEBAR),U=r(()=>t(a)===pe.VERTICAL&&t(c)===ie.MIX),Z=r(()=>{const{collapsedShowTitle:K}=n.getMenuSetting;return K?de.WIDTH:de.COLLAPSED_WIDTH}),Q=r(()=>t(M)?t(l)&&!t(S)?t(Z):t(m):t(l)?t(Z):t(m)),D=r(()=>At(m.value,yt.MIN,yt.MAX));function F(K){n.setProjectConfig({menuSetting:K})}function x(){F({collapsed:!t(l)})}return{tabsAnima:Ne,mixSideHasChildrenRef:Qo,getMenuType:c,getMenuMode:a,getShowMenu:o,getCollapsed:l,getMiniWidthNumber:Z,getMenuWidth:m,getRealWidth:Q,getMobileWidth:D,getMenuRootIndent:i,getMenuIndent:h,getTrigger:_,getSplit:s,getMixSideFixed:S,getMixSideTrigger:C,getCloseMixSidebarOnChange:L,getMenuTheme:y,getMenuInverted:w,getCollapsedShowTitle:b,getIsHorizontal:N,getIsSidebarType:O,getAccordion:R,getShowTopMenu:k,getShowHeaderTrigger:E,getMenuHidden:g,getIsTopMenu:$,getShowSidebar:d,getIsMixMode:U,getIsMixSidebar:M,setMenuSetting:F,toggleCollapsed:x}}const es=/^(\d|\.)+$/,bt=/(\d|\.)+/;function Re(e,{c:n=1,offset:s=0,attachPx:o=!0}={}){if(typeof e=="number"){const a=(e+s)*n;return a===0?"0":`${a}px`}else if(typeof e=="string")if(es.test(e)){const a=(Number(e)+s)*n;return o?a===0?"0":`${a}px`:`${a}`}else{const a=bt.exec(e);return a?e.replace(bt,String((Number(a[0])+s)*n)):e}return e}const ts=["src"],et=z({__name:"AppLogo",props:{logoSize:X.stringNumber.def(24),showTitle:X.bool.def(!0),titleSize:X.stringNumber.def(18),titleColor:X.string,collapsed:X.bool,collapsedShowTitle:X.bool.def(!1),isStatic:X.bool.def(!1),width:X.stringNumber,canGoHome:X.bool.def(!1)},setup(e){Me(k=>({54144560:t(O)}));const n=e,{prefixCls:s}=ee("app-logo"),o=eo(),{title:a}=zt(),{getMenuWidth:d,getMobileWidth:l,getMenuRootIndent:c,getCollapsed:g}=te(),{getIsMobile:m}=le(),i=P(),h=P(),_=P(`inset(0px ${n.collapsed?100:0}% 0px 0px)`);re([i,h,()=>n.showTitle],()=>{y()});function y(){const k=Le(i),E=Le(h);if(!k||!E||!n.showTitle)return;const N=w(k,E);N();let M;mt(k,"transitionstart",()=>{if(M){M.resume();return}M=Mn(N)}),mt(k,"transitionend",()=>{M&&M.pause()})}function w(...k){return()=>{const[E,N]=k,M=E.offsetWidth,U=N.offsetWidth,Z=N.offsetLeft,D=U-M+Z+16;_.value=`inset(0px ${At(D,0,U+1)}px 0px 0px)`}}const C=Be(),S=r(()=>{const{collapsed:k,collapsedShowTitle:E,isStatic:N,width:M,canGoHome:U}=n;return Object.assign({userSelect:"none",cursor:U?"pointer":"unset"},N?{}:{paddingLeft:k?"7px":`${c.value-4}px`,width:(k??g.value)&&!E?Re(no):Re(M??m.value?l.value:d.value)})}),L=r(()=>({fontSize:Re(n.logoSize),transition:"font-size var(--app-transition-duration) var(--app-bezier)",zIndex:10,height:"24px",width:"24px",marginLeft:"6px"})),R=r(()=>{const{titleSize:k,titleColor:E}=n;return{fontSize:Re(k),lineHeight:1.3,...n.isStatic?{}:{clipPath:_.value},...E?{color:E}:{}}}),O=r(()=>n.collapsed?0:"100%"),$=r(()=>a);function b(){n.canGoHome&&C(o.getUserInfo.homePath||to.BASE_HOME)}return(k,E)=>(u(),A("div",{ref_key:"wrapperEl",ref:i,class:"flex-ac ease-in-out-300",style:j(t(S)),onClick:b},[I("img",{src:t(Yo),draggable:!1,title:"Logo",style:j(t(L))},null,12,ts),f(xe,{name:"fade-slide-right",mode:"out-in"},{default:p(()=>[e.showTitle&&!e.collapsed?(u(),A("div",{key:0,ref_key:"titleEl",ref:h,class:V(["font-$app-font-family ml-3 font-semibold",[`${t(s)}__title`]]),style:j(t(R))},q(t($)),7)):H("",!0)]),_:1})],4))}}),St=Object.assign({}),Ge=[];Object.keys(St).forEach(e=>{const n=St[e].default||{},s=Array.isArray(n)?[...n]:[n];Ge.push(...s)});function tt(){return ao().getProjectConfig.permissionMode}function ns(){return tt()===Je.BACK}function os(){return tt()===Je.ROUTE_MAPPING}function nt(){return tt()===Je.ROLE}function je(e,n){return e.filter(s=>(!n||!s.meta?.hideMenu)&&!s.hideMenu).map(s=>(s.children&&(s.children=je(s.children,n),s.children.length||Reflect.deleteProperty(s,"children")),s))}const qt=[];(()=>{Ge.sort((e,n)=>(e.orderNo||0)-(n.orderNo||0));for(const e of Ge)qt.push(oo(e))})();async function ot(){const e=Qe();return ns()?je(e.getBackMenuList,!0):os()?je(e.getFrontMenuList):qt}async function Yt(){const e=await ot();if(nt()){const n=Ye.getRoutes();return Wt(e,st(n))}return e}async function $e(e){const n=await ot();return(await Ut(n,e))?.[0]}async function Ke(){const n=(await ot()).map(s=>({...s,children:void 0}));if(nt()){const s=Ye.getRoutes();return n.filter(st(s))}return n}async function Ee(e){const s=(await Yt()).find(o=>o.path===e);if(!s||!s.children||s?.meta?.hideChildrenInMenu)return[];if(nt()){const o=Ye.getRoutes();return Wt(s.children,st(o))}return s.children}function st(e){return n=>!!e.find(o=>{if(so(n.path))return!0;if(o.meta?.carryParam)return ht(o.path).test(n.path);const a=o.path===n.path;return a?o.meta?.ignoreAuth?!0:a||ht(o.path).test(n.path):!1})}function ss(e,n,s){const o=P(),{currentRoute:a}=ye(),{getIsMobile:d}=le(),l=Qe(),{setMenuSetting:c,getIsHorizontal:g,getSplit:m}=te(),i=kn(C,50),h=r(()=>t(e)!==ne.SECONDARY&&!t(g)),_=r(()=>{let L=t(m);const R=t(s);return Ft(R)&&(L=R),!L||t(e)!==ne.SECONDARY}),y=r(()=>t(e)===ne.ROOT),w=r(()=>t(e)===ne.NONE||!t(m));re([()=>t(a).path,()=>t(n),()=>t(e)],async([L,R])=>{if(t(h)||t(d))return;const{meta:O}=t(a),$=O.currentActiveMenu;let b;R?b=R:(b=await $e(L),b||(b=await $e($))),b&&i(b)},{immediate:!0}),re([()=>l.getLastBuildMenuTime,()=>l.getBackMenuList],()=>{S()},{immediate:!0}),re(()=>m.value,()=>{t(h)||S()});async function C(L){if(t(_)||t(d))return;const R=await Ee(L);if(!R||!R.length){c({hidden:!0}),o.value=[];return}c({hidden:!1}),o.value=R}async function S(){if(t(w)||t(d)){o.value=await Yt();return}if(t(y)){const L=await Ke();o.value=L}}return{menusRef:o}}const De=Vt&&navigator.connection,Jt=De&&!/([a-z]-)?2g/.test(De.effectiveType)&&!De.saveData,Ct={};function as(e){return Vt?document.createElement("link")?.relList?.supports(e):!1}function rs(e){return new Promise((n,s)=>{const o=document.createElement("link");o.rel="prefetch",o.href=e,o.addEventListener("load",n),o.addEventListener("error",s),document.head.appendChild(o)})}function ls(e){return new Promise((n,s)=>{const o=new XMLHttpRequest;o.open("GET",e,o.withCredentials=!0),o.addEventListener("load",()=>{o.status===200?n():s()}),o.send()})}const is=as("prefetch")?rs:ls;function cs(e,n){if(!(!Jt||Ct[e]))return is(e).then(()=>{Ct[e]=!0})}const us=z({name:"PrefetchLink",props:{..._t.props,prefetch:{type:Boolean,default:!0},prefetchFiles:{type:Array},timeout:{type:Number,default:1e3}},setup(e,{slots:n}){const s=wn({to:e.to}),o=P(),a=P(!1),d=r(()=>xn(e,["prefetch","prefetchFiles","timeout"])),{stop:l,isSupported:c}=Tn(o,async([{isIntersecting:i}])=>{i&&(await qe(e.timeout),m())});Nt(o,()=>{e.prefetch&&t(c)&&Jt&&(a.value=!0)}),Rn(()=>{a.value=!1});function g(i){return i.matched.map(h=>Object.values(h.components)).flat().filter(h=>typeof h=="function")}function m(){const i=s.route.value;if(i.meta.__prefetched)return;i.meta.__prefetched=!0;const h=i.meta.prefetch;if(h){const y=g(i);for(const w of y)w();typeof h=="function"&&h(i)}const _=[...e.prefetchFiles||[],...i.meta.prefetchFiles||[]];if(_.length>0)for(const y of _)cs(y);l()}return()=>{const i=n.default&&n.default(s);return e.custom?(ce(()=>{if(i){const h=i[0];if(ro(h.type))throw new Error('[PrefetchLink Component] when "props.custom" is true, slot content must not be plain text');o.value=Le(h.el)}else console.warn('[PrefetchLink Component] when "props.custom" is true, must exist default slot')}),i):he(_t,{ref:h=>{o.value=h},...d.value},()=>i)}}}),ds=z({name:"LayoutMenu",props:{inverted:X.bool,parentPath:X.string,noCollapsed:X.bool,globalSplit:{type:Boolean,default:void 0},splitType:{type:Number,default:ne.NONE},menuMode:{type:[String],default:""}},setup(e){const n=P(null),{splitType:s,parentPath:o,globalSplit:a}=wt(e),{menusRef:d}=ss(s,o,a),{getMenuMode:l,getMenuIndent:c,getMenuRootIndent:g,getCollapsed:m,getAccordion:i,toggleCollapsed:h}=te(),{currentRoute:_}=ye(),y=Be(),{t:w}=ke(),C=P([]),S=P(),L=M=>{C.value=M},{getIsMobile:R}=le(),O=M=>{y(M),t(R)&&h()},$=r(()=>t(R)?pe.VERTICAL:e.menuMode||t(l)),b=r(()=>s.value===ne.ROOT);return re([_,d],async([M,U])=>{const{name:Z,path:Q,meta:D}=M;if(Z!==Gt&&(S.value=Q,i.value&&U&&U.length>0)){const F=Ut(U,Q);if(b.value){const x=await $e(Q);S.value=x}else D.currentActiveMenu?(S.value=D.currentActiveMenu,ce(()=>{n.value?.showOption(D.currentActiveMenu)})):(F.length>=2&&F.pop(),C.value=F)}},{immediate:!0}),{getRealCollapsed:r(()=>e.noCollapsed||b.value?!1:m.value),getInverted:!1,menuValue:S,menuInstRef:n,menusRef:d,expandedKeys:C,handleUpdateExpandedKeys:L,handleUpdateValue:O,renderIcon:({meta:M})=>{const U=M?.icon;return U?he(Ve,{icon:U}):null},renderLabel:M=>he(us,{to:M.path,custom:!1},{default:()=>he("span",null,{default:()=>w(M?.label??"")})}),getRealMenuMode:$,getMenuIndent:c,getMenuRootIndent:g}}});function ps(e,n,s,o,a,d){const l=Dt;return u(),v(l,{ref:"menuInstRef",value:e.menuValue,"onUpdate:value":[n[0]||(n[0]=c=>e.menuValue=c),e.handleUpdateValue],mode:e.getRealMenuMode,"key-field":"path",collapsed:e.getRealCollapsed,inverted:e.getInverted,indent:e.getMenuIndent,"root-indent":e.getMenuRootIndent,options:e.menusRef,"expanded-keys":e.expandedKeys,"render-icon":e.renderIcon,"render-label":e.renderLabel,"onUpdate:expandedKeys":e.handleUpdateExpandedKeys},null,8,["value","mode","collapsed","inverted","indent","root-indent","options","expanded-keys","render-icon","render-label","onUpdate:expandedKeys","onUpdate:value"])}const at=fe(ds,[["render",ps]]),gs=z({__name:"BarTrigger",props:{collapsed:X.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleBarColor:n,siderToggleBarColorHover:s}=_e("Layout"),{siderToggleBarColor:o,siderToggleBarColorHover:a}=_e("Layout",!0),{getIsDarkMode:d}=ue(),l=r(()=>{const g=d.value;return{color:g?o:n,hoverColor:g?a:s}});Me(()=>({"toggle-bar-color":l.value.color,"toggle-bar-color-hover":l.value.hoverColor}));const{prefixCls:c}=ee("layout-toggle-bar");return(g,m)=>(u(),A("div",{class:V([t(c),{collapsed:e.collapsed}]),onClick:m[0]||(m[0]=(...i)=>e.onClick&&e.onClick(...i))},[I("div",{class:V(`${t(c)}__top`)},null,2),I("div",{class:V(`${t(c)}__bottom`)},null,2)],2))}}),fs=z({__name:"ButtonTrigger",props:{collapsed:X.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleButtonColor:n,siderToggleButtonIconColor:s,siderToggleButtonBorder:o}=_e("Layout"),{siderToggleBarColor:a,siderToggleButtonIconColor:d,siderToggleButtonBorder:l}=_e("Layout",!0),{getIsDarkMode:c}=ue(),g=r(()=>{const i=c.value;return{bgColor:i?a:n,iconColor:i?d:s,border:i?l:o}});Me(()=>{const i=g.value;return{"toggle-button-color":i.bgColor,"toggle-button-icon-color":i.iconColor,"toggle-button-border":i.border}});const{prefixCls:m}=ee("layout-toggle-button");return(i,h)=>(u(),A("div",{class:V([t(m),{collapsed:e.collapsed}]),onClick:h[0]||(h[0]=(..._)=>e.onClick&&e.onClick(..._))},h[1]||(h[1]=[I("i",{class:"icon"},[I("svg",{viewBox:"0 0 16 16",fill:"none",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[I("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"})])],-1)]),2))}}),ms={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function hs(e,n){return u(),A("svg",ms,n[0]||(n[0]=[I("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8"},null,-1)]))}const _s=ve({name:"ant-design-menu-fold-outlined",render:hs}),vs={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function ys(e,n){return u(),A("svg",vs,n[0]||(n[0]=[I("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7"},null,-1)]))}const bs=ve({name:"ant-design-menu-unfold-outlined",render:ys}),Ss=z({__name:"HeaderTrigger",props:{collapsed:X.bool.def(!1),onClick:{type:Function}},setup(e){const{getIsMobile:n}=le();return(s,o)=>{const a=bs,d=_s;return u(),A("span",{class:"app-layout-header-anction-icon",style:j(t(n)?"background-color: transparent !important":""),onClick:o[0]||(o[0]=(...l)=>e.onClick&&e.onClick(...l))},[e.collapsed?(u(),v(a,{key:0,viewBox:"64 64 896 896"})):(u(),v(d,{key:1,viewBox:"64 64 896 896"}))],4)}}}),Qt=z({__name:"index",props:{type:{default:ge.BAR},onClick:null},setup(e){const n=e,s=new Map;s.set(ge.BAR,gs),s.set(ge.BUTTON,fs),s.set(ge.HEADER,Ss);const{toggleCollapsed:o}=te();function a(){n?.onClick&&In(n.onClick)?n.onClick():o()}return(d,l)=>e.type?(u(),v(We(t(s).get(e.type)),{key:0,style:{transition:".2s"},onClick:a})):H("",!0)}});function Fe(e,n){n=n||{};const{size:s="small",delay:o=100,timeout:a=3e4,loading:d=!1,loadingComponent:l,retry:c=!0}=n;return En({loader:e,loadingComponent:d?f(xt,{size:s,style:"margin:1rem;"},null):l,timeout:a,delay:o,onError:c?(g,m,i,h)=>{g.message.match(/fetch/)&&h<=3?m():i()}:lo})}const Cs=z({name:"FullScreen",setup(){const{t:e}=ke(),{toggle:n,isFullscreen:s}=$n(),{getIsMobile:o}=le();return{getTitle:r(()=>t(s)?e("layout.header.tooltipExitFull"):e("layout.header.tooltipEntryFull")),getIsMobile:o,isFullscreen:s,toggle:n}}});function Ls(e,n,s,o,a,d){const l=yo,c=bo,g=Rt;return u(),v(g,{trigger:"hover",placement:"bottom",delay:1e3},{trigger:p(()=>[I("span",{class:"app-layout-header-anction-icon",style:j({borderRadius:e.getIsMobile?"0":"6px"}),onClick:n[0]||(n[0]=(...m)=>e.toggle&&e.toggle(...m))},[e.isFullscreen?(u(),v(l,{key:0,class:"text-18px"})):(u(),v(c,{key:1,class:"text-18px"}))],4)]),default:p(()=>[ae(" "+q(e.getTitle),1)]),_:1})}const Ms=fe(Cs,[["render",Ls]]),ks=Fe(()=>Ae(()=>import("./app-6fbf2e91.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url),{loadingComponent:f("div",{class:"flex items-center space-x-0"},[f(On,{class:"mr-2.5",height:"24px",circle:!0},null)])}),ws=Fe(()=>Ae(()=>import("./app-105ff58d.js"),__vite__mapDeps([8,9,1,2,10,4,5,6,7,3]),import.meta.url)),Ts=Fe(()=>Ae(()=>import("./app-1d6241d5.js"),__vite__mapDeps([11,12,1,2,9,10,4,5,6,7,3]),import.meta.url)),Rs=Fe(()=>Ae(()=>import("./app-1abe4641.js"),__vite__mapDeps([13,14,1,2,3,4,5,6,7,15]),import.meta.url));let ze;function xs(){return ze||(ze=Hn(co)),{...ze,sizeEnum:io}}function en(){const e=He(),{getMenuMode:n,getSplit:s,getShowHeaderTrigger:o,getIsSidebarType:a,getIsMixSidebar:d}=te(),{getShowBreadCrumb:l,getShowLogo:c}=ue(),g=r(()=>e.getHeaderSetting.show),m=r(()=>e.getHeaderSetting.height),i=r(()=>t(n)!==pe.HORIZONTAL&&t(l)&&!t(s)),h=r(()=>t(c)&&!t(a)&&!t(d)),_=r(()=>t(i)||t(o));function y(w){e.setProjectConfig({headerSetting:w})}return{setHeaderSetting:y,getShowBread:i,getShowContent:_,getShowHeaderLogo:h,getShowHeader:g,getHeaderHeight:m}}const rt=z({name:"LayoutHeader",components:{Trigger:Qt,LayoutBreadcrumb:ws,LayoutMenu:at,FullScreen:Ms,ThemeMode:Ts,LocalePicker:Rs,UserDropDown:ks},props:{fixed:X.bool},setup(){const{prefixCls:e}=ee("layout-header"),{getIsMobile:n}=le(),{smaller:s,sizeEnum:o}=xs(),{getIsDarkMode:a}=ue(),d=s(o.XXS),{getSplit:l,getCollapsed:c,getMenuInverted:g,getShowTopMenu:m,getIsSidebarType:i,getIsMixSidebar:h,getIsTopMenu:_,getTrigger:y}=te(),{getShowBread:w,getShowContent:C,getShowHeader:S}=en(),L=r(()=>y.value===ge.HEADER&&!_.value&&C.value&&!l.value),{getShowLocalePicker:R}=Co(),O=r(()=>!(t(i)||t(h))),$=r(()=>l.value?ne.ROOT:ne.NONE),b=r(()=>pe.HORIZONTAL),k=r(()=>g.value&&(l.value||_.value)),E=r(()=>n.value?"transparent":"var(--app-border-color)");return{getIsDarkMode:a,getShowHeader:S,getIsMobile:n,getShowLocalePicker:R,prefixCls:e,getShowBread:w,getShowContent:C,getShowLogo:O,getCollapsed:c,getShowTopMenu:m,getShowTrigger:L,TriggerEnum:ge,getSplitType:$,getMenuMode:b,getInverted:k,getIs2xs:d,borderColor:E}}}),Lt=()=>{Me(e=>({c5b55cc2:e.borderColor}))},Mt=rt.setup;rt.setup=Mt?(e,n)=>(Lt(),Mt(e,n)):Lt;const Is={class:"flex-jb-ac h-full text-1.2em"},Es={class:"flex-jb-ac h-full"},$s={key:0,class:"flex-ac h-full"},Os={key:0,class:"flex-jb-ac flex-1 min-w-0 px-2 relative h-full"};function Hs(e,n,s,o,a,d){const l=et,c=W("Trigger"),g=W("LayoutBreadcrumb"),m=W("LayoutMenu"),i=Zt,h=W("FullScreen"),_=W("LocalePicker"),y=W("ThemeMode"),w=W("UserDropDown"),C=Pn;return e.getShowHeader?(u(),v(C,{key:0,class:V([e.prefixCls]),style:j({height:e.getIsMobile?"43px":"47px",backgroundColor:"var(--app-background)"})},{default:p(()=>[I("div",Is,[I("div",Es,[e.getShowLogo?(u(),A("div",$s,[f(l,{collapsed:e.getCollapsed,"collapsed-show-title":"","title-color":e.getIsDarkMode?"#fff":"#000"},null,8,["collapsed","title-color"])])):H("",!0),e.getShowTrigger||e.getIsMobile?(u(),v(c,{key:1,type:e.TriggerEnum.HEADER,collapsed:e.getCollapsed,style:j({height:e.getIsMobile?"100%":"36px",marginLeft:e.getIsMobile?"0":"12px",borderRadius:e.getIsMobile?"0":"6px"})},null,8,["type","collapsed","style"])):H("",!0),e.getShowContent&&e.getShowBread?(u(),v(g,{key:2,class:V(e.getIsMobile?"":"ml-3")},null,8,["class"])):H("",!0)]),e.getShowTopMenu&&!e.getIsMobile?(u(),A("div",Os,[f(i,{"x-scrollable":"",class:"absolute left-0 top-2px"},{default:p(()=>[f(m,{"menu-mode":e.getMenuMode,"split-type":e.getSplitType},null,8,["menu-mode","split-type"])]),_:1})])):H("",!0),I("div",{class:"flex-ac",style:j({height:e.getIsMobile?"100%":"36px",marginRight:e.getIsMobile?"0":"12px",gap:e.getIsMobile?"0":"6px"})},[e.getIsMobile?H("",!0):(u(),v(h,{key:0})),e.getShowLocalePicker?(u(),v(_,{key:1,"trigger-cls":"app-layout-header-anction-icon",reload:!0})):H("",!0),f(y,{"trigger-cls":"app-layout-header-anction-icon"}),f(w,{"trigger-cls":"app-layout-header-anction-icon"})],4)])]),_:1},8,["class","style"])):H("",!0)}const Ps=fe(rt,[["render",Hs]]),Bs={key:0},Xe=z({__name:"SiderWrapper",props:{inverted:{type:Boolean,default:void 0},trigger:{type:Boolean,default:!0},width:null},setup(e){const n=e,{prefixCls:s}=ee("layout-sideBar"),{getIsDarkMode:o}=ue(),{getMenuInverted:a,getTrigger:d,getCollapsed:l,getSplit:c}=te(),{getIsMobile:g}=le(),m=r(()=>n.trigger&&(d.value!==ge.HEADER&&!t(g)||t(c))),i=P(null),{height:h}=Pt(i),_=r(()=>({maxHeight:`${h.value}px`})),y=r(()=>Ft(n.inverted)?n.inverted:a.value),{siderColor:w,siderColorInverted:C,siderBorderColor:S,siderBorderColorInverted:L}=_e("Layout"),{siderColor:R,siderBorderColor:O}=_e("Layout",!0),$=r(()=>t(o)?R:t(y)?C:w),b=r(()=>t(o)?O:t(y)?L:S);Me(()=>({"mix-sider-bg-color":t($),"mix-sider-border-color":t(b)}));const k=r(()=>({width:Re(n.width)}));return(E,N)=>{const M=Zt;return u(),A("div",{class:V(t(s))},[I("div",{class:V(`${t(s)}_wrapper`)},[I("div",{class:"menu_wrapper",style:j(t(k))},[Se(E.$slots,"header"),I("div",{ref_key:"scrollEl",ref:i,class:"menu"},[f(M,{style:j(t(_)),inverted:t(y)},{default:p(()=>[Se(E.$slots,"default")]),_:3},8,["style","inverted"])],512),Se(E.$slots,"trigger",{},()=>[t(m)?(u(),v(Qt,{key:0,collapsed:t(l),type:t(d)},null,8,["collapsed","type"])):H("",!0)])],4),E.$slots.secondaryMenu?(u(),A("div",Bs,[Se(E.$slots,"secondaryMenu")])):H("",!0)],2)],2)}}}),As=z({__name:"LayoutSider",setup(e){const{prefixCls:n}=ee("layout-sideBar"),{getIsMobile:s}=le(),{getIsDarkMode:o}=ue(),{getCollapsed:a,getRealWidth:d,getMobileWidth:l,getMenuHidden:c,getMenuInverted:g,getIsSidebarType:m,getSplit:i}=te(),h=r(()=>i.value?ne.SECONDARY:ne.NONE),_=r(()=>i.value?pe.VERTICAL:null),y=r(()=>i.value?!c.value:!0),w=r(()=>g.value&&!i.value),C=r(()=>s.value?l.value:d.value);return(S,L)=>{const R=et;return Ze((u(),v(Xe,{class:V(t(n)),width:t(C),inverted:t(w)},{header:p(()=>[t(m)?(u(),v(R,{key:0,class:"flex-ac h-64px",collapsed:t(a),"title-color":t(o)?"#fff":"#000"},null,8,["collapsed","title-color"])):H("",!0)]),default:p(()=>[f(at,{"menu-mode":t(_),"split-type":t(h),inverted:t(w)},null,8,["menu-mode","split-type","inverted"])]),_:1},8,["class","width","inverted"])),[[Ht,t(y)]])}}}),Fs={class:"header_wrapper"},Ns={class:"title font-$app-font-family"},Ds={name:"LayoutMixSider",directives:{clickOutside:So}},zs=z({...Ds,setup(e){Me(T=>({"4fe5e312":t(U),"4ff3a04b":t(N)}));const n=P(),s=P(""),o=P(),a=P(!1),d=P(),l=Oe({borderLeftColor:"transparent",borderRightColor:"transparent",borderWidth:void 0}),c=P(null),{prefixCls:g}=ee("layout-mix-sider"),m=Be(),{t:i}=ke(),{getIsDarkMode:h}=ue(),{getMenuWidth:_,getCloseMixSidebarOnChange:y,getMixSideTrigger:w,getMenuInverted:C,getMixSideFixed:S,mixSideHasChildrenRef:L,setMenuSetting:R,getIsMixSidebar:O,getCollapsed:$}=te(),{title:b}=zt(),k=Qe(),E=r(()=>({left:t(S)?0:`${t(M)}px`,position:t(S)?"static":"absolute",...l})),N=r(()=>t(h)||t(C)?"white":"var(--app-primary-color)");re(S,async T=>{const B=Le(d);if(B)if(T)B.style.transitionProperty="";else{await ce();const Y=getComputedStyle(B).transitionProperty;B.style.transitionProperty=`${Y}, left`}}),re([S,a],([T,B])=>{l.borderLeftColor=T?"transparent":B?t(C)&&!t(h)?"rgb(18, 41, 64)":"var(--mix-sider-border-color)":"transparent",l.borderRightColor=T?"transparent":B?"var(--mix-sider-border-color)":"transparent",l.borderWidth=B?void 0:0},{immediate:!0}),re([o,S],([T,B])=>{L.value=!!(T&&T?.length>0);const Y=B&&t(L);Y&&(a.value=Y)});const M=r(()=>t($)?de.COLLAPSED_WIDTH:de.WIDTH),U=r(()=>t($)?de.LOGO_COLLAPSED_WRAPPER_HEIGHT:de.LOGO_WRAPPER_HEIGHT),Z=r(()=>t($)?de.LOGO_COLLAPSED_SIZE:de.LOGO_SIZE),Q=r(()=>t(S)?{}:{onMouseleave:x});Tt(async()=>{n.value=await Ke()}),re([()=>k.getLastBuildMenuTime,()=>k.getBackMenuList],async()=>{n.value=await Ke()},{immediate:!0}),jt(T=>{c.value=T,F(!0),t(y)&&G()});async function D(T,B=!1){const Y=await Ee(T);if(t(s)===T?(B?t(a)||(a.value=!0):t(a)?G():a.value=!0,t(a)||F()):(a.value=!0,s.value=T),!Y||Y.length===0){B||m(T),o.value=[],G();return}o.value=Y}async function F(T=!1){const B=c.value?.path;if(B&&(s.value=await $e(B),t(O))){const me=(n.value||[]).find(se=>se.path===t(s))?.path;if(me){const se=await Ee(me);T&&(o.value=se,t(S)&&(a.value=se.length>0)),se.length===0&&(o.value=[])}}}function x(){F(!0),G()}function K(T){return t(w)==="hover"?{onMouseenter:()=>D(T.path,!0),onClick:async()=>{const B=await Ee(T.path);T.path&&B&&B.length===0&&m(T.path)}}:{onClick:()=>D(T.path)}}function we(){R({mixSideFixed:!t(S)})}function G(){const T=t(o);t(S)?(!T||T.length===0)&&(a.value=!1):a.value=!1}function oe(T){return he("div",{class:"item_wrapper",...K(T)},[he(Ve,{useTranstion:!0,size:$.value?18:22,icon:T.icon||T.meta&&T.meta.icon}),he("p",{class:"item_label"},i(T?.label??""))])}return(T,B)=>{const Y=et,Te=Dt,me=Bn("click-outside");return Ze((u(),v(Xe,An({class:[t(g),{mini:t($)}],width:t(M)},t(Q)),{header:p(()=>[f(Y,{class:V(`${t(g)}-logo`),"logo-size":t(Z),"show-title":!1,"is-static":""},null,8,["class","logo-size"])]),default:p(()=>[f(Te,{value:t(s),"onUpdate:value":B[0]||(B[0]=se=>Ue(s)?s.value=se:null),indent:0,options:t(n),inverted:t(C),"key-field":"path",class:V(`${t(g)}-menu`),"render-icon":()=>null,"render-label":oe},null,8,["value","options","inverted","class"])]),secondaryMenu:p(()=>[f(Xe,{ref_key:"sideRef",ref:d,class:V(`${t(g)}-secondary-menu_wrapper`),style:j(t(E)),width:t(a)?t(_):0,trigger:!1},{header:p(()=>[I("div",Fs,[I("span",Ns,q(t(b)),1),f(t(Ve),{size:16,icon:t(S)?"ri:pushpin-2-fill":"ri:pushpin-2-line",color:t(C)||t(h)?"white":void 0,class:"pushpin",onClick:we},null,8,["icon","color"])])]),default:p(()=>[f(at,{inverted:t(C),"split-type":t(ne).SECONDARY,"parent-path":t(s),"global-split":"","no-collapsed":""},null,8,["inverted","split-type","parent-path"])]),_:1},8,["class","style","width"])]),_:1},16,["class","width"])),[[me,x]])}}}),Us=z({name:"SiderWrapper",components:{Sider:As,MixSider:zs},setup(){const{prefixCls:e}=ee("layout-sider-wrapper"),{getIsMobile:n}=le(),{setMenuSetting:s,getShowSidebar:o,getIsMixSidebar:a,getMobileWidth:d,getCollapsed:l}=te();function c(g){s({collapsed:!g})}return{prefixCls:e,getMobileWidth:d,getShowSidebar:o,getIsMobile:n,getIsMixSidebar:a,getCollapsed:l,handleChange:c}}});function Ws(e,n,s,o,a,d){const l=W("Sider"),c=It,g=Et,m=W("MixSider");return e.getShowSidebar||e.getIsMobile?(u(),A(Ce,{key:0},[e.getIsMobile?(u(),v(g,{key:0,placement:"left",class:V(e.prefixCls),width:e.getMobileWidth,show:!e.getCollapsed,"onUpdate:show":e.handleChange},{default:p(()=>[f(c,{"body-content-style":"padding:0;"},{default:p(()=>[f(l)]),_:1})]),_:1},8,["class","width","show","onUpdate:show"])):e.getIsMixSidebar?(u(),v(m,{key:1})):(u(),v(l,{key:2}))],64)):H("",!0)}const Vs=fe(Us,[["render",Ws]]);var J=(e=>(e[e.REFRESH_PAGE=0]="REFRESH_PAGE",e[e.TOGGLE_FULL_SCREEN=1]="TOGGLE_FULL_SCREEN",e[e.CLOSE_CURRENT=2]="CLOSE_CURRENT",e[e.CLOSE_LEFT=3]="CLOSE_LEFT",e[e.CLOSE_RIGHT=4]="CLOSE_RIGHT",e[e.CLOSE_OTHER=5]="CLOSE_OTHER",e[e.CLOSE_ALL=6]="CLOSE_ALL",e[e.SCALE=7]="SCALE",e))(J||{});function Gs(e,n){const s=Oe({current:null,currentIndex:0}),{t:o}=ke(),a=Pe(),{currentRoute:d}=ye(),{refreshPage:l,closeAll:c,close:g,closeLeft:m,closeOther:i,closeRight:h}=Kt(),_=r(()=>t(n)?e.tabItem:t(d)),{getShowMenu:y,setMenuSetting:w}=te(),{getShowHeader:C,setHeaderSetting:S}=en(),L=Fn(vt(y),vt(C));function R(){const k=L.value;w({show:k,hidden:!k}),S({show:k})}const O=r(()=>{if(!t(_))return;const{path:k}=t(d),E=s.current,N=E?E.path===k:!1,M=s.currentIndex,U=M===0||!N,Z=a.getTabList.length===1,Q=!N||M===a.getTabList.length-1&&a.getLastDragEndIndex>=0,D=[{key:J.TOGGLE_FULL_SCREEN,label:o("layout.multipleTab.toggleFullScreen"),iconName:L.value?"i-radix-icons-exit-full-screen":"i-radix-icons-enter-full-screen"},{type:"divider",key:"d2"},{key:J.CLOSE_LEFT,label:o("layout.multipleTab.closeLeft"),disabled:U,iconName:"i-ph:arrow-line-left-bold"},{key:J.CLOSE_RIGHT,label:o("layout.multipleTab.closeRight"),disabled:Q,iconName:"i-ph:arrow-line-right-bold"},{key:J.CLOSE_OTHER,label:o("layout.multipleTab.closeOther"),disabled:Z||!N,iconName:"i-dashicons:align-center"},{key:J.CLOSE_ALL,label:o("layout.multipleTab.closeAll"),disabled:Z,iconName:"i-clarity:minus-line"}];return n.value?D.slice(2):D});function $(k){return E=>{if(!k)return;E?.preventDefault();const N=a.getTabList.findIndex(M=>M.path===k.path);s.current=k,s.currentIndex=N}}function b(k){switch(k){case J.REFRESH_PAGE:l();break;case J.TOGGLE_FULL_SCREEN:R();break;case J.CLOSE_CURRENT:g(e.tabItem);break;case J.CLOSE_LEFT:m();break;case J.CLOSE_RIGHT:h();break;case J.CLOSE_OTHER:i();break;case J.CLOSE_ALL:c();break}}return{getDropMenuList:O,handleMenuEvent:b,handleContextMenu:$}}const js=z({name:"TabContent",props:{tabItem:{type:Object,default:null},isExtra:Boolean},setup(e){const{prefixCls:n}=ee("multiple-tabs-content"),{t:s}=ke(),o=Oe({x:0,y:0}),a=Nn(!1),d=r(()=>{const{tabItem:{meta:b}={}}=e;return b&&s(b.title)}),l=r(()=>!e.isExtra),c=r(()=>t(l)?o.x:void 0),g=r(()=>t(l)?o.y:void 0),m=r(()=>t(l)?t(a):void 0),i=r(()=>t(l)?R:void 0),h=r(()=>t(l)?"manual":"click"),_=r(()=>t(l)?"bottom-start":"bottom-end"),{getDropMenuList:y,handleMenuEvent:w,handleContextMenu:C}=Gs(e,l);async function S(b){e.tabItem&&(b.preventDefault(),a.value=!1,await ce(),o.x=b.clientX,o.y=b.clientY,a.value=!0,C(e.tabItem)(b))}function L(b){e.tabItem&&C(e.tabItem)(b)}function R(){a.value=!1}function O(b){w(b),R()}function $(b){return f("i",{class:`${b.iconName} z-1 text-4`},null)}return()=>f(Ce,null,[t(l)&&f("div",{class:`${n}__info py-1 pl-2`,onContextmenu:S},[f("span",null,[t(d)])]),f(Dn,{x:t(c),y:t(g),show:t(m),onSelect:O,onClickoutside:t(i),options:t(y),"render-label":({label:b})=>b,"render-icon":$,trigger:t(h),placement:t(_)},{default:()=>[!t(l)&&f("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:L},[f("span",{class:"i-fluent-options-48-regular app-mtabs-anction-btn"},null)])]})])}}),Ks=z({__name:"TabRedo",setup(e){const n=P(!1),{refreshPage:s}=Kt();async function o(){const a=Date.now();n.value=!0,await s(),await qe(1200-(Date.now()-a)%1200),n.value=!1}return(a,d)=>(u(),A("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:o},[I("span",{class:V(["i-codicon-refresh app-mtabs-anction-btn",{"app-ease-spin animate-duration-1200":t(n)}])},null,2)]))}});function Xs(){const e=P([]),n=Pe(),s=ye();function o(l){const c=[];return l&&l.forEach(g=>{g.meta&&g.meta.affix&&c.push($t(g))}),c}function a(){const l=o(s.getRoutes());e.value=l;for(const c of l)n.addTab({meta:c.meta,name:c.name,path:c.path})}let d=!1;return d||(a(),d=!0),e.value.map(l=>l.meta?.title).filter(Boolean)}const Zs=z({name:"MultipleTabs",components:{TabRedo:Ks,TabContent:js},setup(){Xs();const e=P(),n=P(),s=ye(),o=Pe(),{prefixCls:a}=ee("multiple-tabs"),{getShowMultipleTab:d}=Xt(),l=Be(),c=P({borderTop:"none",borderRadius:"0px",padding:"0px",paddingRight:"6px"}),g=r(()=>({backgroundColor:uo("Layout","headerColor").value})),m=r(()=>o.getTabList.filter(_=>!_.meta?.hideTab));return jt(_=>{const{name:y}=_;if(y===Gt||!_)return;const{path:w,fullPath:C,meta:S={}}=_,{currentActiveMenu:L,hideTab:R}=S,O=R?L:null,$=O||C||w;if(n.value!==$&&(n.value=$),O){const b=s.getRoutes().find(k=>k.path===L);b&&o.addTab(b)}else o.addTab(t(_))}),re(()=>n.value,_=>{ce(()=>{if(!_)return;const y=Le(e)?.querySelector(`[data-name="${_}"]`);y&&setTimeout(()=>{y.scrollIntoView({behavior:"smooth"})},50)})},{immediate:!0}),Nt(()=>Le(e),_=>{const y=_.querySelector(".n-tabs-nav");y.style.minHeight=`${po}px`}),{activeKeyRef:n,panels:m,tabsElRef:e,handleClose:_=>{o.closeTabByKey(_,s)},handleTabChange:_=>{n.value=_,l(_,!1)},prefixCls:a,getTabStyle:c,getWrapperStyle:g,getShowMultipleTab:d}}}),qs={class:"flex h-full w-18"};function Ys(e,n,s,o,a,d){const l=W("TabContent"),c=zn,g=W("TabRedo"),m=Un;return e.getShowMultipleTab?(u(),A("div",{key:0,style:j(e.getWrapperStyle),class:V(e.prefixCls)},[f(m,{ref:"tabsElRef",value:e.activeKeyRef,"onUpdate:value":[n[0]||(n[0]=i=>e.activeKeyRef=i),e.handleTabChange],type:"card",size:"small",closable:"","tab-style":e.getTabStyle,onClose:e.handleClose},{prefix:p(()=>n[1]||(n[1]=[I("div",{class:"placeholder"},null,-1)])),suffix:p(()=>[I("div",qs,[f(l,{"is-extra":"","tab-item":e.$route},null,8,["tab-item"]),f(g)])]),default:p(()=>[(u(!0),A(Ce,null,Ot(e.panels,i=>(u(),v(c,{key:i.path||i.fullPath,name:i.path||i.fullPath,class:V({"!pr-2":i?.meta?.affix}),closable:!i?.meta?.affix},{default:p(()=>[f(l,{"tab-item":i},null,8,["tab-item"])]),_:2},1032,["name","class","closable"]))),128))]),_:1},8,["value","tab-style","onClose","onUpdate:value"])],6)):H("",!0)}const Js=fe(Zs,[["render",Ys]]),Qs=z({name:"DefaultLayout",components:{LayoutSider:Vs,LayoutHeader:Ps,LayoutContent:qo,LayoutFooter:vo,MTabs:Js},setup(){const{prefixCls:e}=ee("default-layout"),{getMenuType:n}=te(),{runLog:s}=Lo();return{getLayoutCls:r(()=>{let a="";switch(n.value){case ie.SIDEBAR:a=Ie.SIDEBAR;break;case ie.MIX_SIDEBAR:a=Ie.MIX_SIDEBAR;break;case ie.MIX:a=Ie.MIX;break;case ie.TOP_MENU:a=Ie.TOP_MENU;break}return`${a}`}),prefixCls:e,runLog:s}}});function ea(e,n,s,o,a,d){const l=W("LayoutHeader"),c=W("LayoutSider"),g=W("MTabs"),m=W("LayoutFooter"),i=W("LayoutContent"),h=Do;return u(),A("div",{class:V([e.prefixCls,e.getLayoutCls])},[f(l),f(c),f(g),f(i,null,{footer:p(()=>[f(m)]),_:1}),f(h,{ref:"runLog"},null,512)],2)}const ya=fe(Qs,[["render",ea]]);export{ya as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./app-8ad89dd9.js","./vendor-f4e37609.js","../css/app-0b4bd12c.css","./app-34fc42c0.js","./app-516cf0fd.js","./vendor-5db0929b.js","../css/app-cecc12d1.css","../css/app-8b8c079b.css","./app-9c4cfd23.js","./app-89768b9a.js","./app-5b984881.js","./app-d272612f.js","./app-0e6d928e.js","./app-93ba978c.js","./app-701fb381.js","./app-32d007d4.js"])))=>i.map(i=>d[i]);
import{aN as ve,a6 as u,aG as D,al as R,aO as kt,G as z,r as Pe,aw as ft,J as At,aP as an,h as r,aQ as Lt,aE as rn,b2 as ce,aR as ln,F as t,a7 as v,a8 as p,a9 as f,aH as Z,aq as Ie,aI as O,aT as ae,ap as j,aJ as Ge,aU as cn,aA as un,b5 as Tt,aL as dn,ar as It,b9 as pn,aV as gn,b6 as fn,aW as mn,bK as hn,ba as _n,bE as Rt,bF as xt,C as ye,t as Et,c1 as vn,ac as U,aS as Se,an as Pt,aj as Xe,ak as Ot,y as B,c2 as yn,b3 as Ue,c3 as Bt,c4 as bn,bY as Ze,N as Ce,ao as Q,b$ as Cn,bh as Sn,ay as Ht,bj as Mn,c5 as Dt,B as re,bX as we,c6 as Me,c7 as mt,c8 as wn,c9 as ht,ca as kn,cb as Ft,cc as _t,cd as An,ce as Ln,cf as Nt,cg as Tn,at as he,o as In,bV as $t,ch as Rn,ci as xn,cj as En,bS as Pn,H as On,ck as Bn,aF as Hn,cl as Dn,cm as Fn,cn as vt,co as Nn,bb as $n,bu as zn,b0 as Gn}from"./vendor-f4e37609.js";import{g as Un,s as Qn,_ as Wn,f as jn}from"./app-3a46d118.js";import{_ as Kn,a as Vn}from"./app-3378d39a.js";import{u as le,c as Xn,d as Zn}from"./app-34fc42c0.js";import{b as ke,t as Oe,v as Be,e as fe,a as ue,o as qn,w as Jn,_ as Yn,p as _e,M as pe,x as ie,y as ge,z as de,A as yt,B as eo,C as zt,h as to,i as He,D as no,F as oo,G as Gt,H as qe,I as Ut,J as so,K as Je,L as Ye,N as ao,O as ne,Q as Qt,R as ro,S as Wt,U as lo,V as io,W as co,X as jt,Y as Kt,Z as uo,$ as po,a0 as Re}from"./app-516cf0fd.js";import{i as go,g as fo}from"./app-d82b1e23.js";import{u as ee}from"./app-e921add8.js";import{u as mo}from"./app-758bfed7.js";import ho from"./app-21f82a8c.js";import{u as _o}from"./app-538d1627.js";import{F as vo}from"./app-82401ac2.js";import{p as V}from"./app-5b984881.js";import{I as Qe}from"./app-89768b9a.js";import{_ as De}from"./vendor-5db0929b.js";import{_ as yo,a as bo,C as Co}from"./app-3b782c1f.js";import{u as So}from"./app-32d007d4.js";import{u as Mo}from"./app-9b59ea68.js";import"./app-283fbeb1.js";const wo={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function ko(e,n){return u(),D("svg",wo,n[0]||(n[0]=[R("path",{fill:"currentColor",d:"M19 7h-2.81c-.45-.8-1.07-1.5-1.82-2L16 3.41L14.59 2l-2.17 2.17a6 6 0 0 0-2.83 0L7.41 2L6 3.41L7.62 5c-.75.5-1.36 1.21-1.81 2H3v2h2.09c-.06.33-.09.66-.09 1v1H3v2h2v1c0 .34.03.67.09 1H3v2h2.81A6 6 0 0 0 13 19.65V19c0-.57.09-1.14.25-1.69c-.66.45-1.45.69-2.25.69c-2.21 0-4-1.79-4-4v-4c0-2.21 1.79-4 4-4s4 1.79 4 4v4c0 .19 0 .39-.05.58c.59-.54 1.29-.96 2.05-1.23V13h2v-2h-2v-1c0-.34-.03-.67-.09-1H19zm-6 2v2H9V9zm0 4v2H9v-2zm3 3h6v6h-6z"},null,-1)]))}const Ao=ve({name:"mdi-bug-stop-outline",render:ko}),Lo={style:{display:"inline-block"},viewBox:"0 0 48 48",width:"1em",height:"1em"};function To(e,n){return u(),D("svg",Lo,n[0]||(n[0]=[R("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"},[R("path",{d:"M21 6H9a3 3 0 0 0-3 3v22a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V21M24 34v8"}),R("path",{d:"m32 6l-4 4l4 4m6-8l4 4l-4 4M14 42h20"})],-1)]))}const Io=ve({name:"icon-park-outline-code-computer",render:To}),Ro={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function xo(e,n){return u(),D("svg",Ro,n[0]||(n[0]=[R("path",{fill:"currentColor",d:"M22.54 21.12L20.41 19l2.13-2.12l-1.42-1.42L19 17.59l-2.12-2.13l-1.42 1.42L17.59 19l-2.13 2.12l1.42 1.42L19 20.41l2.12 2.13M6 2a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08c.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2Z"},null,-1)]))}const Eo=ve({name:"mdi-file-document-remove-outline",render:xo}),Po={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function Oo(e,n){return u(),D("svg",Po,n[0]||(n[0]=[kt('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path fill="currentColor" fill-opacity="0" stroke-dasharray="64" stroke-dashoffset="64" d="M12 3c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9c0 -4.97 4.03 -9 9 -9Z"><animate fill="freeze" attributeName="fill-opacity" begin="0.6s" dur="0.15s" values="0;0.3"></animate><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="64;0"></animate></path><path stroke-dasharray="8" stroke-dashoffset="8" d="M12 12l4 4M12 12l-4 -4M12 12l-4 4M12 12l4 -4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.75s" dur="0.2s" values="8;0"></animate></path></g>',1)]))}const Bo=ve({name:"line-md-close-circle-twotone",render:Oo}),Ho={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function Do(e,n){return u(),D("svg",Ho,n[0]||(n[0]=[kt('<g fill="currentColor" fill-opacity="0" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="64" stroke-dashoffset="64" d="M12 3l9 17h-18l9 -17Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="64;0"></animate></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10v4"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"></animate></path><path stroke-dasharray="2" stroke-dashoffset="2" d="M12 17v0.01"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.8s" dur="0.2s" values="2;0"></animate></path><animate fill="freeze" attributeName="fill-opacity" begin="1.1s" dur="0.15s" values="0;0.3"></animate></g>',1)]))}const Fo=ve({name:"line-md-alert-twotone",render:Do}),No={style:{"vertical-align":"-4px",padding:"0 2px"}},$o=z({__name:"index",setup(e,{expose:n}){const{getIsMobile:s}=le(),{t:o}=ke();let a=null,d=null;const l={show:!1,title:o("component.runLog.title"),cmd:"",runId:"",logContent:"",logInstRef:null,runTimes:0,isLogOverOk:!1,isLogOverFail:!1,isLogOverExit:!1,isLogReachBottom:!0,isStopping:!1,isLogEmpty:!1,showFullScreen:!1},c=Pe(ft(l)),{show:g,title:m,cmd:i,runId:h,logContent:_,logInstRef:y,runTimes:A,isLogOverOk:S,isLogOverFail:C,isLogOverExit:M,isLogReachBottom:T,isStopping:P,isLogEmpty:E,showFullScreen:b}=At(c);async function k(F){h.value=await jn({cmd:F})}async function x(F){switch(F){case"cmdStop":if(!i.value)return;P.value=!0;const I=fo(i.value);try{const K=await Qn({path:I});S.value=!1,C.value=!1,M.value=!0,_.value+=`
${K}
`}catch{P.value=!1}break;case"fullScreen":b.value=!b.value;break}}const N=an(F=>{const I=y.value;if(!I)return;const K=I.$el.clientHeight,Ae=F.target.scrollTop,W=F.target.scrollHeight;T.value=K+Ae>=W-10},300),w=r(()=>S.value||C.value||M.value?o("component.modal.close"):""),G=r(()=>go(i.value));function X({code:F,result:I}){I.runId===h.value&&(I.over&&(clearInterval(d),_.value||(E.value=!0)),_.value+=I.log||"",F?P.value||(S.value=I.over):P.value||(C.value=I.over))}function Y(F={cmd:""}){b.value=!1,Object.assign(c,ft(l),F,{show:!0}),ce().then(()=>setTimeout(()=>k(i.value),500)),d||(d=setInterval(()=>{A.value+=.1},100)),a?.off("runLog").on("runLog",X),ce().then(()=>{const I=y.value.scrollbarRef?.containerRef;I&&(I.removeEventListener("scroll",N),I.addEventListener("scroll",N))})}function $(){g.value=!1,d&&clearInterval(d),d=null}return Lt(()=>{a=Un(),rn(()=>{_.value&&ce(()=>{T.value&&y.value?.scrollTo({position:"bottom",silent:!0})})})}),ln(()=>{if(y.value){const F=y.value?.scrollbarRef?.containerRef;F&&F.removeEventListener("scroll",N)}a?.off("runLog",X)}),n({open:Y}),(F,I)=>{const K=Kn,Ae=Vn,W=cn,oe=un,L=Tt,H=dn,q=It,Le=Wn,me=Fo,se=Bo,lt=pn,it=gn,ct=fn,ut=Eo,dt=mn,pt=Io,gt=Ao,tn=hn,nn=_n,on=Rt,sn=xt;return t(s)?(u(),v(sn,{key:1,show:t(g),"onUpdate:show":I[4]||(I[4]=be=>Ge(g)?g.value=be:null),height:"calc(var(--vh) * 100)",placement:"bottom","auto-focus":!1,"mask-closable":!1,onMaskClick:$,onAfterLeave:$},{default:p(()=>[f(on,{closable:!!t(w),"header-style":"height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 12px","footer-style":"padding: 16px 24px"},{header:p(()=>[f(it,null,{default:p(()=>[!t(S)&&!t(C)&&!t(M)?(u(),v(q,{key:0,size:26,style:{"vertical-align":"-0.05em"}})):(u(),v(W,{key:1,size:26},{default:p(()=>[t(S)?(u(),v(Le,{key:0,style:{color:"var(--app-success-color)","vertical-align":"0"}})):t(M)?(u(),v(me,{key:1,style:{color:"var(--app-warning-color)","vertical-align":"0"}})):t(C)?(u(),v(se,{key:2,style:{color:"var(--app-error-color)","vertical-align":"0"}})):O("",!0)]),_:1})),f(nn,{style:{height:"100%","max-width":"260px"}},{tooltip:p(()=>[R("span",null,Z(t(m)),1)]),default:p(()=>[R("span",No,Z(t(m)),1)]),_:1}),t(A)!==0?(u(),v(lt,{key:2,depth:3,style:{"font-size":"12px","vertical-align":"-4px"}},{default:p(()=>[ae(Z(`${t(A).toFixed(1)}s`),1)]),_:1})):O("",!0)]),_:1})]),footer:p(()=>[f(Ie,{name:"fade",mode:"out-in",appear:""},{default:p(()=>[!t(S)&&!t(C)&&!t(M)?(u(),v(H,{key:0},{default:p(()=>[f(oe,{secondary:"",focusable:!1,onClick:$},{icon:p(()=>[f(W,null,{default:p(()=>[f(pt,{style:{"vertical-align":"baseline"}})]),_:1})]),default:p(()=>[ae(" "+Z(t(o)("component.runLog.runBackground")),1)]),_:1}),t(G)?(u(),v(oe,{key:0,secondary:"",focusable:!1,loading:t(P),onClick:I[3]||(I[3]=be=>x("cmdStop"))},{icon:p(()=>[f(W,null,{default:p(()=>[f(gt,{style:{"vertical-align":"baseline"}})]),_:1})]),default:p(()=>[ae(" "+Z(t(o)("component.runLog.terminate")),1)]),_:1},8,["loading"])):O("",!0)]),_:1})):t(w)?(u(),v(oe,{key:1,block:"",secondary:"",type:t(M)?"warning":t(C)?"error":"primary",focusable:!1,onClick:$},{default:p(()=>[ae(Z(t(w)),1)]),_:1},8,["type"])):O("",!0)]),_:1})]),default:p(()=>[t(E)?(u(),v(dt,{key:1,class:"flex-jc-ac",style:{height:"400px"},size:"huge",description:t(o)("component.runLog.emptyTitle")},{icon:p(()=>[f(W,null,{default:p(()=>[f(ut)]),_:1})]),_:1},8,["description"])):(u(),v(ct,{key:0,ref_key:"logInstRef",ref:y,log:t(_),"font-size":14,"line-height":1.5,language:"naive-log",style:{width:"100%",height:"100%"}},null,8,["log"]))]),_:1},8,["closable"])]),_:1},8,["show"])):(u(),v(tn,{key:0,show:t(g),"onUpdate:show":I[2]||(I[2]=be=>Ge(g)?g.value=be:null),preset:"dialog","transform-origin":"center","auto-focus":!1,"close-on-esc":!1,"mask-closable":!1,style:j({width:t(b)?"calc(-20px + 100vw)":"600px"}),"on-close":$},{close:p(()=>[f(H,null,{default:p(()=>[f(L,{"show-arrow":!1,trigger:"hover",delay:500},{trigger:p(()=>[f(oe,{size:"tiny",quaternary:"",focusable:!1,style:{padding:"4px"},onClick:I[0]||(I[0]=be=>x("fullScreen"))},{icon:p(()=>[f(W,{size:20,depth:2},{default:p(()=>[t(b)?(u(),v(Ae,{key:1,style:{"vertical-align":"baseline"}})):(u(),v(K,{key:0,style:{"vertical-align":"baseline"}}))]),_:1})]),_:1})]),default:p(()=>[R("span",null,Z(t(b)?t(o)("layout.header.tooltipExitFull"):t(o)("layout.header.tooltipEntryFull")),1)]),_:1}),f(Ie,{name:"fade-slide-right",mode:"out-in"},{default:p(()=>[t(w)?(u(),v(oe,{key:0,size:"tiny",quaternary:"",focusable:!1,style:{padding:"4px"},onClick:$},{icon:p(()=>[f(W,{size:18,depth:2},{default:p(()=>I[5]||(I[5]=[R("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[R("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[R("g",{fill:"currentColor","fill-rule":"nonzero"},[R("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"})])])],-1)])),_:1})]),_:1})):O("",!0)]),_:1})]),_:1})]),icon:p(()=>[!t(S)&&!t(C)&&!t(M)?(u(),v(q,{key:0,size:24,style:{"vertical-align":"-0.05em","padding-right":"1em"}})):O("",!0),f(W,null,{default:p(()=>[t(S)?(u(),v(Le,{key:0,style:{color:"var(--app-success-color)","vertical-align":"0"}})):t(M)?(u(),v(me,{key:1,style:{color:"var(--app-warning-color)","vertical-align":"0"}})):t(C)?(u(),v(se,{key:2,style:{color:"var(--app-error-color)","vertical-align":"0"}})):O("",!0)]),_:1})]),header:p(()=>[f(it,null,{default:p(()=>[ae(Z(t(m))+" ",1),t(A)!==0?(u(),v(lt,{key:0,depth:3,style:{"font-size":"12px","vertical-align":"baseline"}},{default:p(()=>[ae(Z(`${t(A).toFixed(1)}s`),1)]),_:1})):O("",!0)]),_:1})]),action:p(()=>[f(Ie,{name:"fade",mode:"out-in",appear:""},{default:p(()=>[!t(S)&&!t(C)&&!t(M)?(u(),v(H,{key:0},{default:p(()=>[f(oe,{secondary:"",size:"small",focusable:!1,onClick:$},{icon:p(()=>[f(W,null,{default:p(()=>[f(pt,{style:{"vertical-align":"baseline"}})]),_:1})]),default:p(()=>[ae(" "+Z(t(o)("component.runLog.runBackground")),1)]),_:1}),t(G)?(u(),v(oe,{key:0,secondary:"",size:"small",focusable:!1,loading:t(P),onClick:I[1]||(I[1]=be=>x("cmdStop"))},{icon:p(()=>[f(W,null,{default:p(()=>[f(gt,{style:{"vertical-align":"baseline"}})]),_:1})]),default:p(()=>[ae(" "+Z(t(o)("component.runLog.terminate")),1)]),_:1},8,["loading"])):O("",!0)]),_:1})):t(w)?(u(),v(oe,{key:1,size:"small",type:t(M)?"warning":t(C)?"error":"primary",focusable:!1,onClick:$},{default:p(()=>[ae(Z(t(w)),1)]),_:1},8,["type"])):O("",!0)]),_:1})]),default:p(()=>[t(E)?(u(),v(dt,{key:1,class:"flex-jc-ac",style:j([{height:"600px"},{height:t(b)?"calc(-160px + 100vh)":"600px"}]),size:"huge",description:t(o)("component.runLog.emptyTitle")},{icon:p(()=>[f(W,null,{default:p(()=>[f(ut)]),_:1})]),_:1},8,["style","description"])):(u(),v(ct,{key:0,ref_key:"logInstRef",ref:y,log:t(_),"font-size":15,"line-height":1.5,language:"naive-log",style:j({paddingTop:"1em",width:"100%",height:t(b)?"calc(-160px + 100vh)":"600px"})},null,8,["log","style"]))]),_:1},8,["show","style"]))}}});function Vt(){const e=Oe(),n=r(()=>e.getMultiTabsSetting.show);function s(o){e.setProjectConfig({multiTabsSetting:o})}return{setMultipleTabSetting:s,getShowMultipleTab:n}}function zo(){const e=ye(),{currentRoute:n}=e,{getShowMultipleTab:s}=Vt(),o=Be(),a=r(()=>l(Et(e.getRoutes()))||[]),d=r(()=>o.getTabList.reduce((m,i)=>(i.meta&&Reflect.has(i.meta,"frameSrc")&&m.push(i.name),m),[]));function l(m){let i=[];for(const h of m){const{meta:{frameSrc:_}={},children:y}=h;_&&i.push(h),y&&y.length&&i.push(...l(y))}return i=vn(i,"name"),i}function c(m){return m.name===t(n).name}function g(m){return t(s)?t(d).includes(m):e.currentRoute.value.name===m}return{hasRenderFrame:g,getFramePages:a,showIframe:c,getAllFramePages:l}}const Go=z({name:"FrameLayout",components:{FramePage:ho},setup(){const{getFramePages:e,hasRenderFrame:n,showIframe:s}=zo(),o=r(()=>t(e).length>0);return{getFramePages:e,hasRenderFrame:n,showIframe:s,showFrame:o}}}),Uo={key:0};function Qo(e,n,s,o,a,d){const l=U("FramePage");return e.showFrame?(u(),D("div",Uo,[(u(!0),D(Se,null,Pt(e.getFramePages,c=>(u(),D(Se,{key:c.path},[c.meta?.frameSrc&&e.hasRenderFrame(c.name)?Xe((u(),v(l,{key:0,"frame-src":c.meta.frameSrc},null,8,["frame-src"])),[[Ot,e.showIframe(c)]]):O("",!0)],64))),128))])):O("",!0)}const Wo=fe(Go,[["render",Qo]]),jo=z({name:"PageLayout",components:{FrameLayout:Wo},setup(){const e=B("readly"),n=B("fade-slide"),{getCanEmbedIFramePage:s}=ue();Xn({pageTranstionName:n,pageTranstionState:e});const{openCache:o,getCaches:a,getKey:d}=mo(n);return{openCache:o,getCaches:a,getKey:d,pageTranstionName:n,handleStart:()=>{e.value="readly"},handleEnter:()=>{e.value="running"},handleEnd:()=>{e.value="finshed"},getCanEmbedIFramePage:s}}});function Ko(e,n,s,o,a,d){const l=U("RouterView"),c=U("FrameLayout");return u(),D(Se,null,[f(l,null,{default:p(({Component:g})=>[f(Ie,{name:e.pageTranstionName,mode:"out-in",appear:"",onBeforeEnter:e.handleStart,onEnter:e.handleEnter,onAfterEnter:e.handleEnd},{default:p(()=>[e.openCache?(u(),v(yn,{key:0,include:e.getCaches},[(u(),v(Ue(g),{key:e.getKey}))],1032,["include"])):(u(),v(Ue(g),{key:e.getKey}))]),_:2},1032,["name","onBeforeEnter","onEnter","onAfterEnter"])]),_:1}),e.getCanEmbedIFramePage?(u(),v(c,{key:0})):O("",!0)],64)}const Vo=fe(jo,[["render",Ko]]),Xo={class:"flex-1"},Zo=z({__name:"index",setup(e){const n=B(),s=B(),o=Cn(),{prefixCls:a}=ee("layout-content"),{getOpenPageLoading:d}=qn(),{getPageLoading:l}=ue(),{width:c,height:g}=Bt(s),{emit:m}=_o();bn(s,m),Zn({width:c,height:g});const i=r(()=>d.value&&!o.meta?.hideLoading&&l.value);return Jn(async()=>{const h=n.value;h&&(await Ze(300),h.scrollTo({left:0,top:0}))}),(h,_)=>{const y=Yn,A=Sn,S=Ht,C=Mn;return u(),D("main",{ref_key:"contentEl",ref:s,class:Q(["transform-gpu transform",[t(a)]])},[f(y,{show:t(i)},null,8,["show"]),f(C,{embedded:"",class:"h-full",position:"absolute",style:{backgroundColor:"var(--app-layout-background)"}},{default:p(()=>[f(S,{ref_key:"scrollBarEl",ref:n,style:j({maxHeight:`${t(g)}px`})},{default:p(()=>[f(A,{right:40,bottom:60}),R("div",{class:"flex flex-col",style:j({minHeight:`${t(g)}px`})},[R("div",Xo,[f(Vo)]),Ce(h.$slots,"footer")],4)]),_:3},8,["style"])]),_:3})],2)}}}),Xt=z({__name:"ScrollContainer",props:{inverted:{type:Boolean}},setup(e){const n=e,{color:s,colorHover:o}=_e("Scrollbar",!0),a=r(()=>n.inverted?{color:s,colorHover:o}:void 0);return(d,l)=>{const c=Ht;return u(),v(c,{"builtin-theme-overrides":t(a)},{default:p(()=>[Ce(d.$slots,"default")]),_:3},8,["builtin-theme-overrides"])}}}),qo="data:image/png;base64,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";function Jo(){const e=Oe(),n=ye(),{currentRoute:s}=n;return{getFullContent:r(()=>{const a=t(s),{query:d}=a;return d&&Reflect.has(d,"__full__")?!0:e.getProjectConfig.fullContent})}}const Ne=B(!0),Yo=B(!1);function te(){const{getFullContent:e}=Jo(),n=Oe(),s=r(()=>n.getMenuSetting.split),o=r(()=>{const{show:K}=n.getMenuSetting;return K?ce(()=>{Ne.value=K}):Ne.value=K,K}),a=r(()=>n.getMenuSetting.mode),d=r(()=>t(s)||t(o)&&t(a)!==pe.HORIZONTAL&&!t(e)),l=r(()=>n.getMenuSetting.collapsed),c=r(()=>n.getMenuSetting.type),g=r(()=>n.getMenuSetting.hidden),m=r(()=>n.getMenuSetting.menuWidth),i=r(()=>n.getMenuSetting.menuRootIndent),h=r(()=>n.getMenuSetting.menuIndent),_=r(()=>n.getMenuSetting.trigger),y=r(()=>n.getMenuSetting.theme),A=r(()=>n.getMenuSetting.inverted),S=r(()=>n.getMenuSetting.mixSideTrigger),C=r(()=>n.getMenuSetting.mixSideFixed),M=r(()=>n.getMenuSetting.closeMixSidebarOnChange),T=r(()=>n.getMenuSetting.accordion),P=r(()=>t(c)===ie.SIDEBAR),E=r(()=>t(c)===ie.TOP_MENU),b=r(()=>n.getMenuSetting.collapsedShowTitle),k=r(()=>t(a)===pe.HORIZONTAL||t(s)),x=r(()=>t(c)===ie.TOP_MENU||!t(o)||t(g)?!1:t(_)===ge.HEADER),N=r(()=>t(a)===pe.HORIZONTAL),w=r(()=>t(c)===ie.MIX_SIDEBAR),G=r(()=>t(a)===pe.VERTICAL&&t(c)===ie.MIX),X=r(()=>{const{collapsedShowTitle:K}=n.getMenuSetting;return K?de.WIDTH:de.COLLAPSED_WIDTH}),Y=r(()=>t(w)?t(l)&&!t(C)?t(X):t(m):t(l)?t(X):t(m)),$=r(()=>Dt(m.value,yt.MIN,yt.MAX));function F(K){n.setProjectConfig({menuSetting:K})}function I(){F({collapsed:!t(l)})}return{tabsAnima:Ne,mixSideHasChildrenRef:Yo,getMenuType:c,getMenuMode:a,getShowMenu:o,getCollapsed:l,getMiniWidthNumber:X,getMenuWidth:m,getRealWidth:Y,getMobileWidth:$,getMenuRootIndent:i,getMenuIndent:h,getTrigger:_,getSplit:s,getMixSideFixed:C,getMixSideTrigger:S,getCloseMixSidebarOnChange:M,getMenuTheme:y,getMenuInverted:A,getCollapsedShowTitle:b,getIsHorizontal:N,getIsSidebarType:P,getAccordion:T,getShowTopMenu:k,getShowHeaderTrigger:x,getMenuHidden:g,getIsTopMenu:E,getShowSidebar:d,getIsMixMode:G,getIsMixSidebar:w,setMenuSetting:F,toggleCollapsed:I}}const es=/^(\d|\.)+$/,bt=/(\d|\.)+/;function Te(e,{c:n=1,offset:s=0,attachPx:o=!0}={}){if(typeof e=="number"){const a=(e+s)*n;return a===0?"0":`${a}px`}else if(typeof e=="string")if(es.test(e)){const a=(Number(e)+s)*n;return o?a===0?"0":`${a}px`:`${a}`}else{const a=bt.exec(e);return a?e.replace(bt,String((Number(a[0])+s)*n)):e}return e}const ts=["src"],et=z({__name:"AppLogo",props:{logoSize:V.stringNumber.def(24),showTitle:V.bool.def(!0),titleSize:V.stringNumber.def(18),titleColor:V.string,collapsed:V.bool,collapsedShowTitle:V.bool.def(!1),isStatic:V.bool.def(!1),width:V.stringNumber,canGoHome:V.bool.def(!1)},setup(e){we(k=>({"9f612b7e":t(P)}));const n=e,{prefixCls:s}=ee("app-logo"),o=eo(),{title:a}=zt(),{getMenuWidth:d,getMobileWidth:l,getMenuRootIndent:c,getCollapsed:g}=te(),{getIsMobile:m}=le(),i=B(),h=B(),_=B(`inset(0px ${n.collapsed?100:0}% 0px 0px)`);re([i,h,()=>n.showTitle],()=>{y()});function y(){const k=Me(i),x=Me(h);if(!k||!x||!n.showTitle)return;const N=A(k,x);N();let w;mt(k,"transitionstart",()=>{if(w){w.resume();return}w=wn(N)}),mt(k,"transitionend",()=>{w&&w.pause()})}function A(...k){return()=>{const[x,N]=k,w=x.offsetWidth,G=N.offsetWidth,X=N.offsetLeft,$=G-w+X+16;_.value=`inset(0px ${Dt($,0,G+1)}px 0px 0px)`}}const S=He(),C=r(()=>{const{collapsed:k,collapsedShowTitle:x,isStatic:N,width:w,canGoHome:G}=n;return Object.assign({userSelect:"none",cursor:G?"pointer":"unset"},N?{}:{paddingLeft:k?"7px":`${c.value-4}px`,width:(k??g.value)&&!x?Te(no):Te(w??m.value?l.value:d.value)})}),M=r(()=>({fontSize:Te(n.logoSize),transition:"font-size var(--app-transition-duration) var(--app-bezier)",zIndex:10,height:"24px",width:"24px",marginLeft:"6px"})),T=r(()=>{const{titleSize:k,titleColor:x}=n;return{fontSize:Te(k),lineHeight:1.3,...n.isStatic?{}:{clipPath:_.value},...x?{color:x}:{}}}),P=r(()=>n.collapsed?0:"100%"),E=r(()=>a);function b(){n.canGoHome&&S(o.getUserInfo.homePath||to.BASE_HOME)}return(k,x)=>(u(),D("div",{ref_key:"wrapperEl",ref:i,class:"flex-ac ease-in-out-300",style:j(t(C)),onClick:b},[R("img",{src:t(qo),draggable:!1,title:"Logo",style:j(t(M))},null,12,ts),f(Ie,{name:"fade-slide-right",mode:"out-in"},{default:p(()=>[e.showTitle&&!e.collapsed?(u(),D("div",{key:0,ref_key:"titleEl",ref:h,class:Q(["font-$app-font-family ml-3 font-semibold",[`${t(s)}__title`]]),style:j(t(T))},Z(t(E)),7)):O("",!0)]),_:1})],4))}}),Ct=Object.assign({}),We=[];Object.keys(Ct).forEach(e=>{const n=Ct[e].default||{},s=Array.isArray(n)?[...n]:[n];We.push(...s)});function tt(){return ao().getProjectConfig.permissionMode}function ns(){return tt()===Je.BACK}function os(){return tt()===Je.ROUTE_MAPPING}function nt(){return tt()===Je.ROLE}function je(e,n){return e.filter(s=>(!n||!s.meta?.hideMenu)&&!s.hideMenu).map(s=>(s.children&&(s.children=je(s.children,n),s.children.length||Reflect.deleteProperty(s,"children")),s))}const Zt=[];(()=>{We.sort((e,n)=>(e.orderNo||0)-(n.orderNo||0));for(const e of We)Zt.push(oo(e))})();async function ot(){const e=Ye();return ns()?je(e.getBackMenuList,!0):os()?je(e.getFrontMenuList):Zt}async function qt(){const e=await ot();if(nt()){const n=qe.getRoutes();return Ut(e,st(n))}return e}async function Ee(e){const n=await ot();return(await Gt(n,e))?.[0]}async function Ke(){const n=(await ot()).map(s=>({...s,children:void 0}));if(nt()){const s=qe.getRoutes();return n.filter(st(s))}return n}async function xe(e){const s=(await qt()).find(o=>o.path===e);if(!s||!s.children||s?.meta?.hideChildrenInMenu)return[];if(nt()){const o=qe.getRoutes();return Ut(s.children,st(o))}return s.children}function st(e){return n=>!!e.find(o=>{if(so(n.path))return!0;if(o.meta?.carryParam)return ht(o.path).regexp.test(n.path);const a=o.path===n.path;return a?o.meta?.ignoreAuth?!0:a||ht(o.path).regexp.test(n.path):!1})}function ss(e,n,s){const o=B(),{currentRoute:a}=ye(),{getIsMobile:d}=le(),l=Ye(),{setMenuSetting:c,getIsHorizontal:g,getSplit:m}=te(),i=kn(S,50),h=r(()=>t(e)!==ne.SECONDARY&&!t(g)),_=r(()=>{let M=t(m);const T=t(s);return Ft(T)&&(M=T),!M||t(e)!==ne.SECONDARY}),y=r(()=>t(e)===ne.ROOT),A=r(()=>t(e)===ne.NONE||!t(m));re([()=>t(a).path,()=>t(n),()=>t(e)],async([M,T])=>{if(t(h)||t(d))return;const{meta:P}=t(a),E=P.currentActiveMenu;let b;T?b=T:(b=await Ee(M),b||(b=await Ee(E))),b&&i(b)},{immediate:!0}),re([()=>l.getLastBuildMenuTime,()=>l.getBackMenuList],()=>{C()},{immediate:!0}),re(()=>m.value,()=>{t(h)||C()});async function S(M){if(t(_)||t(d))return;const T=await xe(M);if(!T||!T.length){c({hidden:!0}),o.value=[];return}c({hidden:!1}),o.value=T}async function C(){if(t(A)||t(d)){o.value=await qt();return}if(t(y)){const M=await Ke();o.value=M}}return{menusRef:o}}const $e=Qt&&navigator.connection,Jt=$e&&!/([a-z]-)?2g/.test($e.effectiveType)&&!$e.saveData,St={};function as(e){return Qt?document.createElement("link")?.relList?.supports(e):!1}function rs(e){return new Promise((n,s)=>{const o=document.createElement("link");o.rel="prefetch",o.href=e,o.addEventListener("load",n),o.addEventListener("error",s),document.head.appendChild(o)})}function ls(e){return new Promise((n,s)=>{const o=new XMLHttpRequest;o.open("GET",e,o.withCredentials=!0),o.addEventListener("load",()=>{o.status===200?n():s()}),o.send()})}const is=as("prefetch")?rs:ls;function cs(e,n){if(!(!Jt||St[e]))return is(e).then(()=>{St[e]=!0})}const us=z({name:"PrefetchLink",props:{..._t.props,prefetch:{type:Boolean,default:!0},prefetchFiles:{type:Array},timeout:{type:Number,default:1e3}},setup(e,{slots:n}){const s=An({to:e.to}),o=B(),a=B(!1),d=r(()=>In(e,["prefetch","prefetchFiles","timeout"])),{stop:l,isSupported:c}=Ln(o,async([{isIntersecting:i}])=>{i&&(await Ze(e.timeout),m())});Nt(o,()=>{e.prefetch&&t(c)&&Jt&&(a.value=!0)}),Tn(()=>{a.value=!1});function g(i){return i.matched.map(h=>Object.values(h.components)).flat().filter(h=>typeof h=="function")}function m(){const i=s.route.value;if(i.meta.__prefetched)return;i.meta.__prefetched=!0;const h=i.meta.prefetch;if(h){const y=g(i);for(const A of y)A();typeof h=="function"&&h(i)}const _=[...e.prefetchFiles||[],...i.meta.prefetchFiles||[]];if(_.length>0)for(const y of _)cs(y);l()}return()=>{const i=n.default&&n.default(s);return e.custom?(ce(()=>{if(i){const h=i[0];if(ro(h.type))throw new Error('[PrefetchLink Component] when "props.custom" is true, slot content must not be plain text');o.value=Me(h.el)}else console.warn('[PrefetchLink Component] when "props.custom" is true, must exist default slot')}),i):he(_t,{ref:h=>{o.value=h},...d.value},()=>i)}}}),ds=z({name:"LayoutMenu",props:{inverted:V.bool,parentPath:V.string,noCollapsed:V.bool,globalSplit:{type:Boolean,default:void 0},splitType:{type:Number,default:ne.NONE},menuMode:{type:[String],default:""}},setup(e){const n=B(null),{splitType:s,parentPath:o,globalSplit:a}=At(e),{menusRef:d}=ss(s,o,a),{getMenuMode:l,getMenuIndent:c,getMenuRootIndent:g,getCollapsed:m,getAccordion:i,toggleCollapsed:h}=te(),{currentRoute:_}=ye(),y=He(),{t:A}=ke(),S=B([]),C=B(),M=w=>{S.value=w},{getIsMobile:T}=le(),P=w=>{y(w),t(T)&&h()},E=r(()=>t(T)?pe.VERTICAL:e.menuMode||t(l)),b=r(()=>s.value===ne.ROOT);return re([_,d],async([w,G])=>{const{name:X,path:Y,meta:$}=w;if(X!==Wt&&(C.value=Y,i.value&&G&&G.length>0)){const F=Gt(G,Y);if(b.value){const I=await Ee(Y);C.value=I}else $.currentActiveMenu?(C.value=$.currentActiveMenu,ce(()=>{n.value?.showOption($.currentActiveMenu)})):(F.length>=2&&F.pop(),S.value=F)}},{immediate:!0}),{getRealCollapsed:r(()=>e.noCollapsed||b.value?!1:m.value),getInverted:!1,menuValue:C,menuInstRef:n,menusRef:d,expandedKeys:S,handleUpdateExpandedKeys:M,handleUpdateValue:P,renderIcon:({meta:w})=>{const G=w?.icon;return G?he(Qe,{icon:G}):null},renderLabel:w=>he(us,{to:w.path,custom:!1},{default:()=>he("span",null,{default:()=>A(w?.label??"")})}),getRealMenuMode:E,getMenuIndent:c,getMenuRootIndent:g}}});function ps(e,n,s,o,a,d){const l=$t;return u(),v(l,{ref:"menuInstRef",value:e.menuValue,"onUpdate:value":[n[0]||(n[0]=c=>e.menuValue=c),e.handleUpdateValue],mode:e.getRealMenuMode,"key-field":"path",collapsed:e.getRealCollapsed,inverted:e.getInverted,indent:e.getMenuIndent,"root-indent":e.getMenuRootIndent,options:e.menusRef,"expanded-keys":e.expandedKeys,"render-icon":e.renderIcon,"render-label":e.renderLabel,"onUpdate:expandedKeys":e.handleUpdateExpandedKeys},null,8,["value","mode","collapsed","inverted","indent","root-indent","options","expanded-keys","render-icon","render-label","onUpdate:expandedKeys","onUpdate:value"])}const at=fe(ds,[["render",ps]]),gs=z({__name:"BarTrigger",props:{collapsed:V.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleBarColor:n,siderToggleBarColorHover:s}=_e("Layout"),{siderToggleBarColor:o,siderToggleBarColorHover:a}=_e("Layout",!0),{getIsDarkMode:d}=ue(),l=r(()=>{const g=d.value;return{color:g?o:n,hoverColor:g?a:s}});we(()=>({"toggle-bar-color":l.value.color,"toggle-bar-color-hover":l.value.hoverColor}));const{prefixCls:c}=ee("layout-toggle-bar");return(g,m)=>(u(),D("div",{class:Q([t(c),{collapsed:e.collapsed}]),onClick:m[0]||(m[0]=(...i)=>e.onClick&&e.onClick(...i))},[R("div",{class:Q(`${t(c)}__top`)},null,2),R("div",{class:Q(`${t(c)}__bottom`)},null,2)],2))}}),fs=z({__name:"ButtonTrigger",props:{collapsed:V.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleButtonColor:n,siderToggleButtonIconColor:s,siderToggleButtonBorder:o}=_e("Layout"),{siderToggleBarColor:a,siderToggleButtonIconColor:d,siderToggleButtonBorder:l}=_e("Layout",!0),{getIsDarkMode:c}=ue(),g=r(()=>{const i=c.value;return{bgColor:i?a:n,iconColor:i?d:s,border:i?l:o}});we(()=>{const i=g.value;return{"toggle-button-color":i.bgColor,"toggle-button-icon-color":i.iconColor,"toggle-button-border":i.border}});const{prefixCls:m}=ee("layout-toggle-button");return(i,h)=>(u(),D("div",{class:Q([t(m),{collapsed:e.collapsed}]),onClick:h[0]||(h[0]=(..._)=>e.onClick&&e.onClick(..._))},h[1]||(h[1]=[R("i",{class:"icon"},[R("svg",{viewBox:"0 0 16 16",fill:"none",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[R("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"})])],-1)]),2))}}),ms={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function hs(e,n){return u(),D("svg",ms,n[0]||(n[0]=[R("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8"},null,-1)]))}const _s=ve({name:"ant-design-menu-fold-outlined",render:hs}),vs={style:{display:"inline-block"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function ys(e,n){return u(),D("svg",vs,n[0]||(n[0]=[R("path",{fill:"currentColor",d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7"},null,-1)]))}const bs=ve({name:"ant-design-menu-unfold-outlined",render:ys}),Cs=z({__name:"HeaderTrigger",props:{collapsed:V.bool.def(!1),onClick:{type:Function}},setup(e){const{getIsMobile:n}=le();return(s,o)=>{const a=bs,d=_s;return u(),D("span",{class:"app-layout-header-anction-icon",style:j(t(n)?"background-color: transparent !important":""),onClick:o[0]||(o[0]=(...l)=>e.onClick&&e.onClick(...l))},[e.collapsed?(u(),v(a,{key:0,viewBox:"64 64 896 896"})):(u(),v(d,{key:1,viewBox:"64 64 896 896"}))],4)}}}),Yt=z({__name:"index",props:{type:{default:ge.BAR},onClick:null},setup(e){const n=e,s=new Map;s.set(ge.BAR,gs),s.set(ge.BUTTON,fs),s.set(ge.HEADER,Cs);const{toggleCollapsed:o}=te();function a(){n?.onClick&&Rn(n.onClick)?n.onClick():o()}return(d,l)=>e.type?(u(),v(Ue(t(s).get(e.type)),{key:0,style:{transition:".2s"},onClick:a})):O("",!0)}});function Fe(e,n){n=n||{};const{size:s="small",delay:o=100,timeout:a=3e4,loading:d=!1,loadingComponent:l,retry:c=!0}=n;return xn({loader:e,loadingComponent:d?f(It,{size:s,style:"margin:1rem;"},null):l,timeout:a,delay:o,onError:c?(g,m,i,h)=>{g.message.match(/fetch/)&&h<=3?m():i()}:lo})}const Ss=z({name:"FullScreen",setup(){const{t:e}=ke(),{toggle:n,isFullscreen:s}=En(),{getIsMobile:o}=le();return{getTitle:r(()=>t(s)?e("layout.header.tooltipExitFull"):e("layout.header.tooltipEntryFull")),getIsMobile:o,isFullscreen:s,toggle:n}}});function Ms(e,n,s,o,a,d){const l=yo,c=bo,g=Tt;return u(),v(g,{trigger:"hover",placement:"bottom",delay:1e3},{trigger:p(()=>[R("span",{class:"app-layout-header-anction-icon",style:j({borderRadius:e.getIsMobile?"0":"6px"}),onClick:n[0]||(n[0]=(...m)=>e.toggle&&e.toggle(...m))},[e.isFullscreen?(u(),v(l,{key:0,class:"text-18px"})):(u(),v(c,{key:1,class:"text-18px"}))],4)]),default:p(()=>[ae(" "+Z(e.getTitle),1)]),_:1})}const ws=fe(Ss,[["render",Ms]]),ks=Fe(()=>De(()=>import("./app-8ad89dd9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url),{loadingComponent:f("div",{class:"flex items-center space-x-0"},[f(Pn,{class:"mr-2.5",height:"24px",circle:!0},null)])}),As=Fe(()=>De(()=>import("./app-9c4cfd23.js"),__vite__mapDeps([8,9,1,2,10,4,5,6,7,3]),import.meta.url)),Ls=Fe(()=>De(()=>import("./app-d272612f.js"),__vite__mapDeps([11,12,1,2,9,10,4,5,6,7,3]),import.meta.url)),Ts=Fe(()=>De(()=>import("./app-93ba978c.js"),__vite__mapDeps([13,14,1,2,3,4,5,6,7,15]),import.meta.url));let ze;function Is(){return ze||(ze=On(co)),{...ze,sizeEnum:io}}function en(){const e=Oe(),{getMenuMode:n,getSplit:s,getShowHeaderTrigger:o,getIsSidebarType:a,getIsMixSidebar:d}=te(),{getShowBreadCrumb:l,getShowLogo:c}=ue(),g=r(()=>e.getHeaderSetting.show),m=r(()=>e.getHeaderSetting.height),i=r(()=>t(n)!==pe.HORIZONTAL&&t(l)&&!t(s)),h=r(()=>t(c)&&!t(a)&&!t(d)),_=r(()=>t(i)||t(o));function y(A){e.setProjectConfig({headerSetting:A})}return{setHeaderSetting:y,getShowBread:i,getShowContent:_,getShowHeaderLogo:h,getShowHeader:g,getHeaderHeight:m}}const rt=z({name:"LayoutHeader",components:{Trigger:Yt,LayoutBreadcrumb:As,LayoutMenu:at,FullScreen:ws,ThemeMode:Ls,LocalePicker:Ts,UserDropDown:ks},props:{fixed:V.bool},setup(){const{prefixCls:e}=ee("layout-header"),{getIsMobile:n}=le(),{smaller:s,sizeEnum:o}=Is(),{getIsDarkMode:a}=ue(),d=s(o.XXS),{getSplit:l,getCollapsed:c,getMenuInverted:g,getShowTopMenu:m,getIsSidebarType:i,getIsMixSidebar:h,getIsTopMenu:_,getTrigger:y}=te(),{getShowBread:A,getShowContent:S,getShowHeader:C}=en(),M=r(()=>y.value===ge.HEADER&&!_.value&&S.value&&!l.value),{getShowLocalePicker:T}=So(),P=r(()=>!(t(i)||t(h))),E=r(()=>l.value?ne.ROOT:ne.NONE),b=r(()=>pe.HORIZONTAL),k=r(()=>g.value&&(l.value||_.value)),x=r(()=>n.value?"transparent":"var(--app-border-color)");return{getIsDarkMode:a,getShowHeader:C,getIsMobile:n,getShowLocalePicker:T,prefixCls:e,getShowBread:A,getShowContent:S,getShowLogo:P,getCollapsed:c,getShowTopMenu:m,getShowTrigger:M,TriggerEnum:ge,getSplitType:E,getMenuMode:b,getInverted:k,getIs2xs:d,borderColor:x}}}),Mt=()=>{we(e=>({c5b55cc2:e.borderColor}))},wt=rt.setup;rt.setup=wt?(e,n)=>(Mt(),wt(e,n)):Mt;const Rs={class:"flex-jb-ac h-full text-1.2em"},xs={class:"flex-jb-ac h-full"},Es={key:0,class:"flex-ac h-full"},Ps={key:0,class:"flex-jb-ac flex-1 min-w-0 px-2 relative h-full"};function Os(e,n,s,o,a,d){const l=et,c=U("Trigger"),g=U("LayoutBreadcrumb"),m=U("LayoutMenu"),i=Xt,h=U("FullScreen"),_=U("LocalePicker"),y=U("ThemeMode"),A=U("UserDropDown"),S=Bn;return e.getShowHeader?(u(),v(S,{key:0,class:Q([e.prefixCls]),style:j({height:e.getIsMobile?"43px":"47px",backgroundColor:"var(--app-background)"})},{default:p(()=>[R("div",Rs,[R("div",xs,[e.getShowLogo?(u(),D("div",Es,[f(l,{collapsed:e.getCollapsed,"collapsed-show-title":"","title-color":e.getIsDarkMode?"#fff":"#000"},null,8,["collapsed","title-color"])])):O("",!0),e.getShowTrigger||e.getIsMobile?(u(),v(c,{key:1,type:e.TriggerEnum.HEADER,collapsed:e.getCollapsed,style:j({height:e.getIsMobile?"100%":"36px",marginLeft:e.getIsMobile?"0":"12px",borderRadius:e.getIsMobile?"0":"6px"})},null,8,["type","collapsed","style"])):O("",!0),e.getShowContent&&e.getShowBread?(u(),v(g,{key:2,class:Q(e.getIsMobile?"":"ml-3")},null,8,["class"])):O("",!0)]),e.getShowTopMenu&&!e.getIsMobile?(u(),D("div",Ps,[f(i,{"x-scrollable":"",class:"absolute left-0 top-2px"},{default:p(()=>[f(m,{"menu-mode":e.getMenuMode,"split-type":e.getSplitType},null,8,["menu-mode","split-type"])]),_:1})])):O("",!0),R("div",{class:"flex-ac",style:j({height:e.getIsMobile?"100%":"36px",marginRight:e.getIsMobile?"0":"12px",gap:e.getIsMobile?"0":"6px"})},[e.getIsMobile?O("",!0):(u(),v(h,{key:0})),e.getShowLocalePicker?(u(),v(_,{key:1,"trigger-cls":"app-layout-header-anction-icon",reload:!0})):O("",!0),f(y,{"trigger-cls":"app-layout-header-anction-icon"}),f(A,{"trigger-cls":"app-layout-header-anction-icon"})],4)])]),_:1},8,["class","style"])):O("",!0)}const Bs=fe(rt,[["render",Os]]),Hs={key:0},Ve=z({__name:"SiderWrapper",props:{inverted:{type:Boolean,default:void 0},trigger:{type:Boolean,default:!0},width:null},setup(e){const n=e,{prefixCls:s}=ee("layout-sideBar"),{getIsDarkMode:o}=ue(),{getMenuInverted:a,getTrigger:d,getCollapsed:l,getSplit:c}=te(),{getIsMobile:g}=le(),m=r(()=>n.trigger&&(d.value!==ge.HEADER&&!t(g)||t(c))),i=B(null),{height:h}=Bt(i),_=r(()=>({maxHeight:`${h.value}px`})),y=r(()=>Ft(n.inverted)?n.inverted:a.value),{siderColor:A,siderColorInverted:S,siderBorderColor:C,siderBorderColorInverted:M}=_e("Layout"),{siderColor:T,siderBorderColor:P}=_e("Layout",!0),E=r(()=>t(o)?T:t(y)?S:A),b=r(()=>t(o)?P:t(y)?M:C);we(()=>({"mix-sider-bg-color":t(E),"mix-sider-border-color":t(b)}));const k=r(()=>({width:Te(n.width)}));return(x,N)=>{const w=Xt;return u(),D("div",{class:Q(t(s))},[R("div",{class:Q(`${t(s)}_wrapper`)},[R("div",{class:"menu_wrapper",style:j(t(k))},[Ce(x.$slots,"header"),R("div",{ref_key:"scrollEl",ref:i,class:"menu"},[f(w,{style:j(t(_)),inverted:t(y)},{default:p(()=>[Ce(x.$slots,"default")]),_:3},8,["style","inverted"])],512),Ce(x.$slots,"trigger",{},()=>[t(m)?(u(),v(Yt,{key:0,collapsed:t(l),type:t(d)},null,8,["collapsed","type"])):O("",!0)])],4),x.$slots.secondaryMenu?(u(),D("div",Hs,[Ce(x.$slots,"secondaryMenu")])):O("",!0)],2)],2)}}}),Ds=z({__name:"LayoutSider",setup(e){const{prefixCls:n}=ee("layout-sideBar"),{getIsMobile:s}=le(),{getIsDarkMode:o}=ue(),{getCollapsed:a,getRealWidth:d,getMobileWidth:l,getMenuHidden:c,getMenuInverted:g,getIsSidebarType:m,getSplit:i}=te(),h=r(()=>i.value?ne.SECONDARY:ne.NONE),_=r(()=>i.value?pe.VERTICAL:null),y=r(()=>i.value?!c.value:!0),A=r(()=>g.value&&!i.value),S=r(()=>s.value?l.value:d.value);return(C,M)=>{const T=et;return Xe((u(),v(Ve,{class:Q(t(n)),width:t(S),inverted:t(A)},{header:p(()=>[t(m)?(u(),v(T,{key:0,class:"flex-ac h-64px",collapsed:t(a),"title-color":t(o)?"#fff":"#000"},null,8,["collapsed","title-color"])):O("",!0)]),default:p(()=>[f(at,{"menu-mode":t(_),"split-type":t(h),inverted:t(A)},null,8,["menu-mode","split-type","inverted"])]),_:1},8,["class","width","inverted"])),[[Ot,t(y)]])}}}),Fs={class:"header_wrapper"},Ns={class:"title font-$app-font-family"},$s={name:"LayoutMixSider",directives:{clickOutside:Co}},zs=z({...$s,setup(e){we(L=>({"0bccd137":t(G),"0bda8e70":t(N)}));const n=B(),s=B(""),o=B(),a=B(!1),d=B(),l=Pe({borderLeftColor:"transparent",borderRightColor:"transparent",borderWidth:void 0}),c=B(null),{prefixCls:g}=ee("layout-mix-sider"),m=He(),{t:i}=ke(),{getIsDarkMode:h}=ue(),{getMenuWidth:_,getCloseMixSidebarOnChange:y,getMixSideTrigger:A,getMenuInverted:S,getMixSideFixed:C,mixSideHasChildrenRef:M,setMenuSetting:T,getIsMixSidebar:P,getCollapsed:E}=te(),{title:b}=zt(),k=Ye(),x=r(()=>({left:t(C)?0:`${t(w)}px`,position:t(C)?"static":"absolute",...l})),N=r(()=>t(h)||t(S)?"white":"var(--app-primary-color)");re(C,async L=>{const H=Me(d);if(H)if(L)H.style.transitionProperty="";else{await ce();const q=getComputedStyle(H).transitionProperty;H.style.transitionProperty=`${q}, left`}}),re([C,a],([L,H])=>{l.borderLeftColor=L?"transparent":H?t(S)&&!t(h)?"rgb(18, 41, 64)":"var(--mix-sider-border-color)":"transparent",l.borderRightColor=L?"transparent":H?"var(--mix-sider-border-color)":"transparent",l.borderWidth=H?void 0:0},{immediate:!0}),re([o,C],([L,H])=>{M.value=!!(L&&L?.length>0);const q=H&&t(M);q&&(a.value=q)});const w=r(()=>t(E)?de.COLLAPSED_WIDTH:de.WIDTH),G=r(()=>t(E)?de.LOGO_COLLAPSED_WRAPPER_HEIGHT:de.LOGO_WRAPPER_HEIGHT),X=r(()=>t(E)?de.LOGO_COLLAPSED_SIZE:de.LOGO_SIZE),Y=r(()=>t(C)?{}:{onMouseleave:I});Lt(async()=>{n.value=await Ke()}),re([()=>k.getLastBuildMenuTime,()=>k.getBackMenuList],async()=>{n.value=await Ke()},{immediate:!0}),jt(L=>{c.value=L,F(!0),t(y)&&W()});async function $(L,H=!1){const q=await xe(L);if(t(s)===L?(H?t(a)||(a.value=!0):t(a)?W():a.value=!0,t(a)||F()):(a.value=!0,s.value=L),!q||q.length===0){H||m(L),o.value=[],W();return}o.value=q}async function F(L=!1){const H=c.value?.path;if(H&&(s.value=await Ee(H),t(P))){const me=(n.value||[]).find(se=>se.path===t(s))?.path;if(me){const se=await xe(me);L&&(o.value=se,t(C)&&(a.value=se.length>0)),se.length===0&&(o.value=[])}}}function I(){F(!0),W()}function K(L){return t(A)==="hover"?{onMouseenter:()=>$(L.path,!0),onClick:async()=>{const H=await xe(L.path);L.path&&H&&H.length===0&&m(L.path)}}:{onClick:()=>$(L.path)}}function Ae(){T({mixSideFixed:!t(C)})}function W(){const L=t(o);t(C)?(!L||L.length===0)&&(a.value=!1):a.value=!1}function oe(L){return he("div",{class:"item_wrapper",...K(L)},[he(Qe,{useTranstion:!0,size:E.value?18:22,icon:L.icon||L.meta&&L.meta.icon}),he("p",{class:"item_label"},i(L?.label??""))])}return(L,H)=>{const q=et,Le=$t,me=Dn("click-outside");return Xe((u(),v(Ve,Hn({class:[t(g),{mini:t(E)}],width:t(w)},t(Y)),{header:p(()=>[f(q,{class:Q(`${t(g)}-logo`),"logo-size":t(X),"show-title":!1,"is-static":""},null,8,["class","logo-size"])]),default:p(()=>[f(Le,{value:t(s),"onUpdate:value":H[0]||(H[0]=se=>Ge(s)?s.value=se:null),indent:0,options:t(n),inverted:t(S),"key-field":"path",class:Q(`${t(g)}-menu`),"render-icon":()=>null,"render-label":oe},null,8,["value","options","inverted","class"])]),secondaryMenu:p(()=>[f(Ve,{ref_key:"sideRef",ref:d,class:Q(`${t(g)}-secondary-menu_wrapper`),style:j(t(x)),width:t(a)?t(_):0,trigger:!1},{header:p(()=>[R("div",Fs,[R("span",Ns,Z(t(b)),1),f(t(Qe),{size:16,icon:t(C)?"ri:pushpin-2-fill":"ri:pushpin-2-line",color:t(S)||t(h)?"white":void 0,class:"pushpin",onClick:Ae},null,8,["icon","color"])])]),default:p(()=>[f(at,{inverted:t(S),"split-type":t(ne).SECONDARY,"parent-path":t(s),"global-split":"","no-collapsed":""},null,8,["inverted","split-type","parent-path"])]),_:1},8,["class","style","width"])]),_:1},16,["class","width"])),[[me,I]])}}}),Gs=z({name:"SiderWrapper",components:{Sider:Ds,MixSider:zs},setup(){const{prefixCls:e}=ee("layout-sider-wrapper"),{getIsMobile:n}=le(),{setMenuSetting:s,getShowSidebar:o,getIsMixSidebar:a,getMobileWidth:d,getCollapsed:l}=te();function c(g){s({collapsed:!g})}return{prefixCls:e,getMobileWidth:d,getShowSidebar:o,getIsMobile:n,getIsMixSidebar:a,getCollapsed:l,handleChange:c}}});function Us(e,n,s,o,a,d){const l=U("Sider"),c=Rt,g=xt,m=U("MixSider");return e.getShowSidebar||e.getIsMobile?(u(),D(Se,{key:0},[e.getIsMobile?(u(),v(g,{key:0,placement:"left",class:Q(e.prefixCls),width:e.getMobileWidth,show:!e.getCollapsed,"onUpdate:show":e.handleChange},{default:p(()=>[f(c,{"body-content-style":"padding:0;"},{default:p(()=>[f(l)]),_:1})]),_:1},8,["class","width","show","onUpdate:show"])):e.getIsMixSidebar?(u(),v(m,{key:1})):(u(),v(l,{key:2}))],64)):O("",!0)}const Qs=fe(Gs,[["render",Us]]);var J=(e=>(e[e.REFRESH_PAGE=0]="REFRESH_PAGE",e[e.TOGGLE_FULL_SCREEN=1]="TOGGLE_FULL_SCREEN",e[e.CLOSE_CURRENT=2]="CLOSE_CURRENT",e[e.CLOSE_LEFT=3]="CLOSE_LEFT",e[e.CLOSE_RIGHT=4]="CLOSE_RIGHT",e[e.CLOSE_OTHER=5]="CLOSE_OTHER",e[e.CLOSE_ALL=6]="CLOSE_ALL",e[e.SCALE=7]="SCALE",e))(J||{});function Ws(e,n){const s=Pe({current:null,currentIndex:0}),{t:o}=ke(),a=Be(),{currentRoute:d}=ye(),{refreshPage:l,closeAll:c,close:g,closeLeft:m,closeOther:i,closeRight:h}=Kt(),_=r(()=>t(n)?e.tabItem:t(d)),{getShowMenu:y,setMenuSetting:A}=te(),{getShowHeader:S,setHeaderSetting:C}=en(),M=Fn(vt(y),vt(S));function T(){const k=M.value;A({show:k,hidden:!k}),C({show:k})}const P=r(()=>{if(!t(_))return;const{path:k}=t(d),x=s.current,N=x?x.path===k:!1,w=s.currentIndex,G=w===0||!N,X=a.getTabList.length===1,Y=!N||w===a.getTabList.length-1&&a.getLastDragEndIndex>=0,$=[{key:J.TOGGLE_FULL_SCREEN,label:o("layout.multipleTab.toggleFullScreen"),iconName:M.value?"i-radix-icons-exit-full-screen":"i-radix-icons-enter-full-screen"},{type:"divider",key:"d2"},{key:J.CLOSE_LEFT,label:o("layout.multipleTab.closeLeft"),disabled:G,iconName:"i-ph:arrow-line-left-bold"},{key:J.CLOSE_RIGHT,label:o("layout.multipleTab.closeRight"),disabled:Y,iconName:"i-ph:arrow-line-right-bold"},{key:J.CLOSE_OTHER,label:o("layout.multipleTab.closeOther"),disabled:X||!N,iconName:"i-dashicons:align-center"},{key:J.CLOSE_ALL,label:o("layout.multipleTab.closeAll"),disabled:X,iconName:"i-clarity:minus-line"}];return n.value?$.slice(2):$});function E(k){return x=>{if(!k)return;x?.preventDefault();const N=a.getTabList.findIndex(w=>w.path===k.path);s.current=k,s.currentIndex=N}}function b(k){switch(k){case J.REFRESH_PAGE:l();break;case J.TOGGLE_FULL_SCREEN:T();break;case J.CLOSE_CURRENT:g(e.tabItem);break;case J.CLOSE_LEFT:m();break;case J.CLOSE_RIGHT:h();break;case J.CLOSE_OTHER:i();break;case J.CLOSE_ALL:c();break}}return{getDropMenuList:P,handleMenuEvent:b,handleContextMenu:E}}const js=z({name:"TabContent",props:{tabItem:{type:Object,default:null},isExtra:Boolean},setup(e){const{prefixCls:n}=ee("multiple-tabs-content"),{t:s}=ke(),o=Pe({x:0,y:0}),a=Nn(!1),d=r(()=>{const{tabItem:{meta:b}={}}=e;return b&&s(b.title)}),l=r(()=>!e.isExtra),c=r(()=>t(l)?o.x:void 0),g=r(()=>t(l)?o.y:void 0),m=r(()=>t(l)?t(a):void 0),i=r(()=>t(l)?T:void 0),h=r(()=>t(l)?"manual":"click"),_=r(()=>t(l)?"bottom-start":"bottom-end"),{getDropMenuList:y,handleMenuEvent:A,handleContextMenu:S}=Ws(e,l);async function C(b){e.tabItem&&(b.preventDefault(),a.value=!1,await ce(),o.x=b.clientX,o.y=b.clientY,a.value=!0,S(e.tabItem)(b))}function M(b){e.tabItem&&S(e.tabItem)(b)}function T(){a.value=!1}function P(b){A(b),T()}function E(b){return f("i",{class:`${b.iconName} z-1 text-4`},null)}return()=>f(Se,null,[t(l)&&f("div",{class:`${n}__info py-1 pl-2`,onContextmenu:C},[f("span",null,[t(d)])]),f($n,{x:t(c),y:t(g),show:t(m),onSelect:P,onClickoutside:t(i),options:t(y),"render-label":({label:b})=>b,"render-icon":E,trigger:t(h),placement:t(_)},{default:()=>[!t(l)&&f("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:M},[f("span",{class:"i-fluent-options-48-regular app-mtabs-anction-btn"},null)])]})])}}),Ks=z({__name:"TabRedo",setup(e){const n=B(!1),{refreshPage:s}=Kt();async function o(){const a=Date.now();n.value=!0,await s(),await Ze(1200-(Date.now()-a)%1200),n.value=!1}return(a,d)=>(u(),D("div",{class:"app-mtabs-anction-btn-wrapper group",onClick:o},[R("span",{class:Q(["i-codicon-refresh app-mtabs-anction-btn",{"app-ease-spin animate-duration-1200":t(n)}])},null,2)]))}});function Vs(){const e=B([]),n=Be(),s=ye();function o(l){const c=[];return l&&l.forEach(g=>{g.meta&&g.meta.affix&&c.push(Et(g))}),c}function a(){const l=o(s.getRoutes());e.value=l;for(const c of l)n.addTab({meta:c.meta,name:c.name,path:c.path})}let d=!1;return d||(a(),d=!0),e.value.map(l=>l.meta?.title).filter(Boolean)}const Xs=z({name:"MultipleTabs",components:{TabRedo:Ks,TabContent:js},setup(){Vs();const e=B(),n=B(),s=ye(),o=Be(),{prefixCls:a}=ee("multiple-tabs"),{getShowMultipleTab:d}=Vt(),l=He(),c=B({borderTop:"none",borderRadius:"0px",padding:"0px",paddingRight:"6px"}),g=r(()=>({backgroundColor:po("Layout","headerColor").value})),m=r(()=>o.getTabList.filter(_=>!_.meta?.hideTab));return jt(_=>{const{name:y}=_;if(y===Wt||!_)return;const{path:A,fullPath:S,meta:C={}}=_,{currentActiveMenu:M,hideTab:T}=C,P=T?M:null,E=P||S||A;if(n.value!==E&&(n.value=E),P){const b=s.getRoutes().find(k=>k.path===M);b&&o.addTab(b)}else o.addTab(t(_))}),re(()=>n.value,_=>{ce(()=>{if(!_)return;const y=Me(e)?.querySelector(`[data-name="${_}"]`);y&&setTimeout(()=>{y.scrollIntoView({behavior:"smooth"})},50)})},{immediate:!0}),Nt(()=>Me(e),_=>{const y=_.querySelector(".n-tabs-nav");y.style.minHeight=`${uo}px`}),{activeKeyRef:n,panels:m,tabsElRef:e,handleClose:_=>{o.closeTabByKey(_,s)},handleTabChange:_=>{n.value=_,l(_,!1)},prefixCls:a,getTabStyle:c,getWrapperStyle:g,getShowMultipleTab:d}}}),Zs={class:"flex h-full w-18"};function qs(e,n,s,o,a,d){const l=U("TabContent"),c=zn,g=U("TabRedo"),m=Gn;return e.getShowMultipleTab?(u(),D("div",{key:0,style:j(e.getWrapperStyle),class:Q(e.prefixCls)},[f(m,{ref:"tabsElRef",value:e.activeKeyRef,"onUpdate:value":[n[0]||(n[0]=i=>e.activeKeyRef=i),e.handleTabChange],type:"card",size:"small",closable:"","tab-style":e.getTabStyle,onClose:e.handleClose},{prefix:p(()=>n[1]||(n[1]=[R("div",{class:"placeholder"},null,-1)])),suffix:p(()=>[R("div",Zs,[f(l,{"is-extra":"","tab-item":e.$route},null,8,["tab-item"]),f(g)])]),default:p(()=>[(u(!0),D(Se,null,Pt(e.panels,i=>(u(),v(c,{key:i.path||i.fullPath,name:i.path||i.fullPath,class:Q({"!pr-2":i?.meta?.affix}),closable:!i?.meta?.affix},{default:p(()=>[f(l,{"tab-item":i},null,8,["tab-item"])]),_:2},1032,["name","class","closable"]))),128))]),_:1},8,["value","tab-style","onClose","onUpdate:value"])],6)):O("",!0)}const Js=fe(Xs,[["render",qs]]),Ys=z({name:"DefaultLayout",components:{LayoutSider:Qs,LayoutHeader:Bs,LayoutContent:Zo,LayoutFooter:vo,MTabs:Js},setup(){const{prefixCls:e}=ee("default-layout"),{getMenuType:n}=te(),{runLog:s}=Mo();return{getLayoutCls:r(()=>{let a="";switch(n.value){case ie.SIDEBAR:a=Re.SIDEBAR;break;case ie.MIX_SIDEBAR:a=Re.MIX_SIDEBAR;break;case ie.MIX:a=Re.MIX;break;case ie.TOP_MENU:a=Re.TOP_MENU;break}return`${a}`}),prefixCls:e,runLog:s}}});function ea(e,n,s,o,a,d){const l=U("LayoutHeader"),c=U("LayoutSider"),g=U("MTabs"),m=U("LayoutFooter"),i=U("LayoutContent"),h=$o;return u(),D("div",{class:Q([e.prefixCls,e.getLayoutCls])},[f(l),f(c),f(g),f(i,null,{footer:p(()=>[f(m)]),_:1}),f(h,{ref:"runLog"},null,512)],2)}const ya=fe(Ys,[["render",ea]]);export{ya as default};

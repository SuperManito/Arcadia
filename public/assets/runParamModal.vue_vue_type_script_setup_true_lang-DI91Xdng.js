import{a7 as f,aK as k,av as r,I as S,r as A,ai as j,K as E,u as t,a8 as B,a9 as n,aa as e,aL as u,aG as N,aS as x,aT as F,aU as O,ap as G,aY as Y,an as Z,aZ as q,a_ as J,aE as Q,bj as W,b9 as X,bE as ee,bF as te}from"./vendor-DM0AKlTY.js";import{c as ne,a as le}from"./index-C5WsbIcI.js";import{u as ae}from"./useAppInject-BpVc4Z3r.js";import{u as oe}from"./useRunLog-_8RhRATB.js";import{u as se}from"./index-Ddm3CTAd.js";const re={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ie=r("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[r("path",{d:"m18 4l3 3l-3 3m0 10l3-3l-3-3"}),r("path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5m0-10h-5a4.98 4.98 0 0 0-3 1m-4 8a5 5 0 0 1-3 1H3"})],-1),pe=[ie];function ue(b,h){return f(),k("svg",re,[...pe])}const de={name:"tabler-arrows-shuffle",render:ue},ce={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},_e=r("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[r("path",{d:"M3 7h1.948c1.913 0 3.705.933 4.802 2.5a5.86 5.86 0 0 0 4.802 2.5H21"}),r("path",{d:"M3 17h1.95a5.85 5.85 0 0 0 4.798-2.5a5.85 5.85 0 0 1 4.798-2.5H20"}),r("path",{d:"m18 15l3-3l-3-3"})],-1),me=[_e];function fe(b,h){return f(),k("svg",ce,[...me])}const he={name:"tabler-arrows-join2",render:fe},ye={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},ge=r("path",{fill:"currentColor",d:"M13.54 22H10c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1v.19c-.5-.12-1-.19-1.5-.19c-.17 0-.34 0-.5.03c0-.62-.1-1.24-.3-1.83l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4h-1.5l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.11c.26.75.65 1.42 1.19 2m2.42-9.64c.04-.12.04-.24.04-.36c0-2.21-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4c.12 0 .24 0 .36-.04a6.05 6.05 0 0 1 3.6-3.6M12 14c-1.1 0-2-.89-2-2s.9-2 2-2s2 .9 2 2s-.89 2-2 2m4 1v6l5-3z"},null,-1),ve=[ge];function xe(b,h){return f(),k("svg",ye,[...ve])}const be={name:"mdi-cog-play-outline",render:xe},we={style:{"font-family":"var(--app-font-family-mono)"}},ke={style:{"vertical-align":"-4px",padding:"0 2px"}},je=S({__name:"runParamModal",setup(b,{expose:h}){const{getIsMobile:T}=ae(),{message:z}=ne(),{t:a}=le(),{runLog:U}=oe(),$={show:!1,title:"",runTarget:"",model:{option:[],env:[],runMode:"run"},cmd:""},i=A(j($)),{show:d,title:w,model:s}=E(i),M=()=>{try{const c=se(i.runTarget,i.model.option,i.model.env,i.model.runMode==="conc");i.cmd=c,i.show=!1,U.value?.open({title:i.title,cmd:i.cmd})}catch(c){z?.error(`${a("file.run.fail")} (${c})`,{keepAliveOnHover:!0})}};return h({open:(c={runTarget:""})=>{Object.assign(i,j($),c,{show:!0})}}),(c,l)=>{const C=be,_=F,L=he,p=O,m=G,P=de,y=Y,g=Z,v=q,V=J,I=Q,K=W,H=X,D=ee,R=te;return t(T)?(f(),B(R,{key:1,show:t(d),"onUpdate:show":l[12]||(l[12]=o=>N(d)?d.value=o:null),height:"calc(var(--vh) * 100)",width:"100vw",placement:"right","auto-focus":!1,"mask-closable":!1},{default:n(()=>[e(D,{closable:"","header-style":"height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 12px","footer-style":"padding: 16px 24px"},{header:n(()=>[e(p,{style:{gap:"4px"}},{default:n(()=>[e(_,{size:26,color:"var(--app-primary-color)"},{default:n(()=>[e(C,{style:{"vertical-align":"0"}})]),_:1}),e(H,{style:{height:"100%","max-width":"260px","font-family":"var(--app-font-family-mono)"}},{tooltip:n(()=>[r("span",null,u(t(w)),1)]),default:n(()=>[r("span",ke,u(t(w)),1)]),_:1})]),_:1})]),footer:n(()=>[e(p,null,{default:n(()=>[e(m,{tertiary:"",focusable:!1,onClick:l[10]||(l[10]=o=>d.value=!1)},{default:n(()=>[x(u(t(a)("common.cancelText")),1)]),_:1}),e(m,{type:"primary",focusable:!1,onClick:l[11]||(l[11]=o=>M())},{default:n(()=>[x(u(t(a)("common.okText")),1)]),_:1})]),_:1})]),default:n(()=>[e(p,{vertical:""},{default:n(()=>[e(p,{style:{width:"100%",height:"140px",gap:"0","padding-top":"10px"},justify:"space-around"},{default:n(()=>[e(m,{strong:"",dashed:"",type:t(s).runMode==="run"?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:l[6]||(l[6]=o=>t(s).runMode="run")},{default:n(()=>[e(p,{vertical:"",style:{gap:"20px"}},{default:n(()=>[e(_,{size:48},{default:n(()=>[e(L,{style:{"vertical-align":"baseline"}})]),_:1}),x(" "+u(t(a)("file.run.runModeValueNormal")),1)]),_:1})]),_:1},8,["type"]),e(m,{strong:"",dashed:"",type:t(s).runMode==="conc"?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:l[7]||(l[7]=o=>t(s).runMode="conc")},{default:n(()=>[e(p,{vertical:"",style:{gap:"20px"}},{default:n(()=>[e(_,{size:48},{default:n(()=>[e(P,{style:{"vertical-align":"baseline"}})]),_:1}),x(" "+u(t(a)("file.run.runModeValueConcurrency")),1)]),_:1})]),_:1},8,["type"])]),_:1}),e(V,{type:"segment",style:{"min-width":"260px","padding-top":"20px"},animated:""},{default:n(()=>[e(v,{name:"1",tab:t(a)("file.run.optionsLabel")},{default:n(()=>[e(g,{style:{"max-height":"160px"}},{default:n(()=>[e(y,{value:t(s).option,"onUpdate:value":l[8]||(l[8]=o=>t(s).option=o),preset:"pair","show-sort-button":"","key-placeholder":t(a)("file.run.paramKeyPlaceholder"),"value-placeholder":t(a)("file.run.paramValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["tab"]),e(v,{name:"2",tab:t(a)("file.run.envLabel")},{default:n(()=>[e(g,{style:{"max-height":"160px"}},{default:n(()=>[e(y,{value:t(s).env,"onUpdate:value":l[9]||(l[9]=o=>t(s).env=o),preset:"pair","show-sort-button":"","key-placeholder":t(a)("file.run.paramKeyPlaceholder"),"value-placeholder":t(a)("file.run.paramValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["tab"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])):(f(),B(K,{key:0,show:t(d),"onUpdate:show":l[4]||(l[4]=o=>N(d)?d.value=o:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,"positive-text":t(a)("file.run.confirmButton"),"negative-text":t(a)("common.cancelText"),style:{width:"500px"},"negative-button-props":{ghost:!1,tertiary:!0},onPositiveClick:l[5]||(l[5]=o=>M())},{icon:n(()=>[e(_,{size:28},{default:n(()=>[e(C,{style:{"vertical-align":"baseline"}})]),_:1})]),header:n(()=>[r("span",we,u(t(w)),1)]),default:n(()=>[e(I,{vertical:""},{default:n(()=>[e(p,{style:{width:"100%",height:"170px",gap:"0","padding-top":"20px"},justify:"space-around"},{default:n(()=>[e(m,{strong:"",dashed:"",type:t(s).runMode==="run"?"primary":"default",focusable:!1,style:{width:"140px",height:"100%"},onClick:l[0]||(l[0]=o=>t(s).runMode="run")},{default:n(()=>[e(p,{vertical:"",style:{gap:"20px"}},{default:n(()=>[e(_,{size:48},{default:n(()=>[e(L,{style:{"vertical-align":"baseline"}})]),_:1}),r("strong",null,u(t(a)("file.run.runModeValueNormal")),1)]),_:1})]),_:1},8,["type"]),e(m,{strong:"",dashed:"",type:t(s).runMode==="conc"?"primary":"default",focusable:!1,style:{width:"140px",height:"100%"},onClick:l[1]||(l[1]=o=>t(s).runMode="conc")},{default:n(()=>[e(p,{vertical:"",style:{gap:"20px"}},{default:n(()=>[e(_,{size:48},{default:n(()=>[e(P,{style:{"vertical-align":"baseline"}})]),_:1}),r("strong",null,u(t(a)("file.run.runModeValueConcurrency")),1)]),_:1})]),_:1},8,["type"])]),_:1}),e(V,{type:"segment",style:{"min-width":"260px","padding-top":"20px"},animated:""},{default:n(()=>[e(v,{name:"1",tab:t(a)("file.run.optionsLabel")},{default:n(()=>[e(g,{style:{"max-height":"160px"}},{default:n(()=>[e(y,{value:t(s).option,"onUpdate:value":l[2]||(l[2]=o=>t(s).option=o),preset:"pair","show-sort-button":"","key-placeholder":t(a)("file.run.paramKeyPlaceholder"),"value-placeholder":t(a)("file.run.paramValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["tab"]),e(v,{name:"2",tab:t(a)("file.run.envLabel")},{default:n(()=>[e(g,{style:{"max-height":"160px"}},{default:n(()=>[e(y,{value:t(s).env,"onUpdate:value":l[3]||(l[3]=o=>t(s).env=o),preset:"pair","show-sort-button":"","key-placeholder":t(a)("file.run.paramKeyPlaceholder"),"value-placeholder":t(a)("file.run.paramValuePlaceholder")},null,8,["value","key-placeholder","value-placeholder"])]),_:1})]),_:1},8,["tab"])]),_:1})]),_:1})]),_:1},8,["show","positive-text","negative-text"]))}}});export{je as _};

import{aJ as J,a3 as c,aC as y,ah as v,G as xe,a4 as U,a5 as o,aD as M,F as r,a6 as t,a7 as u,a8 as d,aP as n,aQ as ke,bl as Le,bC as Be,J as se,r as we,B as j,N as We,ak as te,aF as Z,aH as A,aw as C,aE as Re,aO as Pe,ap as p,bJ as Ne,bD as qe,ba as Ie,aI as Fe,bx as De,by as Oe,bK as He,aR as ae,y as Ee,aM as Ve,aN as $e}from"./vendor-191e7315.js";import{b as Ce,j as q,e as Ae,a as Ue,s as je,k as Ge}from"./app-16ee8ad9.js";import{I as z}from"./app-9f5af7f8.js";import{u as Me}from"./app-9adaac50.js";import{u as Se}from"./app-fd53326f.js";import{p as B}from"./app-f9713fa5.js";import{e as P,K as Ke,R as Te,m as Ze}from"./vendor-2714f153.js";import{l as Je}from"./app-6595fc31.js";const Xe={style:{display:"inline-block"},viewBox:"0 0 256 256",width:"1em",height:"1em"};function Qe(F,g){return c(),y("svg",Xe,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M40 92h30.06a36 36 0 0 0 67.88 0H216a12 12 0 0 0 0-24h-78.06a36 36 0 0 0-67.88 0H40a12 12 0 0 0 0 24m64-24a12 12 0 1 1-12 12a12 12 0 0 1 12-12m112 96h-14.06a36 36 0 0 0-67.88 0H40a12 12 0 0 0 0 24h94.06a36 36 0 0 0 67.88 0H216a12 12 0 0 0 0-24m-48 24a12 12 0 1 1 12-12a12 12 0 0 1-12 12"},null,-1)]))}const jt=J({name:"ph-sliders-horizontal-bold",render:Qe}),Ye={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function et(F,g){return c(),y("svg",Ye,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M4 19q-.825 0-1.412-.587T2 17V7q0-.825.588-1.412T4 5h16q.825 0 1.413.588T22 7v10q0 .825-.587 1.413T20 19zm5-3h6q.425 0 .713-.288T16 15t-.288-.712T15 14H9q-.425 0-.712.288T8 15t.288.713T9 16m-3-6q.425 0 .713-.288T7 9t-.288-.712T6 8t-.712.288T5 9t.288.713T6 10m3 0q.425 0 .713-.288T10 9t-.288-.712T9 8t-.712.288T8 9t.288.713T9 10m3 0q.425 0 .713-.288T13 9t-.288-.712T12 8t-.712.288T11 9t.288.713T12 10m3 0q.425 0 .713-.288T16 9t-.288-.712T15 8t-.712.288T14 9t.288.713T15 10m3 0q.425 0 .713-.288T19 9t-.288-.712T18 8t-.712.288T17 9t.288.713T18 10M6 13q.425 0 .713-.288T7 12t-.288-.712T6 11t-.712.288T5 12t.288.713T6 13m3 0q.425 0 .713-.288T10 12t-.288-.712T9 11t-.712.288T8 12t.288.713T9 13m3 0q.425 0 .713-.288T13 12t-.288-.712T12 11t-.712.288T11 12t.288.713T12 13m3 0q.425 0 .713-.288T16 12t-.288-.712T15 11t-.712.288T14 12t.288.713T15 13m3 0q.425 0 .713-.288T19 12t-.288-.712T18 11t-.712.288T17 12t.288.713T18 13"},null,-1)]))}const tt=J({name:"material-symbols-keyboard-rounded",render:et}),ot={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function nt(F,g){return c(),y("svg",ot,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M3 4h6.11l7.04 14H21v2h-6.12L7.84 6H3zm11 0h7v2h-7z"},null,-1)]))}const it=J({name:"mdi-apple-keyboard-option",render:nt}),lt={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function rt(F,g){return c(),y("svg",lt,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M15 18v-6h2.17L12 6.83L6.83 12H9v6zM12 4l10 10h-5v6H7v-6H2z"},null,-1)]))}const at=J({name:"mdi-apple-keyboard-shift",render:rt}),st={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function ut(F,g){return c(),y("svg",st,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M21 18q-.425 0-.712-.288T20 17V7q0-.425.288-.712T21 6t.713.288T22 7v10q0 .425-.288.713T21 18m-6.825-5H3q-.425 0-.712-.288T2 12t.288-.712T3 11h11.175L11.3 8.1q-.275-.275-.288-.687T11.3 6.7q.275-.275.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.687.275T11.3 17.3q-.3-.3-.3-.712t.3-.713z"},null,-1)]))}const dt=J({name:"material-symbols-keyboard-tab-rounded",render:ut}),ft={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function mt(F,g){return c(),y("svg",ft,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M6 2a4 4 0 0 1 4 4v2h4V6a4 4 0 0 1 4-4a4 4 0 0 1 4 4a4 4 0 0 1-4 4h-2v4h2a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4v-2h-4v2a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4h2v-4H6a4 4 0 0 1-4-4a4 4 0 0 1 4-4m10 16a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2h-2zm-2-8h-4v4h4zm-8 6a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2v-2zM8 6a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2h2zm10 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2z"},null,-1)]))}const pt=J({name:"mdi-apple-keyboard-command",render:mt}),ct={key:0},gt={key:1},vt={key:0},yt={key:1},bt={key:0},_t={key:1},xt={key:0},Tt={key:1},kt={key:0},wt={key:1},Ct={key:0},Mt={key:1},St={key:0},ht={key:1},zt={key:0},Lt={key:1},Bt={key:0},Wt={key:1},Rt={key:0},Pt={key:1},Nt={key:0},qt={key:1},It=xe({__name:"ShortcutsTable",setup(F){const{t:g}=Ce(),s={size:"small",type:"primary",bordered:!1,style:"font-weight: 550"};return(oe,e)=>{const f=pt,x=ke,l=Le,b=dt,V=at,S=it,D=Be;return c(),U(D,{"single-column":"",bordered:!1,"bottom-bordered":!1},{default:o(()=>[v("tbody",null,[v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.indentLine")),1),r(q)()?(c(),y("td",ct,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[1]||(e[1]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[0]||(e[0]=[n(" ] ")])),_:1},16),e[2]||(e[2]=n("  /  ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(b)]),_:1})]),_:1},16)])):(c(),y("td",gt,[t(l,u(d(s)),{default:o(()=>e[3]||(e[3]=[n(" CTRL ")])),_:1},16),e[6]||(e[6]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[4]||(e[4]=[n(" ] ")])),_:1},16),e[7]||(e[7]=n("  /  ")),t(l,u(d(s)),{default:o(()=>e[5]||(e[5]=[n(" TAB ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.outdentLine")),1),r(q)()?(c(),y("td",vt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[9]||(e[9]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[8]||(e[8]=[n(" [ ")])),_:1},16),e[10]||(e[10]=n("  /  ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(V)]),_:1})]),_:1},16),e[11]||(e[11]=n(" + ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(b)]),_:1})]),_:1},16)])):(c(),y("td",yt,[t(l,u(d(s)),{default:o(()=>e[12]||(e[12]=[n(" CTRL ")])),_:1},16),e[16]||(e[16]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[13]||(e[13]=[n(" [ ")])),_:1},16),e[17]||(e[17]=n("  /  ")),t(l,u(d(s)),{default:o(()=>e[14]||(e[14]=[n(" SHIFT ")])),_:1},16),e[18]||(e[18]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[15]||(e[15]=[n(" TAB ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.toggleLineComment")),1),r(q)()?(c(),y("td",bt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[20]||(e[20]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[19]||(e[19]=[n(" / ")])),_:1},16)])):(c(),y("td",_t,[t(l,u(d(s)),{default:o(()=>e[21]||(e[21]=[n(" CTRL ")])),_:1},16),e[23]||(e[23]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[22]||(e[22]=[n(" / ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.find")),1),r(q)()?(c(),y("td",xt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[25]||(e[25]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[24]||(e[24]=[n(" F ")])),_:1},16)])):(c(),y("td",Tt,[t(l,u(d(s)),{default:o(()=>e[26]||(e[26]=[n(" CTRL ")])),_:1},16),e[28]||(e[28]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[27]||(e[27]=[n(" F ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.replace")),1),r(q)()?(c(),y("td",kt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(S)]),_:1})]),_:1},16),e[30]||(e[30]=n(" + ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[31]||(e[31]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[29]||(e[29]=[n(" F ")])),_:1},16)])):(c(),y("td",wt,[t(l,u(d(s)),{default:o(()=>e[32]||(e[32]=[n(" CTRL ")])),_:1},16),e[34]||(e[34]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[33]||(e[33]=[n(" H ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.goToLine")),1),r(q)()?(c(),y("td",Ct,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[36]||(e[36]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[35]||(e[35]=[n(" G ")])),_:1},16)])):(c(),y("td",Mt,[t(l,u(d(s)),{default:o(()=>e[37]||(e[37]=[n(" CTRL ")])),_:1},16),e[39]||(e[39]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[38]||(e[38]=[n(" G ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.cut")),1),r(q)()?(c(),y("td",St,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[41]||(e[41]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[40]||(e[40]=[n(" X ")])),_:1},16)])):(c(),y("td",ht,[t(l,u(d(s)),{default:o(()=>e[42]||(e[42]=[n(" CTRL ")])),_:1},16),e[44]||(e[44]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[43]||(e[43]=[n(" X ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.copy")),1),r(q)()?(c(),y("td",zt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[46]||(e[46]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[45]||(e[45]=[n(" C ")])),_:1},16)])):(c(),y("td",Lt,[t(l,u(d(s)),{default:o(()=>e[47]||(e[47]=[n(" CTRL ")])),_:1},16),e[49]||(e[49]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[48]||(e[48]=[n(" C ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.paste")),1),r(q)()?(c(),y("td",Bt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[51]||(e[51]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[50]||(e[50]=[n(" V ")])),_:1},16)])):(c(),y("td",Wt,[t(l,u(d(s)),{default:o(()=>e[52]||(e[52]=[n(" CTRL ")])),_:1},16),e[54]||(e[54]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[53]||(e[53]=[n(" V ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.revoke")),1),r(q)()?(c(),y("td",Rt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[56]||(e[56]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[55]||(e[55]=[n(" Z ")])),_:1},16)])):(c(),y("td",Pt,[t(l,u(d(s)),{default:o(()=>e[57]||(e[57]=[n(" CTRL ")])),_:1},16),e[59]||(e[59]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[58]||(e[58]=[n(" Z ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.recover")),1),r(q)()?(c(),y("td",Nt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(V)]),_:1})]),_:1},16),e[61]||(e[61]=n(" + ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[62]||(e[62]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[60]||(e[60]=[n(" Z ")])),_:1},16)])):(c(),y("td",qt,[t(l,u(d(s)),{default:o(()=>e[63]||(e[63]=[n(" CTRL ")])),_:1},16),e[66]||(e[66]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[64]||(e[64]=[n(" SHIFT ")])),_:1},16),e[67]||(e[67]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[65]||(e[65]=[n(" Z ")])),_:1},16)]))])])]),_:1})}}}),Ft=xe({__name:"Toolbox",props:{show:B.bool.def(!1),diffMode:B.bool.def(!1),popover:B.bool.def(!0),editor:B.object.def({})},setup(F){const g=F,{show:s,diffMode:oe,popover:e,editor:f}=se(g),{getIsMobile:x}=Me(),{prefixCls:l}=Se("code-editor-toolbox"),{t:b}=Ce(),V=we({show:!1,showShortcutsModal:!1,previewComponentTitle:"",showPreviewComponent:!1,isPasteBehavior:!1,inputValue:"",inputInstRef:null,moveCursorInterval:null,longPressTimeout:null,inlineMode:!1}),{show:S,showShortcutsModal:D,previewComponentTitle:E,showPreviewComponent:N,isPasteBehavior:T,inputValue:W,inputInstRef:$,moveCursorInterval:G,longPressTimeout:X,inlineMode:K}=se(V),ne=x.value?13:15;async function h(_){switch(_){case"findBox":f.value.findBox=!f.value.findBox;break;case"wordWrap":f.value.wordWrap=f.value.wordWrap==="on"?"off":"on";break;case"renderSideBySide":f.value.renderSideBySide=!f.value.renderSideBySide;break;case"minimap":f.value.minimap=!f.value.minimap;break;case"cursorUp":f.value.moveCursorUp();break;case"cursorDown":f.value.moveCursorDown();break;case"cursorLeft":f.value.moveCursorLeft();break;case"cursorRight":f.value.moveCursorRight();break;case"cut":case"copy":W.value=f.value.getSelectedOrCurrentLineText().text,W.value&&(_==="cut"&&f.value.clearSelectedOrCurrentLineText(),E.value=b("editor.toolbox.selectedContent"),N.value=!0,setTimeout(()=>{$.value?.focus(),$.value?.select()},500));break;case"paste":E.value=b("editor.toolbox.pasteInput"),T.value=!0,N.value=!0,setTimeout(()=>{$.value?.focus()},500);break;case"pasteConfirm":f.value.insertTextAtCursor(W.value),O();break;case"contextMenu":f.value.showContextMenu();break;case"commandPalette":f.value.showCommandPalette();break;case"showShortcutsHelpMenu":D.value=!0;break}["cursorUp","cursorDown","cursorLeft","cursorRight"].includes(_)||(S.value=!1)}function L(){clearTimeout(X.value),clearInterval(G.value),G.value=null}function I(_){h(_),X.value=setTimeout(()=>{G.value=setInterval(()=>{h(_)},50)},500)}function Q(){return p(ae,{size:"small"},()=>[p(z,{size:20,color:f.value.fontSize!==ne?"var(--app-primary-color)":void 0,icon:"ri:font-size",style:{verticalAlign:"-0.45em"}}),p(He,{value:f.value.fontSize,"onUpdate:value":_=>{f.value.fontSize=_},min:12,max:40,buttonPlacement:"both",size:"small",style:{textAlign:"center",width:"100px"}})])}function ue(){return p(ae,{size:"small"},()=>[p(z,{size:20,color:f.value.wordWrap==="on"?"var(--app-primary-color)":void 0,icon:"charm:swap-horizontal",style:{verticalAlign:"-0.45em"}}),p(C,{size:"small",tertiary:!0,style:{width:"100px"},disabled:K.value,onClick:()=>h("wordWrap")},()=>b("editor.toolbox.wordWrapBtn"))])}function Y(){return p(ae,{size:"small"},()=>[p(z,{size:20,color:f.value.renderSideBySide?void 0:"var(--app-primary-color)",icon:"fluent-mdl2:diff-inline",style:{verticalAlign:"-0.45em"}}),p(C,{size:"small",tertiary:!0,style:{width:"100px"},disabled:!oe.value,onClick:()=>h("renderSideBySide")},()=>b("editor.toolbox.inlineModeBtn"))])}function ie(){return p(ae,{size:"small"},()=>[p(z,{size:20,color:f.value.minimap?"var(--app-primary-color)":void 0,icon:"mdi:map-outline",style:{verticalAlign:"-0.45em"}}),p(C,{size:"small",tertiary:!0,style:{width:"100px"},disabled:K.value,onClick:()=>h("minimap")},()=>b("editor.toolbox.minimapBtn"))])}function i(){return p(C,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{I("cursorUp")},onMouseup:L,onMouseleave:L,onTouchstart:_=>{_.preventDefault(),I("cursorUp")},onTouchend:L},{icon:()=>p(z,{icon:"mdi:menu-up",size:32})})}function le(){return p(C,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{I("cursorDown")},onMouseup:L,onMouseleave:L,onTouchstart:_=>{_.preventDefault(),I("cursorDown")},onTouchend:L},{icon:()=>p(z,{icon:"mdi:menu-down",size:32})})}function re(){return p(C,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{I("cursorLeft")},onMouseup:L,onMouseleave:L,onTouchstart:_=>{_.preventDefault(),I("cursorLeft")},onTouchend:L},{icon:()=>p(z,{icon:"mdi:menu-left",size:32})})}function de(){return p(C,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{I("cursorRight")},onMouseup:L,onMouseleave:L,onTouchstart:_=>{_.preventDefault(),I("cursorRight")},onTouchend:L},{icon:()=>p(z,{icon:"mdi:menu-right",size:32})})}function fe(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("findBox")},{icon:()=>p(z,{size:22,icon:"mdi:find-replace"}),default:()=>b("editor.toolbox.findBtn")})}function me(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("cut")},{icon:()=>p(z,{icon:"material-symbols:content-cut-rounded"}),default:()=>b("editor.toolbox.cutBtn")})}function pe(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("copy")},{icon:()=>p(z,{icon:"material-symbols:content-copy-outline-rounded"}),default:()=>b("editor.toolbox.copyBtn")})}function ce(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("paste")},{icon:()=>p(z,{icon:"material-symbols:content-paste-rounded"}),default:()=>b("editor.toolbox.pasteBtn")})}function ge(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("contextMenu")},{icon:()=>p(z,{icon:"material-symbols:menu"}),default:()=>b("editor.toolbox.contextMenuBtn")})}function ve(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("commandPalette")},{icon:()=>p(z,{icon:"mdi:apple-keyboard-command"}),default:()=>b("editor.toolbox.commandPaletteBtn")})}function ye(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",disabled:x.value,style:{width:"100%"},onClick:()=>h("showShortcutsHelpMenu")},{icon:()=>p(z,{size:20,icon:"gg:shortcut"}),default:()=>b("editor.toolbox.shortcutsBtn")})}function ee(){return p(A,null,{default:()=>[p(A,{vertical:!0},{default:()=>[Q(),ue(),Y(),ie(),p(A,{direction:"column",align:"center",justify:"center",style:{width:"130px"}},{default:()=>[re(),p(A,{vertical:!0,style:{gap:"30px"}},{default:()=>[i(),le()]}),de()]})]}),p(A,{vertical:!0,class:"button-list",style:{width:"fit-content"}},{default:()=>[fe(),me(),pe(),ce(),ge(),ve(),ye()]})]})}async function O(){N.value=!1,setTimeout(()=>{E.value="",W.value="",T.value=!1},500)}return j(s,async _=>{S.value=_}),j(f,async _=>{_&&(K.value=_.inlineMode)}),(_,k)=>{const be=Ne,a=tt,m=ke,w=qe,H=Ie,_e=Fe,he=De,ze=Oe;return c(),y(Pe,null,[r(e)?(c(),U(be,{key:0,show:r(S),"onUpdate:show":k[0]||(k[0]=R=>Z(S)?S.value=R:null),trigger:"click","overlap:show-arrow":"false",placement:"bottom-start",style:{padding:"8px"},onOnClickoutside:k[1]||(k[1]=()=>S.value=!1)},{trigger:o(()=>[We(_.$slots,"trigger",{show:r(S),toggleShow:()=>S.value=!r(S)},void 0,!0)]),default:o(()=>[v("div",{class:te([r(l)])},[t(ee)],2)]),_:3},8,["show"])):(c(),y("div",{key:1,class:te([r(l)])},[t(ee)],2)),t(w,{show:r(D),"onUpdate:show":k[2]||(k[2]=R=>Z(D)?D.value=R:null),preset:"dialog","auto-focus":!1,title:r(b)("editor.shortcuts.title"),class:te({"apple-modal":r(q)()}),style:{width:"fit-content","min-width":"480px"}},{icon:o(()=>[t(m,{size:26},{default:o(()=>[t(a,{style:{"vertical-align":"0"}})]),_:1})]),default:o(()=>[t(It)]),_:1},8,["show","title","class"]),r(x)?(c(),U(ze,{key:3,show:r(N),"onUpdate:show":k[8]||(k[8]=R=>Z(N)?N.value=R:null),placement:"bottom",height:"280px",style:{width:"100%",margin:"0 auto","border-radius":"1em 1em 0 0"},"auto-focus":!1,"mask-closable":!1,onMaskClick:O,onAfterLeave:O},{default:o(()=>[t(he,{closable:"","header-style":"border-bottom: none; height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 8px; overscroll-behavior: none","footer-style":"border-top: none; padding: 16px 24px 24px 24px"},{header:o(()=>[n(M(r(E)),1)]),default:o(()=>[t(H,{ref_key:"inputInstRef",ref:$,value:r(W),"onUpdate:value":k[6]||(k[6]=R=>Z(W)?W.value=R:null),clearable:r(T),type:"textarea",style:{border:"1px solid var(--app-border-color)","background-color":"transparent","font-family":"var(--app-font-family-mono)"},autosize:{minRows:5,maxRows:5}},null,8,["value","clearable"])]),footer:o(()=>[r(T)?(c(),U(r(A),{key:0,inline:"",wrap:!1,justify:"space-between",style:{gap:"0px",width:"100%"}},{default:o(()=>[t(r(C),{tertiary:"",focusable:!1,style:{width:"50%","border-radius":"8px","margin-left":"-4px"},onClick:O},{default:o(()=>[n(M(r(b)("common.cancelText")),1)]),_:1}),t(r(C),{secondary:"",type:"primary",focusable:!1,disabled:!r(W),style:{width:"50%","border-radius":"8px","margin-left":"8px"},onClick:k[7]||(k[7]=R=>h("pasteConfirm"))},{default:o(()=>[n(M(r(b)("common.okText")),1)]),_:1},8,["disabled"])]),_:1})):(c(),U(r(C),{key:1,block:"",strong:"",secondary:"",type:"primary",focusable:!1,onClick:O},{default:o(()=>[n(M(r(b)("component.modal.close")),1)]),_:1}))]),_:1})]),_:1},8,["show"])):(c(),U(w,{key:2,show:r(N),"onUpdate:show":k[5]||(k[5]=R=>Z(N)?N.value=R:null),preset:"dialog","auto-focus":!1,title:r(E),style:{width:"600px"},"show-icon":!1,"on-close":O,"on-mask-click":O},{action:o(()=>[r(T)?(c(),U(r(A),{key:0},{default:o(()=>[t(r(C),{size:"small",tertiary:"",ghost:!1,focusable:!1,onClick:O},{default:o(()=>[n(M(r(b)("common.cancelText")),1)]),_:1}),t(r(C),{size:"small",type:"primary",focusable:!1,onClick:k[4]||(k[4]=R=>h("pasteConfirm"))},{default:o(()=>[n(M(r(b)("common.okText")),1)]),_:1})]),_:1})):Re("",!0)]),default:o(()=>[t(_e,{bordered:!1,style:{height:"100%"},"content-style":"height: 100%; padding: 0; padding-top: 2px"},{default:o(()=>[t(H,{ref_key:"inputInstRef",ref:$,value:r(W),"onUpdate:value":k[3]||(k[3]=R=>Z(W)?W.value=R:null),clearable:r(T),type:"textarea",style:{border:"1px solid var(--app-border-color)","background-color":"transparent","font-family":"var(--app-font-family-mono)"},autosize:{minRows:5,maxRows:20}},null,8,["value","clearable"])]),_:1})]),_:1},8,["show","title"]))],64)}}}),Gt=Ae(Ft,[["__scopeId","data-v-99fefa63"]]),Kt=xe({__name:"index",props:{value:B.object.def({content:"",language:"plaintext"}),originValue:B.string.def(""),diffMode:B.bool.def(!1),readOnly:B.bool.def(!1),fontSize:B.number.def(15),wordWrap:B.oneOf(["off","on"]).def("on"),minimap:B.bool.def(!0),renderSideBySide:B.bool.def(!0),findBox:B.bool.def(!1),inlineMode:B.bool.def(!1)},emits:["update:content"],setup(F,{expose:g,emit:s}){const oe=F,e=s,{value:f,originValue:x,diffMode:l,readOnly:b,fontSize:V,wordWrap:S,minimap:D,renderSideBySide:E,findBox:N,inlineMode:T}=se(oe),W=we({fontSize:V.value,wordWrap:T.value?"on":S.value,renderSideBySide:E.value,minimap:T.value?!1:D.value,findBox:N.value,readOnly:b.value,inlineMode:T.value,isFocused:!1}),{fontSize:$,wordWrap:G,renderSideBySide:X,minimap:K,findBox:ne,readOnly:h,inlineMode:L,isFocused:I}=se(W),{getIsMobile:Q}=Me(),{getThemeMode:ue}=Ue(),{prefixCls:Y}=Se("code-editor"),ie=Ee();let i=null;const le={maxTokenizationLineLength:2e4},re={fontFamily:je.fontFamilyMono,fontSize:V.value||(Q.value?13:15),fontLigatures:!0,lineNumbers:T.value?"off":"on",lineNumbersMinChars:0,padding:{top:Q.value?2:10},cursorStyle:"line",cursorBlinking:"smooth",cursorSmoothCaretAnimation:"off",unicodeHighlight:{ambiguousCharacters:!1,invisibleCharacters:!1},inlineSuggest:{enabled:!0,showToolbar:"onHover"},minimap:{enabled:T.value?!1:D.value,autohide:!Q.value},stickyScroll:{enabled:!0,maxLineCount:5},guides:{highlightActiveBracketPair:!0,bracketPairs:"active",bracketPairsHorizontal:"active"},scrollbar:{verticalScrollbarSize:T.value?8:14,horizontal:T.value?"hidden":"auto"},letterSpacing:0,lineHeight:1.5,automaticLayout:!0,autoIndent:"full",quickSuggestionsDelay:200,roundedSelection:!0,glyphMargin:!1,smoothScrolling:!0,wordWrap:T.value?"on":S.value,folding:!0,colorDecorators:!0,occurrencesHighlight:"off",readOnly:b.value,stopRenderingLineAfter:1e4,scrollBeyondLastLine:!T.value,renderLineHighlight:T.value?"none":"line"},de={hideUnchangedRegions:{contextLineCount:3,enabled:!0,minimumLineCount:3,revealLineCount:20},diffWordWrap:T.value?"on":S.value,useInlineViewWhenSpaceIsLimited:!1,ignoreTrimWhitespace:!1,renderSideBySide:E.value};Ve(async()=>{["javascript","json"].forEach(m=>{P.createModel("",m).dispose()}),await Je(Ze);const a=ie.value;a&&(l.value?(i=P.createDiffEditor(a,{...le,...re,...de,lineDecorationsWidth:11}),i.setModel({original:P.createModel(x.value,f.value.language||"plaintext"),modified:P.createModel(f.value.content,f.value.language||"plaintext")})):(i=P.create(a,{...le,...re,value:f.value.content,language:f.value.language||"plaintext",lineDecorationsWidth:0}),i.getModel().setEOL(P.EndOfLineSequence.LF)),Ge(ue.value),T.value&&(i.onKeyDown(m=>{m.keyCode===Ke.Enter&&m.preventDefault()}),i.onDidChangeModelContent(m=>{let w=i.getValue();w=w.replace(/\n/g," "),e("update:content",{content:w,language:f.value.language})}),i.onDidFocusEditorWidget(()=>{I.value=!0}),i.onDidBlurEditorWidget(()=>{I.value=!1})))}),j(f,async a=>{if(i)if(l.value){const m=i.getModel().modified;m&&m.getLanguageId()!==a.language&&P.setModelLanguage(m,a.language),i.setModel({original:P.createModel(x.value,a.language),modified:P.createModel(a.content,a.language)})}else{const m=i.getModel();m&&m.getLanguageId()!==a.language&&P.setModelLanguage(m,a.language),f.value.value!==a.content&&i.setValue(a.content)}}),j(x,async a=>{i&&i.setModel({original:P.createModel(a,f.value.language),modified:P.createModel(f.value.content,f.value.language)})}),j([S,E,V,b,D],([a,m,w,H,_e])=>{i&&i.updateOptions({wordWrap:a,renderSideBySide:m,fontSize:w,readOnly:H,minimap:{enabled:_e}})}),j([G,X,$,K],([a,m,w,H])=>{i&&i.updateOptions({wordWrap:a,renderSideBySide:m,fontSize:w,minimap:{enabled:H}})}),j([N,ne],()=>{if(i)if(l.value){const a=i.getOriginalEditor(),m=i.getModifiedEditor(),w=a.getContribution("editor.contrib.findController")._findWidgetVisible.get(),H=m.getContribution("editor.contrib.findController")._findWidgetVisible.get();w?a.trigger("keyboard","closeFindWidget"):a.getAction("actions.find").run(),H?m.trigger("keyboard","closeFindWidget"):m.getAction("actions.find").run()}else{const a=i.getAction("actions.find");i.getContribution("editor.contrib.findController")._findWidgetVisible.get()?i.trigger("keyboard","closeFindWidget"):a.run()}});function fe(){i&&(i.dispose(),P.getModels().forEach(a=>a.dispose()))}function me(){return i?l.value?i.getModifiedEditor().getValue():i.getValue():""}function pe(){if(i){const a=i.getModel();if(a){const m=a.getLineCount();i.revealLine(m,0)}}}function ce(){if(!i)return;const a=i.getPosition(),m=Math.max(a.lineNumber-1,1);i.setPosition({lineNumber:m,column:a.column}),i.revealLine(m),i.focus()}function ge(){if(!i)return;const a=i.getPosition(),m=a.lineNumber+1;i.setPosition({lineNumber:m,column:a.column}),i.revealLine(m),i.focus()}function ve(){if(!i)return;const a=i.getPosition();i.setPosition({lineNumber:a.lineNumber,column:a.column-1}),i.focus()}function ye(){if(!i)return;const a=i.getPosition();i.setPosition({lineNumber:a.lineNumber,column:a.column+1}),i.focus()}function ee(){const a=i.getSelection();if(a.isEmpty()){const m=a.getStartPosition(),w=i.getModel().getLineContent(m.lineNumber);return{text:w,range:new Te(m.lineNumber,1,m.lineNumber,w.length+1)}}else return{text:i.getModel().getValueInRange(a),range:a}}function O(){if(!i)return;const{range:a}=ee();i.executeEdits("",[{range:a,text:""}])}function _(a){if(!i||!a)return;const m=i.getPosition(),w=new Te(m.lineNumber,m.column,m.lineNumber,m.column);i.executeEdits("",[{range:w,text:a,forceMoveMarkers:!0}]);const H={lineNumber:m.lineNumber,column:m.column+a.length};i.setPosition(H)}function k(){if(!i)return;const a=i.getPosition();i.trigger("keyboard","editor.action.showContextMenu",{position:a})}function be(){i&&(i.focus(),i.trigger("keyboard","editor.action.quickCommand",null))}return $e(()=>{i.dispose()}),g({getValue:me,dispose:fe,scrollToBottom:pe,fontSize:$,findBox:ne,wordWrap:G,renderSideBySide:X,minimap:K,readOnly:h,inlineMode:L,moveCursorUp:ce,moveCursorDown:ge,moveCursorLeft:ve,moveCursorRight:ye,getSelectedOrCurrentLineText:ee,clearSelectedOrCurrentLineText:O,insertTextAtCursor:_,showContextMenu:k,showCommandPalette:be}),(a,m)=>(c(),y("div",{class:te([r(Y)])},[v("div",{ref_key:"MonacoEditorRef",ref:ie,class:te([r(T)?`${r(Y)}-inline-edit-content`:`${r(Y)}-edit-content`,{isFocused:r(T)}])},null,2)],2))}});export{Gt as M,jt as _,Kt as a};

import{_ as ml}from"./PageWrapper.vue_vue_type_style_index_0_lang-DleleeUi.js";import{a as rt,r as Me,m as Ie,b as ut,_ as _l,c as ct,u as dt,d as vl,e as yl,f as gl}from"./create-CvpeygP1.js";import{_ as hl,a as bl}from"./sliders-horizontal-bold-BGnHX10c.js";import{d as Se,c as kl,a as xl,_ as wl}from"./index-hO6mdrNR.js";import{_ as Cl}from"./search2-line-C7V4Mle5.js";import{I as $l}from"./Icon-w75mFLja.js";import{a7 as m,aK as U,av as C,aN as wt,a8 as x,a9 as a,aa as l,aT as c,I as zl,y as Dl,A as d,aP as Ml,aQ as Il,aw as Pl,u as e,at as pt,au as ft,aU as $,ap as g,aG as L,aS as T,aL as _,b3 as F,aF as le,aA as Pe,az as Tl,ax as Bl,aR as Sl,b7 as Te,am as u,b8 as Nl,b9 as Rl,aE as Ll,ba as Fl,a$ as El,bb as Ul,bc as Ol,bd as Hl,be as ql,an as Al,bf as Wl,bg as jl,aW as Vl,bh as Kl,aV as Ql,bi as Xl,aM as Yl,bj as Gl,bk as Jl,ao as Zl,bl as ea,bm as ta,bn as la,bo as aa,b1 as mt,b6 as na}from"./vendor-CsvKI2kS.js";import{d as oa,c as sa,_ as ia,a as ra}from"./copy-yq3IeVT6.js";import{_ as ua}from"./index.vue_vue_type_style_index_0_lang-dhZkmg3Y.js";import{_ as ca}from"./runParamModal.vue_vue_type_script_setup_true_lang-CQ5wtTgA.js";import{u as da}from"./useAppInject-BoZf51bk.js";import{u as pa}from"./useTransition-66F1_su1.js";import{d as Be,f as fa,a as ma,b as _a,c as _t}from"./delete-tastRW7D.js";import{s as va,f as vt,a as yt,g as ya,b as ga,c as ha,d as gt,e as ba,h as ka}from"./file-h9mNNik_.js";import{f as pe,a as ae,b as xa,c as ht}from"./index-CYBHNIXZ.js";import{f as fe}from"./filePrefix-DWnX-gtz.js";import{f as bt}from"./folderEmpty-BTA8c87Y.js";import"./sharp-arrow-back-ios-DPZSNare.js";import"./useDesign-7pXfWKnw.js";import"./clock-plus-outline-zI7Ya36t.js";import"./file-question-outline-Bbpb0p_t.js";import"./more-horiz-pnQhQE51.js";import"./propTypes-C3nnPquf.js";import"./download-simple-bold-CrGQmHNY.js";import"./useTextMate-UgNy7zwp.js";import"./useRunLog-wCZ9Nz23.js";import"./index-Ddm3CTAd.js";const wa={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ca=C("path",{fill:"currentColor",d:"M13 19c0 .34.04.67.09 1H6.5c-1.5 0-2.81-.5-3.89-1.57C1.54 17.38 1 16.09 1 14.58q0-1.95 1.17-3.48C3.34 9.57 4 9.43 5.25 9.15c.42-1.53 1.25-2.77 2.5-3.72S10.42 4 12 4c1.95 0 3.6.68 4.96 2.04S19 9.05 19 11c1.15.13 2.1.63 2.86 1.5c.51.57.84 1.21 1 1.92A5.9 5.9 0 0 0 19 13h-2v-2c0-1.38-.5-2.56-1.46-3.54C14.56 6.5 13.38 6 12 6s-2.56.5-3.54 1.46C7.5 8.44 7 9.62 7 11h-.5c-.97 0-1.79.34-2.47 1.03c-.69.68-1.03 1.5-1.03 2.47s.34 1.79 1.03 2.5c.68.66 1.5 1 2.47 1h6.59c-.05.33-.09.66-.09 1m7-1v-3h-2v3h-3v2h3v3h2v-3h3v-2z"},null,-1),$a=[Ca];function za(O,v){return m(),U("svg",wa,[...$a])}const Da={name:"mdi-cloud-plus-outline",render:za},Ma={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ia=wt('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path d="M5 5L12 5L19 5"><animate fill="freeze" attributeName="d" dur="0.4s" values="M5 5L12 5L19 5;M5 5L12 12L19 5"></animate></path><path d="M5 12H19"><animate fill="freeze" attributeName="d" dur="0.4s" values="M5 12H19;M12 12H12"></animate></path><path d="M5 19L12 19L19 19"><animate fill="freeze" attributeName="d" dur="0.4s" values="M5 19L12 19L19 19;M5 19L12 12L19 19"></animate></path></g>',1),Pa=[Ia];function Ta(O,v){return m(),U("svg",Ma,[...Pa])}const Ba={name:"line-md-menu-to-close-transition",render:Ta},Sa={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Na=wt('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path d="M5 5L19 19"><animate fill="freeze" attributeName="d" dur="0.4s" values="M5 5L19 19;M5 5L19 5"></animate></path><path d="M12 12H12" opacity="0"><animate fill="freeze" attributeName="d" begin="0.2s" dur="0.4s" values="M12 12H12;M5 12H19"></animate><set attributeName="opacity" begin="0.2s" to="1"></set></path><path d="M5 19L19 5"><animate fill="freeze" attributeName="d" dur="0.4s" values="M5 19L19 5;M5 19L19 19"></animate></path></g>',1),Ra=[Na];function La(O,v){return m(),U("svg",Sa,[...Ra])}const Fa={name:"line-md-close-to-menu-alt-transition",render:La},Ea={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Ua=C("path",{fill:"currentColor",d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3M6 6h9v4H6z"},null,-1),Oa=[Ua];function Ha(O,v){return m(),U("svg",Ea,[...Oa])}const qa={name:"mdi-content-save-outline",render:Ha},Aa={};function Wa(O,v){const W=qa,b=c;return m(),x(b,null,{default:a(()=>[l(W,{style:{"vertical-align":"baseline"}})]),_:1})}const kt=Se(Aa,[["render",Wa]]),ja={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"},Va=C("path",{fill:"currentColor",d:"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m-2 14.5l6-4.5l-6-4.5z"},null,-1),Ka=[Va];function Qa(O,v){return m(),U("svg",ja,[...Ka])}const Xa={name:"mdi-play-circle-outline",render:Qa},Ya={};function Ga(O,v){const W=Xa,b=c;return m(),x(b,null,{default:a(()=>[l(W,{style:{"vertical-align":"baseline"}})]),_:1})}const xt=Se(Ya,[["render",Ga]]),Ja={key:1,class:"font-bold text-xl"},Za={key:2},en={class:"font-bold text-xl"},tn={class:"pb-1 mr-3"},ln={class:"mr-2 mb-2"},an={style:{"margin-bottom":"12px"}},nn=zl({__name:"index",setup(O){const{message:v,confirm:W}=kl(),{getIsMobile:b}=da(),{t:s}=xl(),Ct=Dl(),me=d("fade-slide");pa(me);const Ne=d(),Re=d(),j=d(s("routes.main.page.code.edit")),_e=d([]),ve=d([]),ne=d([]),E=d(""),Le=d([]),Fe=d(0),Ee=d(0),S=d([]),$t=d(""),V=d(!0),K=d("on"),ye=d(!1),H=d(b.value?13:15),M=d([]),N=d({}),A=d(""),oe=d(!1),Q=d(!1),X=d(!1),Y=d(!1),G=d(!1),B=d(!1),P=d(void 0),ge=d(!1),se=d(!0),J=d(!1),Z=d(!1),f=d(null),p=d(null),z=d({}),ie=d(""),D=d({type:1,name:"",dir:""}),I=async n=>{switch(n){case"findBox":ye.value=!ye.value,B.value=!1;break;case"wordWrap":K.value=K.value==="on"?"off":"on",B.value=!1;break;case"minimap":V.value=!V.value,B.value=!1;break;case"showEditorShortcutsInfo":e(S.value)[`editor-${f.value.key}`].showShortCuts();break;case"changeSidebarCollapseStatus":P.value=!P.value;break;case"save":ge.value=!0;const t=e(S.value)[`editor-${f.value.key}`].getValue();try{await va({content:t,path:f.value.key}),v.success(s("editor.main.savedSuccess")),N.value[f.value.key].content=t}finally{ge.value=!1}break;case"clickContextMenu":oe.value=!1;break;case"exitContextMenu":oe.value=!1,y("contextMenu");break}},zt=n=>{if(!f.value)return;const t=f.value.key;n!==t&&(N.value[t].content=e(S.value)[`editor-${t}`].getValue())},re=n=>{M.value.forEach(t=>{if(t.key===n){j.value=t.label,A.value=n;const{children:r,...o}=t;f.value=o}})},ee=n=>{M.value.forEach((t,r)=>{t.key===n&&(M.value.splice(r,1),delete N.value[t.key],delete S.value[`editor-${t.key}`],M.value.length>0?A.value===n&&re(M.value[M.value.length-1].key):(y("content"),y("tmpData"),qe(t.key)))})},Dt=n=>{zt(n),re(n)},Mt=n=>{ee(n.value)},te=(n,t,r)=>{if(!r.node)return;const o=r.node,k=o.title;switch(r.action){case"expand":o.prefix=()=>u(c,null,{default:()=>u(pe.open[k]||xa)});break;case"collapse":o.prefix=()=>u(c,null,{default:()=>u(pe.close[k]||ae)});break}},It=n=>u(F,{placement:"left",delay:1500,duration:500,showArrow:!1,overlap:!0,style:{width:"max-content",fontSize:"12px",right:"26px"}},{trigger:()=>n.option.label,default:()=>u($,{style:"gap: 4px"},{default:()=>[n.option.key,u(g,{text:!0,type:"primary",focusable:!1,onClick:()=>Rt(n.option.key)},{default:()=>u(sa)})]})}),Ue=async(n,t,r)=>{if(r.action!=="select")return;const o=r.node;if(o.isDir||o.disabled)return;b.value&&(P.value=!0),M.value.find(h=>h.key===o.key)||(await He(o.key,o.language),M.value.push(o)),re(o.key)},Pt=async({node:n,dragNode:t})=>{if(!n.isDir)return;const r=t.key,o=`${n.key}${r.includes("\\")?"\\":"/"}${t.label}`;if(r!==o)try{await vt({path:r,newPath:o}),v.success(s("file.move.success")),ee(r),q()}catch{}},he=(n,t,r)=>{switch(r.action){case"select":r.node&&(z.value=r.node,D.value.dir=r.node.key);break;case"delete":case"clear":case"unselect":y("treeSelect");break}},Oe=({option:n})=>n.children?"toggleExpand":"default",Tt=async n=>{const t=r=>{r.length&&r.forEach(o=>{if(o.type===0)Object.assign(o,{key:o.path,label:o.title,isDir:!0,canRun:!1,disabled:!1,icon:()=>u(ae),prefix:()=>u(c,null,{default:()=>u(pe.close[o.title]||ae)})}),t(o.children),o.children.length||(Object.assign(o,{children:null}),o.prefix=()=>u(c,null,{default:()=>u(bt)}));else{const k=o.name;if(k){const h=k.substring(k.lastIndexOf(".")+1),w=ht[h]||{};Object.assign(o,{key:o.path,label:k,isDir:!1,language:w.language||"plaintext",canRun:w.canRun||!1,disabled:w.disabled||!w.language,icon:()=>u(w.icon||fe),prefix:()=>u(c,null,{default:()=>u(w.icon||fe)})})}}})};return t(n),n},Bt=async n=>{const t=r=>{r.length&&r.forEach(o=>{o.type===0&&(Object.assign(o,{key:o.path,label:o.title,isDir:!0,canRun:!1,disabled:!1,icon:()=>u(ae),prefix:()=>u(c,null,{default:()=>u(pe.close[o.title]||ae)})}),t(o.children),o.children.length||(Object.assign(o,{children:null}),o.prefix=()=>u(c,null,{default:()=>u(bt)})))})};return t(n),n},St=({option:n})=>({onContextmenu(t){Le.value=be("ContextMenu",{option:n}),oe.value=!0,Fe.value=t.clientX,Ee.value=t.clientY,t.preventDefault();const{children:r,...o}=n;p.value=o}}),be=(n,{option:t})=>{const r={save:{label:s("file.save.button"),key:"save",icon:()=>u(c,null,{default:()=>u(kt)}),props:{onClick:()=>{I("save")}}},run:{label:s("file.run.button"),key:"run",icon:()=>u(c,null,{default:()=>u(xt)}),props:{onClick:()=>{Ae()}}},attribute:{label:s("file.attribute.button"),key:"attribute",icon:()=>u(c,null,{default:()=>u(rt)}),props:{onClick:()=>{Ye()}}},create:{label:s("file.create.button"),key:"create",icon:()=>u(c,null,{default:()=>u(ct)}),props:{onClick:()=>{Vt()}}},upload:{label:s("file.upload.button"),key:"upload",icon:()=>u(c,null,{default:()=>u(dt)}),props:{onClick:()=>{Yt()}}},more:{label:()=>u(Te,{style:{color:"var(--app-primary-color)"}},{default:()=>s("file.more.button")}),key:"more",icon:()=>u(c,{color:"var(--app-primary-color)"},{default:()=>u(ut)}),children:[{label:s("file.download.button"),key:"download",icon:()=>u(c,null,{default:()=>u(t.isDir?fa:ma)}),props:{onClick:()=>{Xe()}}},{label:s("file.move.button"),key:"move",icon:()=>u(c,null,{default:()=>u(Ie)}),props:{onClick:()=>{We()}}},{label:s("file.rename.button"),key:"rename",icon:()=>u(c,null,{default:()=>u(Me)}),props:{onClick:()=>{Ve()}}},{type:"divider",key:"d1"},{label:()=>u(Te,{style:{color:"var(--app-error-color)"}},{default:()=>s("file.delete.button")}),key:"delete",icon:()=>u(c,{color:"var(--app-error-color)"},{default:()=>u(Be)}),props:{onClick:()=>{Qe()}}}]}};let o=[];return n==="ContextMenu"?(o=[r.attribute],t.isDir?o=[r.create,r.upload,...o,...r.more.children]:t.disabled?o=[...o,...r.more.children]:(o=[...o,r.more],t.canRun&&o.unshift(r.run))):n==="MobileHeader"?(o=[r.save,r.more.children[0],r.more.children[1],r.more.children[2],r.attribute,r.more.children[3],r.more.children[4]],t?.canRun&&o.splice(1,0,r.run)):n==="HeaderSubTitle"&&(o=[r.create,r.upload]),o},q=async()=>{se.value=!0;const n=await yt({}),t=await Tt(n);_e.value=t,se.value=!1},ke=async()=>{Z.value=!0;const n=await yt({isDir:"true"}),t=await Bt(n);ne.value=t,Z.value=!1},Nt=async()=>{const n=Ct.currentRoute.value.query.path;if(!n)return;const t=n.split("/").pop()||"",r=t.substring(t.lastIndexOf(".")+1),o=ht[r]||{},k=o.language||"plaintext";if(k)if(await He(n,k),N.value[n].content){ve.value=n.split("/").slice(0,-1).map((w,we,Ce)=>Ce.slice(0,we+1).join("/"));const h={key:n,label:t,isDir:!1,language:k,canRun:o.canRun||!1,disabled:o.disabled||!k,icon:()=>u(o.icon||fe),prefix:()=>u(c,null,{default:()=>u(o.icon||fe)})};M.value.push(h),re(h.key),b.value&&(P.value=!0)}else N.value={}},He=async(n,t)=>{$t.value=t||"plaintext",J.value=!0;try{const r=await ya({path:encodeURI(n)});J.value=!1,r?N.value[n]={content:r,language:t}:(N.value[n]={content:"",language:t},v.info(s("page.code.fileContentIsEmptyMsg")))}catch{y("content"),y("tmpData")}finally{J.value=!1}},qe=n=>{S.value.length>0&&S.value[`editor-${n}`]&&(S.value[`editor-${n}`].dispose(),delete e(S.value)[`editor-${n}`])},Rt=n=>{Nl().copy(n).then(()=>{v.success(s("common.copyOk"))}).catch(()=>{v.error(s("common.copyFail"))})},xe=()=>({ghost:!1,tertiary:!0}),y=n=>{switch(n){case"title":j.value=s("routes.main.page.code.edit");break;case"content":y("title"),f.value=null,A.value="",b.value&&(P.value=!1);break;case"contextMenu":p.value=null;break;case"renameInput":ie.value="";break;case"treeSelect":z.value={},D.value.dir=void 0;break;case"createData":D.value={type:1,name:void 0,dir:void 0};break;case"tmpData":y("contextMenu"),y("renameInput"),y("treeSelect"),y("createData");break}},Ae=()=>{try{let n,t;p.value?(n=p.value.label,t=p.value.key):(n=f.value.label,t=f.value.key),n&&t&&Ne.value?.open({title:n,runTarget:t})}catch{}finally{y("tmpData")}},Lt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Ie)}),We=()=>{X.value=!0,ke()},Ft=async()=>{const n=p.value?p.value.key:f.value.key,t=p.value?p.value.label:f.value.label;let r=z.value?z.value.key:"";r=`${r}${n.includes("\\")?"\\":"/"}${t}`;try{await vt({path:n,newPath:r}),v.success(s("file.move.success")),ee(n),q()}catch{}finally{y("tmpData")}},Et=()=>({disabled:!z.value}),je=()=>{X.value=!1,y("treeSelect")},Ut=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Me)}),Ve=()=>{Q.value=!0},Ot=async()=>{const n=p.value?p.value.key:f.value.key;try{await ga({path:n,name:ie.value}),v.success(s("file.rename.success")),ee(n),q()}catch{}finally{y("tmpData")}},Ht=()=>({disabled:!ie.value}),Ke=()=>{Q.value=!1,y("tmpData")},qt=n=>{ie.value=n},At=n=>!["<",">","?","*","/"].some(t=>n.includes(t)),Qe=async()=>{const n=p.value?p.value.key:f.value.key;W.error({title:s("file.delete.title"),content:s("file.delete.confirm"),icon:()=>u(c,{style:"vertical-align: 0"},{default:()=>u(Be)}),closable:!1,maskClosable:!1,autoFocus:!1,positiveText:s("file.delete.button"),onPositiveClick:async()=>{try{await ha({path:n}),v.success(s("file.delete.success")),ee(n),q()}catch{}finally{y("tmpData")}},onNegativeClick:()=>{y("tmpData")},negativeButtonProps:{ghost:!1,tertiary:!0}})},Xe=async()=>{const n=p.value?p.value.key:f.value.key,t=p.value?p.value.label:f.value.label,r=p.value?p.value.isDir:f.value.isDir,o=v.info(s("file.download.wait"),{duration:0,icon:()=>u(c,null,{default:()=>u(_a)})});try{if(r){const{code:k,message:h,blob:w}=await gt({path:n});o.destroy(),k?(v.success(s("file.download.success")),w&&_t(w,`${t}.zip`)):h&&v.error(h)}else{const{code:k,message:h,blob:w}=await gt({path:n});o.destroy(),k?(v.success(s("file.download.success")),w&&_t(w,t)):h&&v.error(h)}}catch{o.destroy(),v.error(s("file.download.fail"),{keepAliveOnHover:!0})}finally{y("tmpData")}},Ye=async()=>{const n=p.value?p.value.key:f.value.key,t=p.value?p.value.isDir:f.value.isDir;try{Re.value?.open({path:n,isDir:t})}catch{}finally{y("tmpData")}},Wt={name:{required:!0},dir:{required:!0}},jt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(ct)}),Vt=()=>{Y.value=!0,p.value&&({label:z.value.label,key:z.value.key}=p.value,D.value.dir=z.value.key),ke()},Kt=async()=>{const n=D.value.type,t=D.value.name,r=D.value.dir;try{await ba({type:n,name:t,dir:r}),v.success(s("file.create.success")),q()}catch{}finally{y("tmpData")}},Ge=()=>{Y.value=!1,y("tmpData")},Qt=()=>({disabled:!z.value||!D.value.name}),Xt=()=>u(c,{style:"vertical-align: 0"},{default:()=>u(dt)}),Yt=()=>{G.value=!0,p.value&&({label:z.value.label,key:z.value.key}=p.value),ke()},Gt=({file:n,onFinish:t,onError:r,onProgress:o})=>{const k=n.name,h=new FormData;h.append("file",n.file),ka({params:h,path:z.value.key,onUploadProgress:({progress:w})=>{o({percent:Math.ceil((w||0)*100)})}}).then(()=>{v.success(`${k} ${s("file.upload.success")}`),q(),t()}).catch(w=>{v.error(w.message,{keepAliveOnHover:!0}),r()})},Jt=()=>{G.value=!1,y("tmpData")};return Ml(async()=>{await q(),Nt()}),Il(()=>{M.value.length>0&&qe(M.value[0].key)}),(n,t)=>{const r=Fa,o=Ba,k=Rl,h=Ll,w=ia,we=ra,Ce=Da,$e=Fl,Je=hl,R=$l,Ze=El,et=Ul,tt=Ol,lt=Cl,ue=Hl,at=ql,nt=Al,ce=wl,ot=Wl,Zt=jl,el=na,tl=Vl,st=Kl,ll=bl,al=Ql,nl=Xl,it=Yl,de=Gl,ze=Jl,ol=Zl,sl=vl,il=ea,rl=ta,ul=yl,cl=gl,De=la,dl=aa,pl=ml;return m(),x(pl,{ref:"pageWrapper","content-full":""},Pl({title:a(()=>[l(h,null,{default:a(()=>[e(f)&&e(b)?(m(),x(e(g),{key:0,strong:"",tertiary:"",size:"tiny",style:{height:"29px",padding:"0 8px"},focusable:!1,onClick:t[0]||(t[0]=i=>I("changeSidebarCollapseStatus"))},{icon:a(()=>[l(e(c),{size:20},{default:a(()=>[e(P)?(m(),x(o,{key:1,style:{"vertical-align":"baseline"}})):(m(),x(r,{key:0,style:{"vertical-align":"baseline"}}))]),_:1})]),_:1})):le("",!0),e(b)?(m(),U("div",Za,[l(k,{style:{height:"100%","max-width":"170px"}},{tooltip:a(()=>[C("span",null,_(e(j)),1)]),default:a(()=>[C("span",en,_(e(j)),1)]),_:1})])):(m(),U("span",Ja,_(e(j)),1))]),_:1})]),subtitle:a(()=>[l(h,{style:Tl(e(b)?"gap: 4px":"gap: 0")},{default:a(()=>[e(b)?le("",!0):(m(),x(e(g),{key:0,strong:"",quaternary:!e(b),secondary:e(b),size:"small",focusable:!1,style:{"vertical-align":"-0.15em",padding:"6px 6px",height:"28px",width:"28px"},onClick:t[1]||(t[1]=i=>I("changeSidebarCollapseStatus"))},{icon:a(()=>[l(e(c),{size:14},{default:a(()=>[e(P)?(m(),x(we,{key:1,style:{"vertical-align":"baseline"}})):(m(),x(w,{key:0,style:{"vertical-align":"baseline"}}))]),_:1})]),_:1},8,["quaternary","secondary"])),e(b)&&e(f)?le("",!0):(m(),x($e,{key:1,trigger:"click",options:be("HeaderSubTitle",{option:e(f)})},{default:a(()=>[l(e(g),{strong:"",quaternary:!e(b),secondary:e(b),size:"small",focusable:!1,style:{"vertical-align":"-0.15em",padding:"6px 6px",height:"28px",width:"28px"}},{default:a(()=>[l(e(c),{size:16},{default:a(()=>[l(Ce,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["quaternary","secondary"])]),_:1},8,["options"]))]),_:1},8,["style"])]),default:a(()=>[l(it,{bordered:!e(b),style:{height:"100%","word-break":"unset"},"content-style":"padding: 0; height: 100%"},{default:a(()=>[l(nl,{"has-sider":"",style:{height:"100%"},"content-style":"height: 100%"},{default:a(()=>[e(b)?(m(),x(ot,{key:1,bordered:!1,class:"scripts-container",width:"100%","content-style":"display: flex; flex-direction: column; height: 100%; padding: 0.8em 0 0 0.5rem","collapsed-width":0,"native-scrollbar":!1,collapsed:e(P),"on-update:collapsed":i=>P.value=i},{default:a(()=>[C("div",ln,[l(ue,{value:e(E),"onUpdate:value":t[23]||(t[23]=i=>L(E)?E.value=i:null),clearable:"",placeholder:e(s)("page.code.searchInputPlaceholder")},{prefix:a(()=>[l(lt)]),_:1},8,["value","placeholder"])]),l(nt,{"x-scrollable":"",class:"flex-1 pr-2"},{default:a(()=>[l(at,{"expand-on-click":"","block-line":"",animated:!1,style:{"font-size":"15px"},"show-irrelevant-nodes":!1,pattern:e(E),data:e(_e),"default-expanded-keys":e(ve),"override-default-node-click-behavior":Oe,"on-update:expanded-keys":te,"on-update:selected-keys":Ue},null,8,["pattern","data","default-expanded-keys"]),l(Zt,{right:20,bottom:20})]),_:1}),l(ce,{show:e(se)},null,8,["show"])]),_:1},8,["collapsed","on-update:collapsed"])):(m(),x(ot,{key:0,class:"scripts-container",width:"320","content-style":"display: flex; flex-direction: column; height: 100%; padding: .8em 0 0 .8em",bordered:!e(P),"collapsed-width":0,"native-scrollbar":!1,collapsed:e(P),"on-update:collapsed":i=>P.value=i},{default:a(()=>[C("div",tn,[l(ue,{value:e(E),"onUpdate:value":t[20]||(t[20]=i=>L(E)?E.value=i:null),clearable:"",style:{"margin-bottom":".5em"},placeholder:e(s)("page.code.searchInputPlaceholder")},{prefix:a(()=>[l(lt)]),_:1},8,["value","placeholder"])]),l(nt,{"x-scrollable":"",class:"flex-1 pr-3"},{default:a(()=>[l(at,{"expand-on-click":"",draggable:"","show-line":"","show-irrelevant-nodes":!1,"node-props":St,pattern:e(E),data:e(_e),"default-expanded-keys":e(ve),"render-label":It,"override-default-node-click-behavior":Oe,"on-update:expanded-keys":te,"on-update:selected-keys":Ue,onDrop:Pt},null,8,["pattern","data","default-expanded-keys"]),l($e,{trigger:"manual",placement:"bottom-start",style:{"min-width":"120px"},show:e(oe),options:e(Le),x:e(Fe),y:e(Ee),onSelect:t[21]||(t[21]=i=>I("clickContextMenu")),onClickoutside:t[22]||(t[22]=i=>I("exitContextMenu"))},null,8,["show","options","x","y"])]),_:1}),l(ce,{show:e(se)},null,8,["show"])]),_:1},8,["bordered","collapsed","on-update:collapsed"])),l(Pe,{name:"fade",mode:"out-in",appear:""},{default:a(()=>[e(M).length>0?(m(),x(st,{key:0,class:"tab-panel"},{default:a(()=>[l(tl,{value:e(A),"onUpdate:value":t[24]||(t[24]=i=>L(A)?A.value=i:null),"drag-sort":"",style:{height:"100%",width:"100%",display:"flex","flex-direction":"column"},theme:"card",onChange:Dt,onRemove:Mt},{default:a(()=>[(m(!0),U(Sl,null,Bl(e(M),i=>(m(),x(el,{key:i.key,value:i.key,removable:"",style:{height:"100%",width:"100%",padding:"0"},"destroy-on-hide":!1},{label:a(()=>[e(b)?(m(),x(e($),{key:1,style:{gap:"4px"}},{default:a(()=>[l(e(c),{size:16},{default:a(()=>[(m(),x(mt(i.icon),{style:{"vertical-align":"-0.3em"}}))]),_:2},1024),T(" "+_(i.label),1)]),_:2},1024)):(m(),x(e(F),{key:0,placement:"top",trigger:"hover","show-arrow":!1,delay:1e3},{trigger:a(()=>[l(e($),{style:{gap:"4px"}},{default:a(()=>[l(e(c),{size:16},{default:a(()=>[(m(),x(mt(i.icon),{style:{"vertical-align":"-0.3em"}}))]),_:2},1024),T(" "+_(i.label),1)]),_:2},1024)]),default:a(()=>[C("span",null,_(i.key),1)]),_:2},1024))]),default:a(()=>[l(ua,{ref_for:!0,ref:fl=>e(S)[`editor-${i.key}`]=fl,style:{height:"100%",padding:"0"},value:{content:e(N)[i.key].content,language:e(N)[i.key].language},"word-wrap":e(K),minimap:e(V),"font-size":e(H),"find-box":e(ye)},null,8,["value","word-wrap","minimap","font-size","find-box"])]),_:2},1032,["value"]))),128)),l(ce,{show:e(J)},null,8,["show"])]),_:1},8,["value"])]),_:1})):(m(),x(st,{key:1},{default:a(()=>[e(f)?le("",!0):(m(),x(al,{key:0,class:"min-h-200px flex-jc-ac h-full",size:"huge","show-description":!0,description:e(s)("common.selectFileEmptyDesc")},{icon:a(()=>[l(e(c),null,{default:a(()=>[l(ll)]),_:1})]),_:1},8,["description"])),l(ce,{show:e(J)},null,8,["show"])]),_:1}))]),_:1})]),_:1})]),_:1},8,["bordered"]),l(de,{show:e(Q),"onUpdate:show":t[25]||(t[25]=i=>L(Q)?Q.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Ut,title:e(s)("file.rename.title"),"positive-text":e(s)("common.okText"),"negative-text":e(s)("common.cancelText"),"on-close":Ke,"positive-button-props":Ht(),"negative-button-props":xe(),onNegativeClick:t[26]||(t[26]=i=>Ke()),onPositiveClick:t[27]||(t[27]=i=>Ot())},{default:a(()=>[l(ue,{clearable:"",style:{"margin-top":"5px"},"default-value":e(p)?e(p).label:e(f)?e(f).label:null,"allow-input":At,onInput:qt},null,8,["default-value"])]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(de,{show:e(X),"onUpdate:show":t[28]||(t[28]=i=>L(X)?X.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Lt,title:e(s)("file.move.title"),"positive-text":e(s)("common.okText"),"negative-text":e(s)("common.cancelText"),"on-close":je,"positive-button-props":Et(),"negative-button-props":xe(),onNegativeClick:t[29]||(t[29]=i=>je()),onPositiveClick:t[30]||(t[30]=i=>Ft())},{default:a(()=>[l(ze,{clearable:"","show-path":!0,separator:"/",style:{"margin-top":"5px"},"consistent-menu-width":!1,loading:e(Z),options:e(ne),"on-update:expanded-keys":te,"on-update:value":he},null,8,["loading","options"])]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(de,{show:e(G),"onUpdate:show":t[31]||(t[31]=i=>L(G)?G.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:Xt,title:!e(z)&&!e(p)?e(s)("file.upload.needSelect"):e(s)("file.upload.title"),"on-close":Jt},{default:a(()=>[l(e($),{vertical:""},{default:a(()=>[l(ze,{"default-value":e(z)?.key,clearable:"","show-path":!0,separator:"/",style:{"margin-top":"5px"},placeholder:e(s)("file.upload.selectPlaceholder"),"consistent-menu-width":!1,loading:e(Z),options:e(ne),"on-update:expanded-keys":te,"on-update:value":he},null,8,["default-value","placeholder","loading","options"]),l(ol,{type:"info",closable:""},{default:a(()=>[T(_(e(s)("file.upload.info")),1)]),_:1}),l(rl,{multiple:"","directory-dnd":"",disabled:!e(z)&&!e(p),"custom-request":Gt},{default:a(()=>[l(il,null,{default:a(()=>[C("div",an,[l(e(c),{size:"48",depth:3},{default:a(()=>[l(sl)]),_:1})]),l(e(Te),{style:{"font-size":"16px"}},{default:a(()=>[T(_(e(s)("file.upload.draggerText")),1)]),_:1})]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},8,["show","title"]),l(de,{show:e(Y),"onUpdate:show":t[35]||(t[35]=i=>L(Y)?Y.value=i:null),preset:"dialog","auto-focus":!1,"mask-closable":!1,icon:jt,title:e(s)("file.create.title"),"on-close":Ge,"positive-text":e(s)("common.okText"),"negative-text":e(s)("common.cancelText"),"positive-button-props":Qt(),"negative-button-props":xe(),onNegativeClick:t[36]||(t[36]=i=>Ge()),onPositiveClick:t[37]||(t[37]=i=>Kt())},{default:a(()=>[l(it,{bordered:!1,style:{height:"100%","word-break":"unset"},"content-style":"padding: 0"},{default:a(()=>[l(dl,{model:e(D),rules:Wt,"label-placement":"left",style:{"padding-top":"1em"}},{default:a(()=>[l(De,{label:e(s)("file.create.form.type"),"show-label":!1,path:"type",style:{"padding-top":"1em"}},{default:a(()=>[l(e($),{style:{width:"100%",height:"140px",gap:"0"},justify:"space-around"},{default:a(()=>[l(e(g),{strong:"",dashed:"",type:e(D).type===1?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:t[32]||(t[32]=i=>e(D).type=1)},{default:a(()=>[l(e($),{vertical:"",style:{gap:"20px"}},{default:a(()=>[l(e(c),{size:48},{default:a(()=>[l(ul,{style:{"vertical-align":"baseline"}})]),_:1}),C("strong",null,_(e(s)("file.create.form.typeFile")),1)]),_:1})]),_:1},8,["type"]),l(e(g),{strong:"",dashed:"",type:e(D).type===0?"primary":"default",focusable:!1,style:{width:"120px",height:"100%"},onClick:t[33]||(t[33]=i=>e(D).type=0)},{default:a(()=>[l(e($),{vertical:"",style:{gap:"20px"}},{default:a(()=>[l(e(c),{size:48},{default:a(()=>[l(cl,{style:{"vertical-align":"baseline"}})]),_:1}),C("strong",null,_(e(s)("file.create.form.typeFolder")),1)]),_:1})]),_:1},8,["type"])]),_:1})]),_:1},8,["label"]),l(De,{label:e(s)("file.create.form.name"),path:"name"},{default:a(()=>[l(ue,{value:e(D).name,"onUpdate:value":t[34]||(t[34]=i=>e(D).name=i),clearable:"",placeholder:e(s)("file.create.form.namePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),l(De,{label:e(s)("file.create.form.path"),path:"dir"},{default:a(()=>[l(ze,{"default-value":e(z)?.key,clearable:"","show-path":!0,separator:" / ",style:{"margin-top":"5px"},"consistent-menu-width":!1,loading:e(Z),options:e(ne),"on-update:expanded-keys":te,"on-update:value":he},null,8,["default-value","loading","options"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})]),_:1},8,["show","title","positive-text","negative-text","positive-button-props","negative-button-props"]),l(ca,{ref_key:"runParamModal",ref:Ne},null,512),l(_l,{ref_key:"fileAttributeModal",ref:Re},null,512)]),_:2},[e(b)?{name:"extra",fn:a(()=>[pt(l(Pe,{name:e(me),mode:"out-in",appear:""},{default:a(()=>[l(h,{style:{width:"fix-content"}},{default:a(()=>[l(et,{trigger:"manual",style:{padding:"8px"},show:e(B),"show-arrow":!1,placement:"bottom"},{trigger:a(()=>[l(e(g),{strong:"",quaternary:"",size:"small",type:e(B)?"primary":"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[15]||(t[15]=i=>B.value=!e(B))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(Je,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["type"])]),default:a(()=>[l(h,{vertical:""},{default:a(()=>[l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,icon:"ri:font-size",style:{"vertical-align":"-0.45em"}}),l(Ze,{value:e(H),"onUpdate:value":t[16]||(t[16]=i=>L(H)?H.value=i:null),min:12,max:40,"button-placement":"both",size:"small",style:{"text-align":"center",width:"116px"}},null,8,["value"])]),_:1}),l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,icon:"mdi:find-replace",style:{"vertical-align":"-0.45em"}}),l(e(g),{size:"small",strong:"",tertiary:"",style:{width:"116px"},onClick:t[17]||(t[17]=i=>I("findBox"))},{default:a(()=>[T(_(e(s)("editor.switch.findBtn")),1)]),_:1})]),_:1}),l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,color:e(K)==="on"?"var(--app-primary-color)":void 0,icon:"ant-design:swap-outlined",style:{"vertical-align":"-0.45em"}},null,8,["color"]),l(e(g),{size:"small",strong:"",tertiary:"",style:{width:"116px"},onClick:t[18]||(t[18]=i=>I("wordWrap"))},{default:a(()=>[T(_(e(s)("editor.switch.wordWrapBtn")),1)]),_:1})]),_:1}),l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,color:e(V)?"var(--app-primary-color)":void 0,icon:"mdi:map-outline",style:{"vertical-align":"-0.45em"}},null,8,["color"]),l(e(g),{size:"small",strong:"",tertiary:"",style:{width:"116px"},onClick:t[19]||(t[19]=i=>I("minimap"))},{default:a(()=>[T(_(e(s)("editor.switch.minimapBtn")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),l(tt,null,{default:a(()=>[l($e,{trigger:"click",placement:"bottom-start",options:be("MobileHeader",{option:e(f)})},{default:a(()=>[l(e(g),{strong:"",tertiary:"",size:"small",focusable:!1},{icon:a(()=>[l(e(ut))]),default:a(()=>[T(" "+_(e(s)("file.more.button")),1)]),_:1})]),_:1},8,["options"])]),_:1})]),_:1})]),_:1},8,["name"]),[[ft,e(f)]])]),key:"1"}:{name:"extra",fn:a(()=>[pt(l(Pe,{name:e(me),mode:"out-in",appear:""},{default:a(()=>[l(h,null,{default:a(()=>[l(e($),{style:{width:"fix-content"}},{default:a(()=>[l(et,{trigger:"manual",style:{padding:"8px"},show:e(B),"show-arrow":!1,placement:"bottom"},{trigger:a(()=>[l(e(g),{strong:"",quaternary:"",size:"small",type:e(B)?"primary":"tertiary",style:{padding:"6px"},focusable:!1,onClick:t[2]||(t[2]=i=>B.value=!e(B))},{default:a(()=>[l(e(c),{size:"18"},{default:a(()=>[l(Je,{style:{"vertical-align":"baseline"}})]),_:1})]),_:1},8,["type"])]),default:a(()=>[l(h,{vertical:""},{default:a(()=>[l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,icon:"ri:font-size",style:{"vertical-align":"-0.45em"}}),l(Ze,{value:e(H),"onUpdate:value":t[3]||(t[3]=i=>L(H)?H.value=i:null),min:12,max:40,"button-placement":"both",size:"small",style:{"text-align":"center",width:"116px"}},null,8,["value"])]),_:1}),l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,icon:"mdi:find-replace",style:{"vertical-align":"-0.45em"}}),l(e(g),{size:"small",strong:"",tertiary:"",style:{width:"116px"},onClick:t[4]||(t[4]=i=>I("findBox"))},{default:a(()=>[T(_(e(s)("editor.switch.findBtn")),1)]),_:1})]),_:1}),l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,color:e(K)==="on"?"var(--app-primary-color)":void 0,icon:"ant-design:swap-outlined",style:{"vertical-align":"-0.45em"}},null,8,["color"]),l(e(g),{size:"small",strong:"",tertiary:"",style:{width:"116px"},onClick:t[5]||(t[5]=i=>I("wordWrap"))},{default:a(()=>[T(_(e(s)("editor.switch.wordWrapBtn")),1)]),_:1})]),_:1}),l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,color:e(V)?"var(--app-primary-color)":void 0,icon:"mdi:map-outline",style:{"vertical-align":"-0.45em"}},null,8,["color"]),l(e(g),{size:"small",strong:"",tertiary:"",style:{width:"116px"},onClick:t[6]||(t[6]=i=>I("minimap"))},{default:a(()=>[T(_(e(s)("editor.switch.minimapBtn")),1)]),_:1})]),_:1}),l(e($),{size:"small"},{default:a(()=>[l(R,{size:20,icon:"gg:shortcut",style:{"vertical-align":"-0.45em"}}),l(e(g),{size:"small",strong:"",tertiary:"",style:{width:"116px"},onClick:t[7]||(t[7]=i=>I("showEditorShortcutsInfo"))},{default:a(()=>[T(_(e(s)("editor.switch.viewShortcuts")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])]),_:1}),l(tt,null,{default:a(()=>[l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(g),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[8]||(t[8]=i=>Ye())},{icon:a(()=>[l(e(rt))]),_:1})]),default:a(()=>[C("span",null,_(e(s)("file.attribute.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(g),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[9]||(t[9]=i=>Xe())},{icon:a(()=>[l(e(oa))]),_:1})]),default:a(()=>[C("span",null,_(e(s)("file.download.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(g),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[10]||(t[10]=i=>Qe())},{icon:a(()=>[l(e(Be))]),_:1})]),default:a(()=>[C("span",null,_(e(s)("file.delete.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(g),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[11]||(t[11]=i=>Ve())},{icon:a(()=>[l(e(Me))]),_:1})]),default:a(()=>[C("span",null,_(e(s)("file.rename.button")),1)]),_:1}),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(g),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[12]||(t[12]=i=>We())},{icon:a(()=>[l(e(Ie))]),_:1})]),default:a(()=>[C("span",null,_(e(s)("file.move.button")),1)]),_:1}),e(f)?.canRun?(m(),x(e(F),{key:0,placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(g),{strong:"",tertiary:"",size:"small",focusable:!1,onClick:t[13]||(t[13]=i=>Ae())},{icon:a(()=>[l(e(xt))]),_:1})]),default:a(()=>[C("span",null,_(e(s)("file.run.button")),1)]),_:1})):le("",!0),l(e(F),{placement:"bottom",trigger:"hover",delay:500},{trigger:a(()=>[l(e(g),{strong:"",tertiary:"",size:"small",loading:e(ge),focusable:!1,onClick:t[14]||(t[14]=i=>I("save"))},{icon:a(()=>[l(e(kt))]),_:1},8,["loading"])]),default:a(()=>[C("span",null,_(e(s)("editor.main.saveButton")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["name"]),[[ft,e(f)]])]),key:"0"}]),1536)}}}),Sn=Se(nn,[["__scopeId","data-v-bda87b43"]]);export{Sn as default};

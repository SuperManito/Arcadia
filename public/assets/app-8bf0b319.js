import{aJ as X,a3 as c,aC as y,ah as v,G as Te,a4 as U,a5 as o,aD as M,F as r,a6 as t,a7 as u,a8 as d,aP as n,aQ as we,bl as Be,bK as We,J as ae,r as Ce,B as j,N as Pe,ak as te,aF as J,aH as A,aw as C,aE as Re,aO as Ne,ap as p,bI as Ie,bD as qe,ba as Oe,aI as Fe,bx as De,by as He,bH as Ee,aR as re,y as Ve,aM as $e,aN as Ae}from"./vendor-d56b0496.js";import{b as Me,j as q,e as Ue,a as je,s as Ge,k as Ke}from"./app-d0ea65e6.js";import{I as L}from"./app-f86637c3.js";import{u as Se}from"./app-3da0bfa2.js";import{u as he}from"./app-bef774e2.js";import{p as B}from"./app-75cf128a.js";import{e as R,K as Ze,R as ke,m as Je}from"./vendor-2a285eec.js";import{l as Xe}from"./app-1e1d021d.js";const Qe={style:{display:"inline-block"},viewBox:"0 0 256 256",width:"1em",height:"1em"};function Ye(O,g){return c(),y("svg",Qe,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M40 92h30.06a36 36 0 0 0 67.88 0H216a12 12 0 0 0 0-24h-78.06a36 36 0 0 0-67.88 0H40a12 12 0 0 0 0 24m64-24a12 12 0 1 1-12 12a12 12 0 0 1 12-12m112 96h-14.06a36 36 0 0 0-67.88 0H40a12 12 0 0 0 0 24h94.06a36 36 0 0 0 67.88 0H216a12 12 0 0 0 0-24m-48 24a12 12 0 1 1 12-12a12 12 0 0 1-12 12"},null,-1)]))}const Gt=X({name:"ph-sliders-horizontal-bold",render:Ye}),et={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function tt(O,g){return c(),y("svg",et,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M4 19q-.825 0-1.412-.587T2 17V7q0-.825.588-1.412T4 5h16q.825 0 1.413.588T22 7v10q0 .825-.587 1.413T20 19zm5-3h6q.425 0 .713-.288T16 15t-.288-.712T15 14H9q-.425 0-.712.288T8 15t.288.713T9 16m-3-6q.425 0 .713-.288T7 9t-.288-.712T6 8t-.712.288T5 9t.288.713T6 10m3 0q.425 0 .713-.288T10 9t-.288-.712T9 8t-.712.288T8 9t.288.713T9 10m3 0q.425 0 .713-.288T13 9t-.288-.712T12 8t-.712.288T11 9t.288.713T12 10m3 0q.425 0 .713-.288T16 9t-.288-.712T15 8t-.712.288T14 9t.288.713T15 10m3 0q.425 0 .713-.288T19 9t-.288-.712T18 8t-.712.288T17 9t.288.713T18 10M6 13q.425 0 .713-.288T7 12t-.288-.712T6 11t-.712.288T5 12t.288.713T6 13m3 0q.425 0 .713-.288T10 12t-.288-.712T9 11t-.712.288T8 12t.288.713T9 13m3 0q.425 0 .713-.288T13 12t-.288-.712T12 11t-.712.288T11 12t.288.713T12 13m3 0q.425 0 .713-.288T16 12t-.288-.712T15 11t-.712.288T14 12t.288.713T15 13m3 0q.425 0 .713-.288T19 12t-.288-.712T18 11t-.712.288T17 12t.288.713T18 13"},null,-1)]))}const ot=X({name:"material-symbols-keyboard-rounded",render:tt}),nt={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function it(O,g){return c(),y("svg",nt,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M3 4h6.11l7.04 14H21v2h-6.12L7.84 6H3zm11 0h7v2h-7z"},null,-1)]))}const lt=X({name:"mdi-apple-keyboard-option",render:it}),rt={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function at(O,g){return c(),y("svg",rt,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M15 18v-6h2.17L12 6.83L6.83 12H9v6zM12 4l10 10h-5v6H7v-6H2z"},null,-1)]))}const st=X({name:"mdi-apple-keyboard-shift",render:at}),ut={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function dt(O,g){return c(),y("svg",ut,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M21 18q-.425 0-.712-.288T20 17V7q0-.425.288-.712T21 6t.713.288T22 7v10q0 .425-.288.713T21 18m-6.825-5H3q-.425 0-.712-.288T2 12t.288-.712T3 11h11.175L11.3 8.1q-.275-.275-.288-.687T11.3 6.7q.275-.275.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.687.275T11.3 17.3q-.3-.3-.3-.712t.3-.713z"},null,-1)]))}const ft=X({name:"material-symbols-keyboard-tab-rounded",render:dt}),mt={style:{display:"inline-block"},viewBox:"0 0 24 24",width:"1em",height:"1em"};function pt(O,g){return c(),y("svg",mt,g[0]||(g[0]=[v("path",{fill:"currentColor",d:"M6 2a4 4 0 0 1 4 4v2h4V6a4 4 0 0 1 4-4a4 4 0 0 1 4 4a4 4 0 0 1-4 4h-2v4h2a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4v-2h-4v2a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4h2v-4H6a4 4 0 0 1-4-4a4 4 0 0 1 4-4m10 16a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2h-2zm-2-8h-4v4h4zm-8 6a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2v-2zM8 6a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2h2zm10 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2z"},null,-1)]))}const ct=X({name:"mdi-apple-keyboard-command",render:pt}),gt={key:0},vt={key:1},yt={key:0},bt={key:1},_t={key:0},xt={key:1},Tt={key:0},kt={key:1},wt={key:0},Ct={key:1},Mt={key:0},St={key:1},ht={key:0},zt={key:1},Lt={key:0},Bt={key:1},Wt={key:0},Pt={key:1},Rt={key:0},Nt={key:1},It={key:0},qt={key:1},Ot=Te({__name:"ShortcutsTable",setup(O){const{t:g}=Me(),s={size:"small",type:"primary",bordered:!1,style:"font-weight: 550"};return(oe,e)=>{const f=ct,x=we,l=Be,_=ft,V=st,S=lt,F=We;return c(),U(F,{"single-column":"",bordered:!1,"bottom-bordered":!1},{default:o(()=>[v("tbody",null,[v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.indentLine")),1),r(q)()?(c(),y("td",gt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[1]||(e[1]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[0]||(e[0]=[n(" ] ")])),_:1},16),e[2]||(e[2]=n("  /  ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(_)]),_:1})]),_:1},16)])):(c(),y("td",vt,[t(l,u(d(s)),{default:o(()=>e[3]||(e[3]=[n(" CTRL ")])),_:1},16),e[6]||(e[6]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[4]||(e[4]=[n(" ] ")])),_:1},16),e[7]||(e[7]=n("  /  ")),t(l,u(d(s)),{default:o(()=>e[5]||(e[5]=[n(" TAB ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.outdentLine")),1),r(q)()?(c(),y("td",yt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[9]||(e[9]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[8]||(e[8]=[n(" [ ")])),_:1},16),e[10]||(e[10]=n("  /  ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(V)]),_:1})]),_:1},16),e[11]||(e[11]=n(" + ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(_)]),_:1})]),_:1},16)])):(c(),y("td",bt,[t(l,u(d(s)),{default:o(()=>e[12]||(e[12]=[n(" CTRL ")])),_:1},16),e[16]||(e[16]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[13]||(e[13]=[n(" [ ")])),_:1},16),e[17]||(e[17]=n("  /  ")),t(l,u(d(s)),{default:o(()=>e[14]||(e[14]=[n(" SHIFT ")])),_:1},16),e[18]||(e[18]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[15]||(e[15]=[n(" TAB ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.toggleLineComment")),1),r(q)()?(c(),y("td",_t,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[20]||(e[20]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[19]||(e[19]=[n(" / ")])),_:1},16)])):(c(),y("td",xt,[t(l,u(d(s)),{default:o(()=>e[21]||(e[21]=[n(" CTRL ")])),_:1},16),e[23]||(e[23]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[22]||(e[22]=[n(" / ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.find")),1),r(q)()?(c(),y("td",Tt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[25]||(e[25]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[24]||(e[24]=[n(" F ")])),_:1},16)])):(c(),y("td",kt,[t(l,u(d(s)),{default:o(()=>e[26]||(e[26]=[n(" CTRL ")])),_:1},16),e[28]||(e[28]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[27]||(e[27]=[n(" F ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.replace")),1),r(q)()?(c(),y("td",wt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(S)]),_:1})]),_:1},16),e[30]||(e[30]=n(" + ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[31]||(e[31]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[29]||(e[29]=[n(" F ")])),_:1},16)])):(c(),y("td",Ct,[t(l,u(d(s)),{default:o(()=>e[32]||(e[32]=[n(" CTRL ")])),_:1},16),e[34]||(e[34]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[33]||(e[33]=[n(" H ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.goToLine")),1),r(q)()?(c(),y("td",Mt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[36]||(e[36]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[35]||(e[35]=[n(" G ")])),_:1},16)])):(c(),y("td",St,[t(l,u(d(s)),{default:o(()=>e[37]||(e[37]=[n(" CTRL ")])),_:1},16),e[39]||(e[39]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[38]||(e[38]=[n(" G ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.cut")),1),r(q)()?(c(),y("td",ht,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[41]||(e[41]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[40]||(e[40]=[n(" X ")])),_:1},16)])):(c(),y("td",zt,[t(l,u(d(s)),{default:o(()=>e[42]||(e[42]=[n(" CTRL ")])),_:1},16),e[44]||(e[44]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[43]||(e[43]=[n(" X ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.copy")),1),r(q)()?(c(),y("td",Lt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[46]||(e[46]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[45]||(e[45]=[n(" C ")])),_:1},16)])):(c(),y("td",Bt,[t(l,u(d(s)),{default:o(()=>e[47]||(e[47]=[n(" CTRL ")])),_:1},16),e[49]||(e[49]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[48]||(e[48]=[n(" C ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.paste")),1),r(q)()?(c(),y("td",Wt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[51]||(e[51]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[50]||(e[50]=[n(" V ")])),_:1},16)])):(c(),y("td",Pt,[t(l,u(d(s)),{default:o(()=>e[52]||(e[52]=[n(" CTRL ")])),_:1},16),e[54]||(e[54]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[53]||(e[53]=[n(" V ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.revoke")),1),r(q)()?(c(),y("td",Rt,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[56]||(e[56]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[55]||(e[55]=[n(" Z ")])),_:1},16)])):(c(),y("td",Nt,[t(l,u(d(s)),{default:o(()=>e[57]||(e[57]=[n(" CTRL ")])),_:1},16),e[59]||(e[59]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[58]||(e[58]=[n(" Z ")])),_:1},16)]))]),v("tr",null,[v("td",null,M(r(g)("editor.shortcuts.recover")),1),r(q)()?(c(),y("td",It,[t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(V)]),_:1})]),_:1},16),e[61]||(e[61]=n(" + ")),t(l,u(d(s)),{icon:o(()=>[t(x,null,{default:o(()=>[t(f)]),_:1})]),_:1},16),e[62]||(e[62]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[60]||(e[60]=[n(" Z ")])),_:1},16)])):(c(),y("td",qt,[t(l,u(d(s)),{default:o(()=>e[63]||(e[63]=[n(" CTRL ")])),_:1},16),e[66]||(e[66]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[64]||(e[64]=[n(" SHIFT ")])),_:1},16),e[67]||(e[67]=n(" + ")),t(l,u(d(s)),{default:o(()=>e[65]||(e[65]=[n(" Z ")])),_:1},16)]))])])]),_:1})}}}),Ft=Te({__name:"Toolbox",props:{show:B.bool.def(!1),diffMode:B.bool.def(!1),popover:B.bool.def(!0),editor:B.object.def({})},setup(O){const g=O,{show:s,diffMode:oe,popover:e,editor:f}=ae(g),{getIsMobile:x}=Se(),{prefixCls:l}=he("code-editor-toolbox"),{t:_}=Me(),V=Ce({show:!1,showShortcutsModal:!1,previewComponentTitle:"",showPreviewComponent:!1,isPasteBehavior:!1,inputValue:"",inputInstRef:null,moveCursorInterval:null,longPressTimeout:null,inlineMode:!1,readOnly:!1}),{show:S,showShortcutsModal:F,previewComponentTitle:E,showPreviewComponent:N,isPasteBehavior:T,inputValue:W,inputInstRef:$,moveCursorInterval:G,longPressTimeout:Q,inlineMode:K,readOnly:Z}=ae(V),se=x.value?13:15;async function h(b){switch(b){case"findBox":f.value.findBox=!f.value.findBox;break;case"wordWrap":f.value.wordWrap=f.value.wordWrap==="on"?"off":"on";break;case"renderSideBySide":f.value.renderSideBySide=!f.value.renderSideBySide;break;case"minimap":f.value.minimap=!f.value.minimap;break;case"cursorUp":f.value.moveCursorUp();break;case"cursorDown":f.value.moveCursorDown();break;case"cursorLeft":f.value.moveCursorLeft();break;case"cursorRight":f.value.moveCursorRight();break;case"cut":case"copy":W.value=f.value.getSelectedOrCurrentLineText().text,W.value&&(b==="cut"&&f.value.clearSelectedOrCurrentLineText(),E.value=_("editor.toolbox.selectedContent"),N.value=!0,setTimeout(()=>{$.value?.focus(),$.value?.select()},500));break;case"paste":E.value=_("editor.toolbox.pasteInput"),T.value=!0,N.value=!0,setTimeout(()=>{$.value?.focus()},500);break;case"pasteConfirm":f.value.insertTextAtCursor(W.value),D();break;case"contextMenu":f.value.showContextMenu();break;case"commandPalette":f.value.showCommandPalette();break;case"showShortcutsHelpMenu":F.value=!0;break}["cursorUp","cursorDown","cursorLeft","cursorRight"].includes(b)||(S.value=!1)}function z(){clearTimeout(Q.value),clearInterval(G.value),G.value=null}function I(b){h(b),Q.value=setTimeout(()=>{G.value=setInterval(()=>{h(b)},50)},500)}function ue(){return p(re,{size:"small"},()=>[p(L,{size:20,color:f.value.fontSize!==se?"var(--app-primary-color)":void 0,icon:"ri:font-size",style:{verticalAlign:"-0.45em"}}),p(Ee,{value:f.value.fontSize,"onUpdate:value":b=>{f.value.fontSize=b},min:12,max:40,buttonPlacement:"both",size:"small",style:{textAlign:"center",width:"100px"}})])}function Y(){return p(re,{size:"small"},()=>[p(L,{size:20,color:f.value.wordWrap==="on"?"var(--app-primary-color)":void 0,icon:"charm:swap-horizontal",style:{verticalAlign:"-0.45em"}}),p(C,{size:"small",tertiary:!0,style:{width:"100px"},disabled:K.value,onClick:()=>h("wordWrap")},()=>_("editor.toolbox.wordWrapBtn"))])}function ne(){return p(re,{size:"small"},()=>[p(L,{size:20,color:f.value.renderSideBySide?void 0:"var(--app-primary-color)",icon:"fluent-mdl2:diff-inline",style:{verticalAlign:"-0.45em"}}),p(C,{size:"small",tertiary:!0,style:{width:"100px"},disabled:!oe.value,onClick:()=>h("renderSideBySide")},()=>_("editor.toolbox.inlineModeBtn"))])}function i(){return p(re,{size:"small"},()=>[p(L,{size:20,color:f.value.minimap?"var(--app-primary-color)":void 0,icon:"mdi:map-outline",style:{verticalAlign:"-0.45em"}}),p(C,{size:"small",tertiary:!0,style:{width:"100px"},disabled:K.value,onClick:()=>h("minimap")},()=>_("editor.toolbox.minimapBtn"))])}function ie(){return p(C,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{I("cursorUp")},onMouseup:z,onMouseleave:z,onTouchstart:b=>{b.preventDefault(),I("cursorUp")},onTouchend:z},{icon:()=>p(L,{icon:"mdi:menu-up",size:32})})}function le(){return p(C,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{I("cursorDown")},onMouseup:z,onMouseleave:z,onTouchstart:b=>{b.preventDefault(),I("cursorDown")},onTouchend:z},{icon:()=>p(L,{icon:"mdi:menu-down",size:32})})}function de(){return p(C,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{I("cursorLeft")},onMouseup:z,onMouseleave:z,onTouchstart:b=>{b.preventDefault(),I("cursorLeft")},onTouchend:z},{icon:()=>p(L,{icon:"mdi:menu-left",size:32})})}function fe(){return p(C,{tertiary:!0,focusable:!1,style:{padding:"6px 8px",borderRadius:"8px"},onMousedown:()=>{I("cursorRight")},onMouseup:z,onMouseleave:z,onTouchstart:b=>{b.preventDefault(),I("cursorRight")},onTouchend:z},{icon:()=>p(L,{icon:"mdi:menu-right",size:32})})}function me(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("findBox")},{icon:()=>p(L,{size:22,icon:"mdi:find-replace"}),default:()=>_("editor.toolbox.findBtn")})}function pe(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},disabled:Z.value,onClick:()=>h("cut")},{icon:()=>p(L,{icon:"material-symbols:content-cut-rounded"}),default:()=>_("editor.toolbox.cutBtn")})}function ce(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("copy")},{icon:()=>p(L,{icon:"material-symbols:content-copy-outline-rounded"}),default:()=>_("editor.toolbox.copyBtn")})}function ge(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},disabled:Z.value,onClick:()=>h("paste")},{icon:()=>p(L,{icon:"material-symbols:content-paste-rounded"}),default:()=>_("editor.toolbox.pasteBtn")})}function ve(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("contextMenu")},{icon:()=>p(L,{icon:"material-symbols:menu"}),default:()=>_("editor.toolbox.contextMenuBtn")})}function ye(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",style:{width:"100%"},onClick:()=>h("commandPalette")},{icon:()=>p(L,{icon:"mdi:apple-keyboard-command"}),default:()=>_("editor.toolbox.commandPaletteBtn")})}function be(){return p(C,{size:"small",tertiary:!0,iconPlacement:"left",disabled:x.value,style:{width:"100%"},onClick:()=>h("showShortcutsHelpMenu")},{icon:()=>p(L,{size:20,icon:"gg:shortcut"}),default:()=>_("editor.toolbox.shortcutsBtn")})}function ee(){return p(A,null,{default:()=>[p(A,{vertical:!0},{default:()=>[ue(),Y(),ne(),i(),p(A,{direction:"column",align:"center",justify:"center",style:{width:"130px"}},{default:()=>[de(),p(A,{vertical:!0,style:{gap:"30px"}},{default:()=>[ie(),le()]}),fe()]})]}),p(A,{vertical:!0,class:"button-list",style:{width:"fit-content"}},{default:()=>[me(),pe(),ce(),ge(),ve(),ye(),be()]})]})}async function D(){N.value=!1,setTimeout(()=>{E.value="",W.value="",T.value=!1},500)}return j(s,async b=>{S.value=b}),j(f,async b=>{b&&(K.value=b.inlineMode,Z.value=b.readOnly)}),(b,k)=>{const _e=Ie,a=ot,m=we,w=qe,H=Oe,xe=Fe,ze=De,Le=He;return c(),y(Ne,null,[r(e)?(c(),U(_e,{key:0,show:r(S),"onUpdate:show":k[0]||(k[0]=P=>J(S)?S.value=P:null),trigger:"click","overlap:show-arrow":"false",placement:"bottom-start",style:{padding:"8px"},onOnClickoutside:k[1]||(k[1]=()=>S.value=!1)},{trigger:o(()=>[Pe(b.$slots,"trigger",{show:r(S),toggleShow:()=>S.value=!r(S)},void 0,!0)]),default:o(()=>[v("div",{class:te([r(l)])},[t(ee)],2)]),_:3},8,["show"])):(c(),y("div",{key:1,class:te([r(l)])},[t(ee)],2)),t(w,{show:r(F),"onUpdate:show":k[2]||(k[2]=P=>J(F)?F.value=P:null),preset:"dialog","auto-focus":!1,title:r(_)("editor.shortcuts.title"),class:te({"apple-modal":r(q)()}),style:{width:"fit-content","min-width":"480px"}},{icon:o(()=>[t(m,{size:26},{default:o(()=>[t(a,{style:{"vertical-align":"0"}})]),_:1})]),default:o(()=>[t(Ot)]),_:1},8,["show","title","class"]),r(x)?(c(),U(Le,{key:3,show:r(N),"onUpdate:show":k[8]||(k[8]=P=>J(N)?N.value=P:null),placement:"bottom",height:"280px",style:{width:"100%",margin:"0 auto","border-radius":"1em 1em 0 0"},"auto-focus":!1,"mask-closable":!1,onMaskClick:D,onAfterLeave:D},{default:o(()=>[t(ze,{closable:"","header-style":"border-bottom: none; height: 60px; padding: 16px 12px","body-content-style":"padding: 4px 8px; overscroll-behavior: none","footer-style":"border-top: none; padding: 16px 24px 24px 24px"},{header:o(()=>[n(M(r(E)),1)]),default:o(()=>[t(H,{ref_key:"inputInstRef",ref:$,value:r(W),"onUpdate:value":k[6]||(k[6]=P=>J(W)?W.value=P:null),clearable:r(T),type:"textarea",style:{border:"1px solid var(--app-border-color)","background-color":"transparent","font-family":"var(--app-font-family-mono)"},autosize:{minRows:5,maxRows:5}},null,8,["value","clearable"])]),footer:o(()=>[r(T)?(c(),U(r(A),{key:0,inline:"",wrap:!1,justify:"space-between",style:{gap:"0px",width:"100%"}},{default:o(()=>[t(r(C),{tertiary:"",focusable:!1,style:{width:"50%","border-radius":"8px","margin-left":"-4px"},onClick:D},{default:o(()=>[n(M(r(_)("common.cancelText")),1)]),_:1}),t(r(C),{secondary:"",type:"primary",focusable:!1,disabled:!r(W),style:{width:"50%","border-radius":"8px","margin-left":"8px"},onClick:k[7]||(k[7]=P=>h("pasteConfirm"))},{default:o(()=>[n(M(r(_)("common.okText")),1)]),_:1},8,["disabled"])]),_:1})):(c(),U(r(C),{key:1,block:"",strong:"",secondary:"",type:"primary",focusable:!1,onClick:D},{default:o(()=>[n(M(r(_)("component.modal.close")),1)]),_:1}))]),_:1})]),_:1},8,["show"])):(c(),U(w,{key:2,show:r(N),"onUpdate:show":k[5]||(k[5]=P=>J(N)?N.value=P:null),preset:"dialog","auto-focus":!1,title:r(E),style:{width:"600px"},"show-icon":!1,"on-close":D,"on-mask-click":D},{action:o(()=>[r(T)?(c(),U(r(A),{key:0},{default:o(()=>[t(r(C),{size:"small",tertiary:"",ghost:!1,focusable:!1,onClick:D},{default:o(()=>[n(M(r(_)("common.cancelText")),1)]),_:1}),t(r(C),{size:"small",type:"primary",focusable:!1,onClick:k[4]||(k[4]=P=>h("pasteConfirm"))},{default:o(()=>[n(M(r(_)("common.okText")),1)]),_:1})]),_:1})):Re("",!0)]),default:o(()=>[t(xe,{bordered:!1,style:{height:"100%"},"content-style":"height: 100%; padding: 0; padding-top: 2px"},{default:o(()=>[t(H,{ref_key:"inputInstRef",ref:$,value:r(W),"onUpdate:value":k[3]||(k[3]=P=>J(W)?W.value=P:null),clearable:r(T),type:"textarea",style:{border:"1px solid var(--app-border-color)","background-color":"transparent","font-family":"var(--app-font-family-mono)"},autosize:{minRows:5,maxRows:20}},null,8,["value","clearable"])]),_:1})]),_:1},8,["show","title"]))],64)}}}),Kt=Ue(Ft,[["__scopeId","data-v-03e45a2e"]]),Zt=Te({__name:"index",props:{value:B.object.def({content:"",language:"plaintext"}),originValue:B.string.def(""),diffMode:B.bool.def(!1),readOnly:B.bool.def(!1),fontSize:B.number.def(15),wordWrap:B.oneOf(["off","on"]).def("on"),minimap:B.bool.def(!0),renderSideBySide:B.bool.def(!0),findBox:B.bool.def(!1),inlineMode:B.bool.def(!1)},emits:["update:content"],setup(O,{expose:g,emit:s}){const oe=O,e=s,{value:f,originValue:x,diffMode:l,readOnly:_,fontSize:V,wordWrap:S,minimap:F,renderSideBySide:E,findBox:N,inlineMode:T}=ae(oe),W=Ce({fontSize:V.value,wordWrap:T.value?"on":S.value,renderSideBySide:E.value,minimap:T.value?!1:F.value,findBox:N.value,readOnly:_.value,inlineMode:T.value,isFocused:!1}),{fontSize:$,wordWrap:G,renderSideBySide:Q,minimap:K,findBox:Z,readOnly:se,inlineMode:h,isFocused:z}=ae(W),{getIsMobile:I}=Se(),{getThemeMode:ue}=je(),{prefixCls:Y}=he("code-editor"),ne=Ve();let i=null;const ie={maxTokenizationLineLength:2e4},le={fontFamily:Ge.fontFamilyMono,fontSize:V.value||(I.value?13:15),fontLigatures:!0,lineNumbers:T.value?"off":"on",lineNumbersMinChars:0,padding:{top:I.value?2:10},cursorStyle:"line",cursorBlinking:"smooth",cursorSmoothCaretAnimation:"off",unicodeHighlight:{ambiguousCharacters:!1,invisibleCharacters:!1},inlineSuggest:{enabled:!0,showToolbar:"onHover"},minimap:{enabled:T.value?!1:F.value,autohide:!I.value},stickyScroll:{enabled:!0,maxLineCount:5},guides:{highlightActiveBracketPair:!0,bracketPairs:"active",bracketPairsHorizontal:"active"},bracketPairColorization:{enabled:!1,independentColorPoolPerBracketType:!1},scrollbar:{verticalScrollbarSize:T.value?8:14,horizontal:T.value?"hidden":"auto"},letterSpacing:0,lineHeight:1.5,automaticLayout:!0,autoIndent:"full",quickSuggestionsDelay:200,roundedSelection:!0,glyphMargin:!1,smoothScrolling:!0,wordWrap:T.value?"on":S.value,folding:!0,colorDecorators:!0,occurrencesHighlight:"off",readOnly:_.value,stopRenderingLineAfter:1e4,scrollBeyondLastLine:!T.value,renderLineHighlight:T.value?"none":"line"},de={hideUnchangedRegions:{contextLineCount:3,enabled:!0,minimumLineCount:3,revealLineCount:20},diffWordWrap:T.value?"on":S.value,useInlineViewWhenSpaceIsLimited:!1,ignoreTrimWhitespace:!1,renderSideBySide:E.value};$e(async()=>{["javascript","json"].forEach(m=>{R.createModel("",m).dispose()}),await Xe(Je);const a=ne.value;a&&(l.value?(i=R.createDiffEditor(a,{...ie,...le,...de,lineDecorationsWidth:11}),i.setModel({original:R.createModel(x.value,f.value.language||"plaintext"),modified:R.createModel(f.value.content,f.value.language||"plaintext")})):(i=R.create(a,{...ie,...le,value:f.value.content,language:f.value.language||"plaintext",lineDecorationsWidth:0}),i.getModel().setEOL(R.EndOfLineSequence.LF)),Ke(ue.value),T.value&&(i.onKeyDown(m=>{m.keyCode===Ze.Enter&&m.preventDefault()}),i.onDidChangeModelContent(m=>{let w=i.getValue();w=w.replace(/\n/g," "),e("update:content",{content:w,language:f.value.language})}),i.onDidFocusEditorWidget(()=>{z.value=!0}),i.onDidBlurEditorWidget(()=>{z.value=!1})))}),j(f,async a=>{if(i)if(l.value){const m=i.getModel().modified;m&&m.getLanguageId()!==a.language&&R.setModelLanguage(m,a.language),i.setModel({original:R.createModel(x.value,a.language),modified:R.createModel(a.content,a.language)})}else{const m=i.getModel();m&&m.getLanguageId()!==a.language&&R.setModelLanguage(m,a.language),f.value.value!==a.content&&i.setValue(a.content)}}),j(x,async a=>{i&&i.setModel({original:R.createModel(a,f.value.language),modified:R.createModel(f.value.content,f.value.language)})}),j([S,E,V,_,F],([a,m,w,H,xe])=>{i&&i.updateOptions({wordWrap:a,renderSideBySide:m,fontSize:w,readOnly:H,minimap:{enabled:xe}})}),j([G,Q,$,K],([a,m,w,H])=>{i&&i.updateOptions({wordWrap:a,renderSideBySide:m,fontSize:w,minimap:{enabled:H}})}),j([N,Z],()=>{if(i)if(l.value){const a=i.getOriginalEditor(),m=i.getModifiedEditor(),w=a.getContribution("editor.contrib.findController")._findWidgetVisible.get(),H=m.getContribution("editor.contrib.findController")._findWidgetVisible.get();w?a.trigger("keyboard","closeFindWidget"):a.getAction("actions.find").run(),H?m.trigger("keyboard","closeFindWidget"):m.getAction("actions.find").run()}else{const a=i.getAction("actions.find");i.getContribution("editor.contrib.findController")._findWidgetVisible.get()?i.trigger("keyboard","closeFindWidget"):a.run()}});function fe(){i&&(i.dispose(),R.getModels().forEach(a=>a.dispose()))}function me(){return i?l.value?i.getModifiedEditor().getValue():i.getValue():""}function pe(){if(!i)return;i.getModel()&&i.revealLine(1,0)}function ce(){if(!i)return;const a=i.getModel();if(a){const m=a.getLineCount();i.revealLine(m,0)}}function ge(){if(!i)return;const a=i.getPosition(),m=Math.max(a.lineNumber-1,1);i.setPosition({lineNumber:m,column:a.column}),i.revealLine(m),i.focus()}function ve(){if(!i)return;const a=i.getPosition(),m=a.lineNumber+1;i.setPosition({lineNumber:m,column:a.column}),i.revealLine(m),i.focus()}function ye(){if(!i)return;const a=i.getPosition();i.setPosition({lineNumber:a.lineNumber,column:a.column-1}),i.focus()}function be(){if(!i)return;const a=i.getPosition();i.setPosition({lineNumber:a.lineNumber,column:a.column+1}),i.focus()}function ee(){const a=i.getSelection();if(a.isEmpty()){const m=a.getStartPosition(),w=i.getModel().getLineContent(m.lineNumber);return{text:w,range:new ke(m.lineNumber,1,m.lineNumber,w.length+1)}}else return{text:i.getModel().getValueInRange(a),range:a}}function D(){if(!i)return;const{range:a}=ee();i.executeEdits("",[{range:a,text:""}])}function b(a){if(!i||!a)return;const m=i.getPosition(),w=new ke(m.lineNumber,m.column,m.lineNumber,m.column);i.executeEdits("",[{range:w,text:a,forceMoveMarkers:!0}]);const H={lineNumber:m.lineNumber,column:m.column+a.length};i.setPosition(H)}function k(){if(!i)return;const a=i.getPosition();i.trigger("keyboard","editor.action.showContextMenu",{position:a})}function _e(){i&&(i.focus(),i.trigger("keyboard","editor.action.quickCommand",null))}return Ae(()=>{i.dispose()}),g({getValue:me,dispose:fe,scrollToTop:pe,scrollToBottom:ce,fontSize:$,findBox:Z,wordWrap:G,renderSideBySide:Q,minimap:K,readOnly:se,inlineMode:h,moveCursorUp:ge,moveCursorDown:ve,moveCursorLeft:ye,moveCursorRight:be,getSelectedOrCurrentLineText:ee,clearSelectedOrCurrentLineText:D,insertTextAtCursor:b,showContextMenu:k,showCommandPalette:_e}),(a,m)=>(c(),y("div",{class:te([r(Y)])},[v("div",{ref_key:"MonacoEditorRef",ref:ne,class:te([r(T)?`${r(Y)}-inline-edit-content`:`${r(Y)}-edit-content`,{isFocused:r(T)}])},null,2)],2))}});export{Kt as M,Gt as _,Zt as a};
